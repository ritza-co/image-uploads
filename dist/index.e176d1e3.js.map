{"mappings":"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","sources":["node_modules/@uppy/utils/lib/hasProperty.js","node_modules/@uppy/utils/lib/Translator.js","node_modules/namespace-emitter/index.js","node_modules/nanoid/non-secure/index.js","node_modules/lodash.throttle/index.js","node_modules/@uppy/store-default/lib/index.js","node_modules/@uppy/utils/lib/getFileNameAndExtension.js","node_modules/@uppy/utils/lib/mimeTypes.js","node_modules/@uppy/utils/lib/getFileType.js","node_modules/@uppy/utils/lib/generateFileID.js","node_modules/@uppy/core/lib/supportsUploadProgress.js","node_modules/@uppy/core/lib/getFileName.js","node_modules/@uppy/utils/lib/getTimeStamp.js","node_modules/@uppy/core/lib/loggers.js","node_modules/@transloadit/prettier-bytes/prettierBytes.js","node_modules/wildcard/index.js","node_modules/mime-match/index.js","node_modules/@uppy/core/lib/Restricter.js","node_modules/@uppy/core/lib/locale.js","node_modules/@uppy/core/lib/Uppy.js","node_modules/preact/src/util.js","node_modules/preact/src/options.js","node_modules/preact/src/create-element.js","node_modules/preact/src/component.js","node_modules/preact/src/constants.js","node_modules/preact/src/diff/children.js","node_modules/preact/src/diff/props.js","node_modules/preact/src/diff/index.js","node_modules/preact/src/render.js","node_modules/preact/src/clone-element.js","node_modules/@uppy/utils/lib/isDOMElement.js","node_modules/preact/src/diff/catch-error.js","node_modules/@uppy/utils/lib/getTextDirection.js","node_modules/@uppy/core/lib/BasePlugin.js","node_modules/@uppy/core/lib/UIPlugin.js","node_modules/@uppy/utils/lib/findDOMElement.js","node_modules/@uppy/utils/lib/NetworkError.js","node_modules/@uppy/utils/lib/fetchWithNetworkError.js","node_modules/@uppy/utils/lib/ErrorWithCause.js","node_modules/@uppy/companion-client/lib/AuthError.js","node_modules/@uppy/companion-client/lib/RequestClient.js","node_modules/@uppy/companion-client/lib/tokenStorage.js","node_modules/@uppy/companion-client/lib/Provider.js","node_modules/@uppy/companion-client/lib/Socket.js","node_modules/@uppy/utils/lib/emitSocketProgress.js","node_modules/@uppy/utils/lib/getSocketHost.js","node_modules/@uppy/utils/lib/settle.js","node_modules/@uppy/utils/lib/EventTracker.js","node_modules/@uppy/utils/lib/ProgressTimeout.js","node_modules/@uppy/utils/lib/RateLimitedQueue.js","node_modules/@uppy/utils/lib/isNetworkError.js","node_modules/@uppy/xhr-upload/lib/locale.js","node_modules/@uppy/xhr-upload/lib/index.js","node_modules/@uppy/utils/lib/getSpeed.js","node_modules/@uppy/status-bar/lib/StatusBarStates.js","node_modules/@uppy/status-bar/lib/calculateProcessingProgress.js","node_modules/@uppy/utils/lib/prettyETA.js","node_modules/@uppy/utils/lib/secondsToTime.js","node_modules/classnames/index.js","node_modules/@uppy/status-bar/lib/Components.js","node_modules/@uppy/status-bar/lib/StatusBarUI.js","node_modules/@uppy/status-bar/lib/locale.js","node_modules/@uppy/status-bar/lib/StatusBar.js","node_modules/@uppy/utils/lib/getBytesRemaining.js","node_modules/@uppy/informer/lib/FadeIn.js","node_modules/@uppy/informer/lib/TransitionGroup.js","node_modules/@uppy/informer/lib/Informer.js","node_modules/@uppy/utils/lib/dataURItoBlob.js","node_modules/@uppy/utils/lib/isObjectURL.js","node_modules/@uppy/utils/lib/isPreviewSupported.js","node_modules/process/browser.js","node_modules/buffer/index.js","node_modules/base64-js/index.js","node_modules/ieee754/index.js","node_modules/exifr/dist/mini.esm.mjs","node_modules/@uppy/thumbnail-generator/lib/locale.js","node_modules/@uppy/thumbnail-generator/lib/index.js","node_modules/@uppy/utils/lib/findAllDOMElements.js","node_modules/@uppy/utils/lib/toArray.js","node_modules/@uppy/utils/lib/getDroppedFiles/utils/webkitGetAsEntryApi/getFilesAndDirectoriesFromDirectory.js","node_modules/@uppy/utils/lib/getDroppedFiles/utils/webkitGetAsEntryApi/index.js","node_modules/@uppy/utils/lib/getDroppedFiles/utils/fallbackApi.js","node_modules/@uppy/utils/lib/getDroppedFiles/index.js","node_modules/memoize-one/dist/memoize-one.esm.js","node_modules/@uppy/utils/lib/FOCUSABLE_ELEMENTS.js","node_modules/@uppy/dashboard/lib/utils/getActiveOverlayEl.js","node_modules/@uppy/dashboard/lib/utils/trapFocus.js","node_modules/lodash.debounce/index.js","node_modules/@uppy/dashboard/lib/utils/createSuperFocus.js","node_modules/@uppy/utils/lib/isDragDropSupported.js","node_modules/@uppy/dashboard/lib/utils/getFileTypeIcon.js","node_modules/@uppy/dashboard/lib/components/FilePreview.js","node_modules/is-shallow-equal/index.js","node_modules/@uppy/dashboard/lib/components/FileItem/MetaErrorMessage.js","node_modules/@uppy/dashboard/lib/components/FileItem/FilePreviewAndLink/index.js","node_modules/@uppy/dashboard/lib/components/FileItem/FileProgress/index.js","node_modules/@uppy/dashboard/node_modules/@transloadit/prettier-bytes/prettierBytes.js","node_modules/@uppy/utils/lib/truncateString.js","node_modules/@uppy/dashboard/lib/components/FileItem/FileInfo/index.js","node_modules/@uppy/dashboard/lib/components/FileItem/Buttons/index.js","node_modules/@uppy/dashboard/lib/utils/copyToClipboard.js","node_modules/@uppy/dashboard/lib/components/FileItem/index.js","node_modules/@uppy/dashboard/lib/components/VirtualList.js","node_modules/@uppy/dashboard/lib/components/FileList.js","node_modules/@uppy/dashboard/lib/components/AddFiles.js","node_modules/@uppy/dashboard/lib/components/AddFilesPanel.js","node_modules/@uppy/dashboard/lib/utils/ignoreEvent.js","node_modules/@uppy/dashboard/lib/components/PickerPanelContent.js","node_modules/@uppy/dashboard/lib/components/EditorPanel.js","node_modules/@uppy/dashboard/lib/components/PickerPanelTopBar.js","node_modules/@uppy/dashboard/lib/components/FileCard/index.js","node_modules/@uppy/dashboard/lib/components/Slide.js","node_modules/@uppy/dashboard/lib/components/Dashboard.js","node_modules/@uppy/dashboard/lib/locale.js","node_modules/@uppy/dashboard/lib/Dashboard.js","../node_modules/preact/src/util.js","../node_modules/preact/src/options.js","../node_modules/preact/src/create-element.js","../node_modules/preact/src/component.js","../node_modules/preact/src/constants.js","../node_modules/preact/src/diff/children.js","../node_modules/preact/src/diff/props.js","../node_modules/preact/src/diff/index.js","../node_modules/preact/src/render.js","../node_modules/@uppy/utils/lib/hasProperty.js","../node_modules/@uppy/utils/lib/Translator.js","../node_modules/preact/src/diff/catch-error.js","../node_modules/namespace-emitter/index.js","../node_modules/nanoid/non-secure/index.js","../node_modules/lodash.throttle/index.js","../node_modules/@uppy/store-default/lib/index.js","../node_modules/@uppy/utils/lib/getFileNameAndExtension.js","../node_modules/@uppy/utils/lib/mimeTypes.js","../node_modules/@uppy/utils/lib/getFileType.js","../node_modules/@uppy/utils/lib/generateFileID.js","../node_modules/@uppy/core/lib/supportsUploadProgress.js","../node_modules/@uppy/core/lib/getFileName.js","../node_modules/@uppy/utils/lib/getTimeStamp.js","../node_modules/@uppy/core/lib/loggers.js","../node_modules/@transloadit/prettier-bytes/prettierBytes.js","../node_modules/wildcard/index.js","../node_modules/mime-match/index.js","../node_modules/@uppy/core/lib/Restricter.js","../node_modules/@uppy/core/lib/locale.js","../node_modules/@uppy/core/lib/Uppy.js","../node_modules/@uppy/utils/lib/findDOMElement.js","../node_modules/@uppy/utils/lib/isDOMElement.js","../node_modules/@uppy/utils/lib/getTextDirection.js","../node_modules/@uppy/core/lib/BasePlugin.js","../node_modules/@uppy/core/lib/UIPlugin.js","../node_modules/@uppy/utils/lib/getFileTypeExtension.js","../node_modules/is-mobile/index.js","../node_modules/@uppy/utils/lib/canvasToBlob.js","../node_modules/@uppy/webcam/lib/CameraIcon.js","../node_modules/@uppy/webcam/lib/SnapshotButton.js","../node_modules/@uppy/webcam/lib/RecordButton.js","../node_modules/@uppy/webcam/lib/RecordingLength.js","../node_modules/@uppy/webcam/lib/formatSeconds.js","../node_modules/@uppy/webcam/lib/VideoSourceSelect.js","../node_modules/@uppy/webcam/lib/SubmitButton.js","../node_modules/@uppy/webcam/lib/DiscardButton.js","../node_modules/@uppy/webcam/lib/CameraScreen.js","../node_modules/@uppy/webcam/lib/PermissionsScreen.js","../node_modules/@uppy/webcam/lib/locale.js","../node_modules/@uppy/webcam/lib/Webcam.js","../node_modules/@uppy/webcam/lib/supportsMediaRecorder.js","app.js"],"sourcesContent":["export default function has(object, key) {\n  return Object.prototype.hasOwnProperty.call(object, key);\n}","function _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\n\nvar id = 0;\n\nfunction _classPrivateFieldLooseKey(name) { return \"__private_\" + id++ + \"_\" + name; }\n\nimport has from './hasProperty.js';\n\nfunction insertReplacement(source, rx, replacement) {\n  const newParts = [];\n  source.forEach(chunk => {\n    // When the source contains multiple placeholders for interpolation,\n    // we should ignore chunks that are not strings, because those\n    // can be JSX objects and will be otherwise incorrectly turned into strings.\n    // Without this condition wed get this: [object Object] hello [object Object] my <button>\n    if (typeof chunk !== 'string') {\n      return newParts.push(chunk);\n    }\n\n    return rx[Symbol.split](chunk).forEach((raw, i, list) => {\n      if (raw !== '') {\n        newParts.push(raw);\n      } // Interlace with the `replacement` value\n\n\n      if (i < list.length - 1) {\n        newParts.push(replacement);\n      }\n    });\n  });\n  return newParts;\n}\n/**\n * Takes a string with placeholder variables like `%{smart_count} file selected`\n * and replaces it with values from options `{smart_count: 5}`\n *\n * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE\n * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299\n *\n * @param {string} phrase that needs interpolation, with placeholders\n * @param {object} options with values that will be used to replace placeholders\n * @returns {any[]} interpolated\n */\n\n\nfunction interpolate(phrase, options) {\n  const dollarRegex = /\\$/g;\n  const dollarBillsYall = '$$$$';\n  let interpolated = [phrase];\n  if (options == null) return interpolated;\n\n  for (const arg of Object.keys(options)) {\n    if (arg !== '_') {\n      // Ensure replacement value is escaped to prevent special $-prefixed\n      // regex replace tokens. the \"$$$$\" is needed because each \"$\" needs to\n      // be escaped with \"$\" itself, and we need two in the resulting output.\n      let replacement = options[arg];\n\n      if (typeof replacement === 'string') {\n        replacement = dollarRegex[Symbol.replace](replacement, dollarBillsYall);\n      } // We create a new `RegExp` each time instead of using a more-efficient\n      // string replace so that the same argument can be replaced multiple times\n      // in the same phrase.\n\n\n      interpolated = insertReplacement(interpolated, new RegExp(`%\\\\{${arg}\\\\}`, 'g'), replacement);\n    }\n  }\n\n  return interpolated;\n}\n/**\n * Translates strings with interpolation & pluralization support.\n * Extensible with custom dictionaries and pluralization functions.\n *\n * Borrows heavily from and inspired by Polyglot https://github.com/airbnb/polyglot.js,\n * basically a stripped-down version of it. Differences: pluralization functions are not hardcoded\n * and can be easily added among with dictionaries, nested objects are used for pluralization\n * as opposed to `||||` delimeter\n *\n * Usage example: `translator.translate('files_chosen', {smart_count: 3})`\n */\n\n\nvar _apply = /*#__PURE__*/_classPrivateFieldLooseKey(\"apply\");\n\nexport default class Translator {\n  /**\n   * @param {object|Array<object>} locales - locale or list of locales.\n   */\n  constructor(locales) {\n    Object.defineProperty(this, _apply, {\n      value: _apply2\n    });\n    this.locale = {\n      strings: {},\n\n      pluralize(n) {\n        if (n === 1) {\n          return 0;\n        }\n\n        return 1;\n      }\n\n    };\n\n    if (Array.isArray(locales)) {\n      locales.forEach(_classPrivateFieldLooseBase(this, _apply)[_apply], this);\n    } else {\n      _classPrivateFieldLooseBase(this, _apply)[_apply](locales);\n    }\n  }\n\n  /**\n   * Public translate method\n   *\n   * @param {string} key\n   * @param {object} options with values that will be used later to replace placeholders in string\n   * @returns {string} translated (and interpolated)\n   */\n  translate(key, options) {\n    return this.translateArray(key, options).join('');\n  }\n  /**\n   * Get a translation and return the translated and interpolated parts as an array.\n   *\n   * @param {string} key\n   * @param {object} options with values that will be used to replace placeholders\n   * @returns {Array} The translated and interpolated parts, in order.\n   */\n\n\n  translateArray(key, options) {\n    if (!has(this.locale.strings, key)) {\n      throw new Error(`missing string: ${key}`);\n    }\n\n    const string = this.locale.strings[key];\n    const hasPluralForms = typeof string === 'object';\n\n    if (hasPluralForms) {\n      if (options && typeof options.smart_count !== 'undefined') {\n        const plural = this.locale.pluralize(options.smart_count);\n        return interpolate(string[plural], options);\n      }\n\n      throw new Error('Attempted to use a string with plural forms, but no value was given for %{smart_count}');\n    }\n\n    return interpolate(string, options);\n  }\n\n}\n\nfunction _apply2(locale) {\n  if (!(locale != null && locale.strings)) {\n    return;\n  }\n\n  const prevLocale = this.locale;\n  this.locale = { ...prevLocale,\n    strings: { ...prevLocale.strings,\n      ...locale.strings\n    }\n  };\n  this.locale.pluralize = locale.pluralize || prevLocale.pluralize;\n}","/**\n* Create an event emitter with namespaces\n* @name createNamespaceEmitter\n* @example\n* var emitter = require('./index')()\n*\n* emitter.on('*', function () {\n*   console.log('all events emitted', this.event)\n* })\n*\n* emitter.on('example', function () {\n*   console.log('example event emitted')\n* })\n*/\nmodule.exports = function createNamespaceEmitter () {\n  var emitter = {}\n  var _fns = emitter._fns = {}\n\n  /**\n  * Emit an event. Optionally namespace the event. Handlers are fired in the order in which they were added with exact matches taking precedence. Separate the namespace and event with a `:`\n  * @name emit\n  * @param {String} event  the name of the event, with optional namespace\n  * @param {...*} data  up to 6 arguments that are passed to the event listener\n  * @example\n  * emitter.emit('example')\n  * emitter.emit('demo:test')\n  * emitter.emit('data', { example: true}, 'a string', 1)\n  */\n  emitter.emit = function emit (event, arg1, arg2, arg3, arg4, arg5, arg6) {\n    var toEmit = getListeners(event)\n\n    if (toEmit.length) {\n      emitAll(event, toEmit, [arg1, arg2, arg3, arg4, arg5, arg6])\n    }\n  }\n\n  /**\n  * Create en event listener.\n  * @name on\n  * @param {String} event\n  * @param {Function} fn\n  * @example\n  * emitter.on('example', function () {})\n  * emitter.on('demo', function () {})\n  */\n  emitter.on = function on (event, fn) {\n    if (!_fns[event]) {\n      _fns[event] = []\n    }\n\n    _fns[event].push(fn)\n  }\n\n  /**\n  * Create en event listener that fires once.\n  * @name once\n  * @param {String} event\n  * @param {Function} fn\n  * @example\n  * emitter.once('example', function () {})\n  * emitter.once('demo', function () {})\n  */\n  emitter.once = function once (event, fn) {\n    function one () {\n      fn.apply(this, arguments)\n      emitter.off(event, one)\n    }\n    this.on(event, one)\n  }\n\n  /**\n  * Stop listening to an event. Stop all listeners on an event by only passing the event name. Stop a single listener by passing that event handler as a callback.\n  * You must be explicit about what will be unsubscribed: `emitter.off('demo')` will unsubscribe an `emitter.on('demo')` listener,\n  * `emitter.off('demo:example')` will unsubscribe an `emitter.on('demo:example')` listener\n  * @name off\n  * @param {String} event\n  * @param {Function} [fn]  the specific handler\n  * @example\n  * emitter.off('example')\n  * emitter.off('demo', function () {})\n  */\n  emitter.off = function off (event, fn) {\n    var keep = []\n\n    if (event && fn) {\n      var fns = this._fns[event]\n      var i = 0\n      var l = fns ? fns.length : 0\n\n      for (i; i < l; i++) {\n        if (fns[i] !== fn) {\n          keep.push(fns[i])\n        }\n      }\n    }\n\n    keep.length ? this._fns[event] = keep : delete this._fns[event]\n  }\n\n  function getListeners (e) {\n    var out = _fns[e] ? _fns[e] : []\n    var idx = e.indexOf(':')\n    var args = (idx === -1) ? [e] : [e.substring(0, idx), e.substring(idx + 1)]\n\n    var keys = Object.keys(_fns)\n    var i = 0\n    var l = keys.length\n\n    for (i; i < l; i++) {\n      var key = keys[i]\n      if (key === '*') {\n        out = out.concat(_fns[key])\n      }\n\n      if (args.length === 2 && args[0] === key) {\n        out = out.concat(_fns[key])\n        break\n      }\n    }\n\n    return out\n  }\n\n  function emitAll (e, fns, args) {\n    var i = 0\n    var l = fns.length\n\n    for (i; i < l; i++) {\n      if (!fns[i]) break\n      fns[i].event = e\n      fns[i].apply(fns[i], args)\n    }\n  }\n\n  return emitter\n}\n","let urlAlphabet =\n  'useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict'\nexport let customAlphabet = (alphabet, defaultSize = 21) => {\n  return (size = defaultSize) => {\n    let id = ''\n    let i = size\n    while (i--) {\n      id += alphabet[(Math.random() * alphabet.length) | 0]\n    }\n    return id\n  }\n}\nexport let nanoid = (size = 21) => {\n  let id = ''\n  let i = size\n  while (i--) {\n    id += urlAlphabet[(Math.random() * 64) | 0]\n  }\n  return id\n}\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","function _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\n\nvar id = 0;\n\nfunction _classPrivateFieldLooseKey(name) { return \"__private_\" + id++ + \"_\" + name; }\n\nconst packageJson = {\n  \"version\": \"3.0.2\"\n};\n/**\n * Default store that keeps state in a simple object.\n */\n\nvar _callbacks = /*#__PURE__*/_classPrivateFieldLooseKey(\"callbacks\");\n\nvar _publish = /*#__PURE__*/_classPrivateFieldLooseKey(\"publish\");\n\nclass DefaultStore {\n  constructor() {\n    Object.defineProperty(this, _publish, {\n      value: _publish2\n    });\n    Object.defineProperty(this, _callbacks, {\n      writable: true,\n      value: new Set()\n    });\n    this.state = {};\n  }\n\n  getState() {\n    return this.state;\n  }\n\n  setState(patch) {\n    const prevState = { ...this.state\n    };\n    const nextState = { ...this.state,\n      ...patch\n    };\n    this.state = nextState;\n\n    _classPrivateFieldLooseBase(this, _publish)[_publish](prevState, nextState, patch);\n  }\n\n  subscribe(listener) {\n    _classPrivateFieldLooseBase(this, _callbacks)[_callbacks].add(listener);\n\n    return () => {\n      _classPrivateFieldLooseBase(this, _callbacks)[_callbacks].delete(listener);\n    };\n  }\n\n}\n\nfunction _publish2() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  _classPrivateFieldLooseBase(this, _callbacks)[_callbacks].forEach(listener => {\n    listener(...args);\n  });\n}\n\nDefaultStore.VERSION = packageJson.version;\nexport default DefaultStore;","/**\n * Takes a full filename string and returns an object {name, extension}\n *\n * @param {string} fullFileName\n * @returns {object} {name, extension}\n */\nexport default function getFileNameAndExtension(fullFileName) {\n  const lastDot = fullFileName.lastIndexOf('.'); // these count as no extension: \"no-dot\", \"trailing-dot.\"\n\n  if (lastDot === -1 || lastDot === fullFileName.length - 1) {\n    return {\n      name: fullFileName,\n      extension: undefined\n    };\n  }\n\n  return {\n    name: fullFileName.slice(0, lastDot),\n    extension: fullFileName.slice(lastDot + 1)\n  };\n}","// ___Why not add the mime-types package?\n//    It's 19.7kB gzipped, and we only need mime types for well-known extensions (for file previews).\n// ___Where to take new extensions from?\n//    https://github.com/jshttp/mime-db/blob/master/db.json\nexport default {\n  md: 'text/markdown',\n  markdown: 'text/markdown',\n  mp4: 'video/mp4',\n  mp3: 'audio/mp3',\n  svg: 'image/svg+xml',\n  jpg: 'image/jpeg',\n  png: 'image/png',\n  webp: 'image/webp',\n  gif: 'image/gif',\n  heic: 'image/heic',\n  heif: 'image/heif',\n  yaml: 'text/yaml',\n  yml: 'text/yaml',\n  csv: 'text/csv',\n  tsv: 'text/tab-separated-values',\n  tab: 'text/tab-separated-values',\n  avi: 'video/x-msvideo',\n  mks: 'video/x-matroska',\n  mkv: 'video/x-matroska',\n  mov: 'video/quicktime',\n  dicom: 'application/dicom',\n  doc: 'application/msword',\n  docm: 'application/vnd.ms-word.document.macroenabled.12',\n  docx: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n  dot: 'application/msword',\n  dotm: 'application/vnd.ms-word.template.macroenabled.12',\n  dotx: 'application/vnd.openxmlformats-officedocument.wordprocessingml.template',\n  xla: 'application/vnd.ms-excel',\n  xlam: 'application/vnd.ms-excel.addin.macroenabled.12',\n  xlc: 'application/vnd.ms-excel',\n  xlf: 'application/x-xliff+xml',\n  xlm: 'application/vnd.ms-excel',\n  xls: 'application/vnd.ms-excel',\n  xlsb: 'application/vnd.ms-excel.sheet.binary.macroenabled.12',\n  xlsm: 'application/vnd.ms-excel.sheet.macroenabled.12',\n  xlsx: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n  xlt: 'application/vnd.ms-excel',\n  xltm: 'application/vnd.ms-excel.template.macroenabled.12',\n  xltx: 'application/vnd.openxmlformats-officedocument.spreadsheetml.template',\n  xlw: 'application/vnd.ms-excel',\n  txt: 'text/plain',\n  text: 'text/plain',\n  conf: 'text/plain',\n  log: 'text/plain',\n  pdf: 'application/pdf',\n  zip: 'application/zip',\n  '7z': 'application/x-7z-compressed',\n  rar: 'application/x-rar-compressed',\n  tar: 'application/x-tar',\n  gz: 'application/gzip',\n  dmg: 'application/x-apple-diskimage'\n};","import getFileNameAndExtension from './getFileNameAndExtension.js';\nimport mimeTypes from './mimeTypes.js';\nexport default function getFileType(file) {\n  var _getFileNameAndExtens;\n\n  if (file.type) return file.type;\n  const fileExtension = file.name ? (_getFileNameAndExtens = getFileNameAndExtension(file.name).extension) == null ? void 0 : _getFileNameAndExtens.toLowerCase() : null;\n\n  if (fileExtension && fileExtension in mimeTypes) {\n    // else, see if we can map extension to a mime type\n    return mimeTypes[fileExtension];\n  } // if all fails, fall back to a generic byte stream type\n\n\n  return 'application/octet-stream';\n}","function encodeCharacter(character) {\n  return character.charCodeAt(0).toString(32);\n}\n\nfunction encodeFilename(name) {\n  let suffix = '';\n  return name.replace(/[^A-Z0-9]/ig, character => {\n    suffix += `-${encodeCharacter(character)}`;\n    return '/';\n  }) + suffix;\n}\n/**\n * Takes a file object and turns it into fileID, by converting file.name to lowercase,\n * removing extra characters and adding type, size and lastModified\n *\n * @param {object} file\n * @returns {string} the fileID\n */\n\n\nexport default function generateFileID(file) {\n  // It's tempting to do `[items].filter(Boolean).join('-')` here, but that\n  // is slower! simple string concatenation is fast\n  let id = 'uppy';\n\n  if (typeof file.name === 'string') {\n    id += `-${encodeFilename(file.name.toLowerCase())}`;\n  }\n\n  if (file.type !== undefined) {\n    id += `-${file.type}`;\n  }\n\n  if (file.meta && typeof file.meta.relativePath === 'string') {\n    id += `-${encodeFilename(file.meta.relativePath.toLowerCase())}`;\n  }\n\n  if (file.data.size !== undefined) {\n    id += `-${file.data.size}`;\n  }\n\n  if (file.data.lastModified !== undefined) {\n    id += `-${file.data.lastModified}`;\n  }\n\n  return id;\n}","// Edge 15.x does not fire 'progress' events on uploads.\n// See https://github.com/transloadit/uppy/issues/945\n// And https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/12224510/\nexport default function supportsUploadProgress(userAgent) {\n  // Allow passing in userAgent for tests\n  if (userAgent == null && typeof navigator !== 'undefined') {\n    // eslint-disable-next-line no-param-reassign\n    userAgent = navigator.userAgent;\n  } // Assume it works because basically everything supports progress events.\n\n\n  if (!userAgent) return true;\n  const m = /Edge\\/(\\d+\\.\\d+)/.exec(userAgent);\n  if (!m) return true;\n  const edgeVersion = m[1];\n  let [major, minor] = edgeVersion.split('.');\n  major = parseInt(major, 10);\n  minor = parseInt(minor, 10); // Worked before:\n  // Edge 40.15063.0.0\n  // Microsoft EdgeHTML 15.15063\n\n  if (major < 15 || major === 15 && minor < 15063) {\n    return true;\n  } // Fixed in:\n  // Microsoft EdgeHTML 18.18218\n\n\n  if (major > 18 || major === 18 && minor >= 18218) {\n    return true;\n  } // other versions don't work.\n\n\n  return false;\n}","export default function getFileName(fileType, fileDescriptor) {\n  if (fileDescriptor.name) {\n    return fileDescriptor.name;\n  }\n\n  if (fileType.split('/')[0] === 'image') {\n    return `${fileType.split('/')[0]}.${fileType.split('/')[1]}`;\n  }\n\n  return 'noname';\n}","/**\n * Adds zero to strings shorter than two characters.\n *\n * @param {number} number\n * @returns {string}\n */\nfunction pad(number) {\n  return number < 10 ? `0${number}` : number.toString();\n}\n/**\n * Returns a timestamp in the format of `hours:minutes:seconds`\n */\n\n\nexport default function getTimeStamp() {\n  const date = new Date();\n  const hours = pad(date.getHours());\n  const minutes = pad(date.getMinutes());\n  const seconds = pad(date.getSeconds());\n  return `${hours}:${minutes}:${seconds}`;\n}","/* eslint-disable no-console */\nimport getTimeStamp from '@uppy/utils/lib/getTimeStamp'; // Swallow all logs, except errors.\n// default if logger is not set or debug: false\n\nconst justErrorsLogger = {\n  debug: () => {},\n  warn: () => {},\n  error: function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return console.error(`[Uppy] [${getTimeStamp()}]`, ...args);\n  }\n}; // Print logs to console with namespace + timestamp,\n// set by logger: Uppy.debugLogger or debug: true\n\nconst debugLogger = {\n  debug: function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return console.debug(`[Uppy] [${getTimeStamp()}]`, ...args);\n  },\n  warn: function () {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    return console.warn(`[Uppy] [${getTimeStamp()}]`, ...args);\n  },\n  error: function () {\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n\n    return console.error(`[Uppy] [${getTimeStamp()}]`, ...args);\n  }\n};\nexport { justErrorsLogger, debugLogger };","// Adapted from https://github.com/Flet/prettier-bytes/\n// Changing 1000 bytes to 1024, so we can keep uppercase KB vs kB\n// ISC License (c) Dan Flettre https://github.com/Flet/prettier-bytes/blob/master/LICENSE\nmodule.exports = function prettierBytes (num) {\n  if (typeof num !== 'number' || isNaN(num)) {\n    throw new TypeError(`Expected a number, got ${typeof num}`)\n  }\n\n  const neg = num < 0\n  const units = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\n\n  if (neg) {\n    num = -num\n  }\n\n  if (num < 1) {\n    return `${(neg ? '-' : '') + num} B`\n  }\n\n  const exponent = Math.min(Math.floor(Math.log(num) / Math.log(1024)), units.length - 1)\n  num = Number(num / Math.pow(1024, exponent))\n  const unit = units[exponent]\n\n  if (num >= 10 || num % 1 === 0) {\n    // Do not show decimals when the number is two-digit, or if the number has no\n    // decimal component.\n    return `${(neg ? '-' : '') + num.toFixed(0)} ${unit}`\n  }\n  return `${(neg ? '-' : '') + num.toFixed(1)} ${unit}`\n}\n","/* jshint node: true */\n'use strict';\n\n/**\n  # wildcard\n\n  Very simple wildcard matching, which is designed to provide the same\n  functionality that is found in the\n  [eve](https://github.com/adobe-webplatform/eve) eventing library.\n\n  ## Usage\n\n  It works with strings:\n\n  <<< examples/strings.js\n\n  Arrays:\n\n  <<< examples/arrays.js\n\n  Objects (matching against keys):\n\n  <<< examples/objects.js\n\n  While the library works in Node, if you are are looking for file-based\n  wildcard matching then you should have a look at:\n\n  <https://github.com/isaacs/node-glob>\n**/\n\nfunction WildcardMatcher(text, separator) {\n  this.text = text = text || '';\n  this.hasWild = ~text.indexOf('*');\n  this.separator = separator;\n  this.parts = text.split(separator);\n}\n\nWildcardMatcher.prototype.match = function(input) {\n  var matches = true;\n  var parts = this.parts;\n  var ii;\n  var partsCount = parts.length;\n  var testParts;\n\n  if (typeof input == 'string' || input instanceof String) {\n    if (!this.hasWild && this.text != input) {\n      matches = false;\n    } else {\n      testParts = (input || '').split(this.separator);\n      for (ii = 0; matches && ii < partsCount; ii++) {\n        if (parts[ii] === '*')  {\n          continue;\n        } else if (ii < testParts.length) {\n          matches = parts[ii] === testParts[ii];\n        } else {\n          matches = false;\n        }\n      }\n\n      // If matches, then return the component parts\n      matches = matches && testParts;\n    }\n  }\n  else if (typeof input.splice == 'function') {\n    matches = [];\n\n    for (ii = input.length; ii--; ) {\n      if (this.match(input[ii])) {\n        matches[matches.length] = input[ii];\n      }\n    }\n  }\n  else if (typeof input == 'object') {\n    matches = {};\n\n    for (var key in input) {\n      if (this.match(key)) {\n        matches[key] = input[key];\n      }\n    }\n  }\n\n  return matches;\n};\n\nmodule.exports = function(text, test, separator) {\n  var matcher = new WildcardMatcher(text, separator || /[\\/\\.]/);\n  if (typeof test != 'undefined') {\n    return matcher.match(test);\n  }\n\n  return matcher;\n};\n","var wildcard = require('wildcard');\nvar reMimePartSplit = /[\\/\\+\\.]/;\n\n/**\n  # mime-match\n\n  A simple function to checker whether a target mime type matches a mime-type\n  pattern (e.g. image/jpeg matches image/jpeg OR image/*).\n\n  ## Example Usage\n\n  <<< example.js\n\n**/\nmodule.exports = function(target, pattern) {\n  function test(pattern) {\n    var result = wildcard(pattern, target, reMimePartSplit);\n\n    // ensure that we have a valid mime type (should have two parts)\n    return result && result.length >= 2;\n  }\n\n  return pattern ? test(pattern.split(';')[0]) : test;\n};\n","/* eslint-disable max-classes-per-file, class-methods-use-this */\nimport prettierBytes from '@transloadit/prettier-bytes';\nimport match from 'mime-match';\nconst defaultOptions = {\n  maxFileSize: null,\n  minFileSize: null,\n  maxTotalFileSize: null,\n  maxNumberOfFiles: null,\n  minNumberOfFiles: null,\n  allowedFileTypes: null,\n  requiredMetaFields: []\n};\n\nclass RestrictionError extends Error {\n  constructor() {\n    super(...arguments);\n    this.isRestriction = true;\n  }\n\n}\n\nclass Restricter {\n  constructor(getOpts, i18n) {\n    this.i18n = i18n;\n\n    this.getOpts = () => {\n      const opts = getOpts();\n\n      if (opts.restrictions.allowedFileTypes != null && !Array.isArray(opts.restrictions.allowedFileTypes)) {\n        throw new TypeError('`restrictions.allowedFileTypes` must be an array');\n      }\n\n      return opts;\n    };\n  }\n\n  validate(file, files) {\n    const {\n      maxFileSize,\n      minFileSize,\n      maxTotalFileSize,\n      maxNumberOfFiles,\n      allowedFileTypes\n    } = this.getOpts().restrictions;\n\n    if (maxNumberOfFiles) {\n      const nonGhostFiles = files.filter(f => !f.isGhost);\n\n      if (nonGhostFiles.length + 1 > maxNumberOfFiles) {\n        throw new RestrictionError(`${this.i18n('youCanOnlyUploadX', {\n          smart_count: maxNumberOfFiles\n        })}`);\n      }\n    }\n\n    if (allowedFileTypes) {\n      const isCorrectFileType = allowedFileTypes.some(type => {\n        // check if this is a mime-type\n        if (type.includes('/')) {\n          if (!file.type) return false;\n          return match(file.type.replace(/;.*?$/, ''), type);\n        } // otherwise this is likely an extension\n\n\n        if (type[0] === '.' && file.extension) {\n          return file.extension.toLowerCase() === type.slice(1).toLowerCase();\n        }\n\n        return false;\n      });\n\n      if (!isCorrectFileType) {\n        const allowedFileTypesString = allowedFileTypes.join(', ');\n        throw new RestrictionError(this.i18n('youCanOnlyUploadFileTypes', {\n          types: allowedFileTypesString\n        }));\n      }\n    } // We can't check maxTotalFileSize if the size is unknown.\n\n\n    if (maxTotalFileSize && file.size != null) {\n      const totalFilesSize = files.reduce((total, f) => total + f.size, file.size);\n\n      if (totalFilesSize > maxTotalFileSize) {\n        throw new RestrictionError(this.i18n('exceedsSize', {\n          size: prettierBytes(maxTotalFileSize),\n          file: file.name\n        }));\n      }\n    } // We can't check maxFileSize if the size is unknown.\n\n\n    if (maxFileSize && file.size != null && file.size > maxFileSize) {\n      throw new RestrictionError(this.i18n('exceedsSize', {\n        size: prettierBytes(maxFileSize),\n        file: file.name\n      }));\n    } // We can't check minFileSize if the size is unknown.\n\n\n    if (minFileSize && file.size != null && file.size < minFileSize) {\n      throw new RestrictionError(this.i18n('inferiorSize', {\n        size: prettierBytes(minFileSize)\n      }));\n    }\n  }\n\n  validateMinNumberOfFiles(files) {\n    const {\n      minNumberOfFiles\n    } = this.getOpts().restrictions;\n\n    if (Object.keys(files).length < minNumberOfFiles) {\n      throw new RestrictionError(this.i18n('youHaveToAtLeastSelectX', {\n        smart_count: minNumberOfFiles\n      }));\n    }\n  }\n\n  getMissingRequiredMetaFields(file) {\n    const error = new RestrictionError(this.i18n('missingRequiredMetaFieldOnFile', {\n      fileName: file.name\n    }));\n    const {\n      requiredMetaFields\n    } = this.getOpts().restrictions;\n    const missingFields = [];\n\n    for (const field of requiredMetaFields) {\n      if (!Object.hasOwn(file.meta, field) || file.meta[field] === '') {\n        missingFields.push(field);\n      }\n    }\n\n    return {\n      missingFields,\n      error\n    };\n  }\n\n}\n\nexport { Restricter, defaultOptions, RestrictionError };","export default {\n  strings: {\n    addBulkFilesFailed: {\n      0: 'Failed to add %{smart_count} file due to an internal error',\n      1: 'Failed to add %{smart_count} files due to internal errors'\n    },\n    youCanOnlyUploadX: {\n      0: 'You can only upload %{smart_count} file',\n      1: 'You can only upload %{smart_count} files'\n    },\n    youHaveToAtLeastSelectX: {\n      0: 'You have to select at least %{smart_count} file',\n      1: 'You have to select at least %{smart_count} files'\n    },\n    exceedsSize: '%{file} exceeds maximum allowed size of %{size}',\n    missingRequiredMetaField: 'Missing required meta fields',\n    missingRequiredMetaFieldOnFile: 'Missing required meta fields in %{fileName}',\n    inferiorSize: 'This file is smaller than the allowed size of %{size}',\n    youCanOnlyUploadFileTypes: 'You can only upload: %{types}',\n    noMoreFilesAllowed: 'Cannot add more files',\n    noDuplicates: \"Cannot add the duplicate file '%{fileName}', it already exists\",\n    companionError: 'Connection with Companion failed',\n    authAborted: 'Authentication aborted',\n    companionUnauthorizeHint: 'To unauthorize to your %{provider} account, please go to %{url}',\n    failedToUpload: 'Failed to upload %{file}',\n    noInternetConnection: 'No Internet connection',\n    connectedToInternet: 'Connected to the Internet',\n    // Strings for remote providers\n    noFilesFound: 'You have no files or folders here',\n    selectX: {\n      0: 'Select %{smart_count}',\n      1: 'Select %{smart_count}'\n    },\n    allFilesFromFolderNamed: 'All files from folder %{name}',\n    openFolderNamed: 'Open folder %{name}',\n    cancel: 'Cancel',\n    logOut: 'Log out',\n    filter: 'Filter',\n    resetFilter: 'Reset filter',\n    loading: 'Loading...',\n    authenticateWithTitle: 'Please authenticate with %{pluginName} to select files',\n    authenticateWith: 'Connect to %{pluginName}',\n    signInWithGoogle: 'Sign in with Google',\n    searchImages: 'Search for images',\n    enterTextToSearch: 'Enter text to search for images',\n    search: 'Search',\n    emptyFolderAdded: 'No files were added from empty folder',\n    folderAlreadyAdded: 'The folder \"%{folder}\" was already added',\n    folderAdded: {\n      0: 'Added %{smart_count} file from %{folder}',\n      1: 'Added %{smart_count} files from %{folder}'\n    }\n  }\n};","let _Symbol$for, _Symbol$for2;\n\nfunction _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\n\nvar id = 0;\n\nfunction _classPrivateFieldLooseKey(name) { return \"__private_\" + id++ + \"_\" + name; }\n\n/* eslint-disable max-classes-per-file */\n\n/* global AggregateError */\nimport Translator from '@uppy/utils/lib/Translator';\nimport ee from 'namespace-emitter';\nimport { nanoid } from 'nanoid/non-secure';\nimport throttle from 'lodash.throttle';\nimport DefaultStore from '@uppy/store-default';\nimport getFileType from '@uppy/utils/lib/getFileType';\nimport getFileNameAndExtension from '@uppy/utils/lib/getFileNameAndExtension';\nimport generateFileID from '@uppy/utils/lib/generateFileID';\nimport supportsUploadProgress from './supportsUploadProgress.js';\nimport getFileName from './getFileName.js';\nimport { justErrorsLogger, debugLogger } from './loggers.js';\nimport { Restricter, defaultOptions as defaultRestrictionOptions, RestrictionError } from './Restricter.js';\nconst packageJson = {\n  \"version\": \"3.0.3\"\n};\nimport locale from './locale.js';\n/**\n * Uppy Core module.\n * Manages plugins, state updates, acts as an event bus,\n * adds/removes files and metadata.\n */\n\nvar _plugins = /*#__PURE__*/_classPrivateFieldLooseKey(\"plugins\");\n\nvar _restricter = /*#__PURE__*/_classPrivateFieldLooseKey(\"restricter\");\n\nvar _storeUnsubscribe = /*#__PURE__*/_classPrivateFieldLooseKey(\"storeUnsubscribe\");\n\nvar _emitter = /*#__PURE__*/_classPrivateFieldLooseKey(\"emitter\");\n\nvar _preProcessors = /*#__PURE__*/_classPrivateFieldLooseKey(\"preProcessors\");\n\nvar _uploaders = /*#__PURE__*/_classPrivateFieldLooseKey(\"uploaders\");\n\nvar _postProcessors = /*#__PURE__*/_classPrivateFieldLooseKey(\"postProcessors\");\n\nvar _informAndEmit = /*#__PURE__*/_classPrivateFieldLooseKey(\"informAndEmit\");\n\nvar _checkRequiredMetaFieldsOnFile = /*#__PURE__*/_classPrivateFieldLooseKey(\"checkRequiredMetaFieldsOnFile\");\n\nvar _checkRequiredMetaFields = /*#__PURE__*/_classPrivateFieldLooseKey(\"checkRequiredMetaFields\");\n\nvar _assertNewUploadAllowed = /*#__PURE__*/_classPrivateFieldLooseKey(\"assertNewUploadAllowed\");\n\nvar _checkAndCreateFileStateObject = /*#__PURE__*/_classPrivateFieldLooseKey(\"checkAndCreateFileStateObject\");\n\nvar _startIfAutoProceed = /*#__PURE__*/_classPrivateFieldLooseKey(\"startIfAutoProceed\");\n\nvar _addListeners = /*#__PURE__*/_classPrivateFieldLooseKey(\"addListeners\");\n\nvar _updateOnlineStatus = /*#__PURE__*/_classPrivateFieldLooseKey(\"updateOnlineStatus\");\n\nvar _createUpload = /*#__PURE__*/_classPrivateFieldLooseKey(\"createUpload\");\n\nvar _getUpload = /*#__PURE__*/_classPrivateFieldLooseKey(\"getUpload\");\n\nvar _removeUpload = /*#__PURE__*/_classPrivateFieldLooseKey(\"removeUpload\");\n\nvar _runUpload = /*#__PURE__*/_classPrivateFieldLooseKey(\"runUpload\");\n\n_Symbol$for = Symbol.for('uppy test: getPlugins');\n_Symbol$for2 = Symbol.for('uppy test: createUpload');\n\nclass Uppy {\n  /** @type {Record<string, BasePlugin[]>} */\n\n  /**\n   * Instantiate Uppy\n   *\n   * @param {object} opts  Uppy options\n   */\n  constructor(_opts) {\n    Object.defineProperty(this, _runUpload, {\n      value: _runUpload2\n    });\n    Object.defineProperty(this, _removeUpload, {\n      value: _removeUpload2\n    });\n    Object.defineProperty(this, _getUpload, {\n      value: _getUpload2\n    });\n    Object.defineProperty(this, _createUpload, {\n      value: _createUpload2\n    });\n    Object.defineProperty(this, _addListeners, {\n      value: _addListeners2\n    });\n    Object.defineProperty(this, _startIfAutoProceed, {\n      value: _startIfAutoProceed2\n    });\n    Object.defineProperty(this, _checkAndCreateFileStateObject, {\n      value: _checkAndCreateFileStateObject2\n    });\n    Object.defineProperty(this, _assertNewUploadAllowed, {\n      value: _assertNewUploadAllowed2\n    });\n    Object.defineProperty(this, _checkRequiredMetaFields, {\n      value: _checkRequiredMetaFields2\n    });\n    Object.defineProperty(this, _checkRequiredMetaFieldsOnFile, {\n      value: _checkRequiredMetaFieldsOnFile2\n    });\n    Object.defineProperty(this, _informAndEmit, {\n      value: _informAndEmit2\n    });\n    Object.defineProperty(this, _plugins, {\n      writable: true,\n      value: Object.create(null)\n    });\n    Object.defineProperty(this, _restricter, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _storeUnsubscribe, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _emitter, {\n      writable: true,\n      value: ee()\n    });\n    Object.defineProperty(this, _preProcessors, {\n      writable: true,\n      value: new Set()\n    });\n    Object.defineProperty(this, _uploaders, {\n      writable: true,\n      value: new Set()\n    });\n    Object.defineProperty(this, _postProcessors, {\n      writable: true,\n      value: new Set()\n    });\n    Object.defineProperty(this, _updateOnlineStatus, {\n      writable: true,\n      value: this.updateOnlineStatus.bind(this)\n    });\n    this.defaultLocale = locale;\n    const defaultOptions = {\n      id: 'uppy',\n      autoProceed: false,\n      allowMultipleUploadBatches: true,\n      debug: false,\n      restrictions: defaultRestrictionOptions,\n      meta: {},\n      onBeforeFileAdded: currentFile => currentFile,\n      onBeforeUpload: files => files,\n      store: new DefaultStore(),\n      logger: justErrorsLogger,\n      infoTimeout: 5000\n    }; // Merge default options with the ones set by user,\n    // making sure to merge restrictions too\n\n    this.opts = { ...defaultOptions,\n      ..._opts,\n      restrictions: { ...defaultOptions.restrictions,\n        ...(_opts && _opts.restrictions)\n      }\n    }; // Support debug: true for backwards-compatability, unless logger is set in opts\n    // opts instead of this.opts to avoid comparing objects  we set logger: justErrorsLogger in defaultOptions\n\n    if (_opts && _opts.logger && _opts.debug) {\n      this.log('You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.', 'warning');\n    } else if (_opts && _opts.debug) {\n      this.opts.logger = debugLogger;\n    }\n\n    this.log(`Using Core v${this.constructor.VERSION}`);\n    this.i18nInit(); // ___Why throttle at 500ms?\n    //    - We must throttle at >250ms for superfocus in Dashboard to work well\n    //    (because animation takes 0.25s, and we want to wait for all animations to be over before refocusing).\n    //    [Practical Check]: if thottle is at 100ms, then if you are uploading a file,\n    //    and click 'ADD MORE FILES', - focus won't activate in Firefox.\n    //    - We must throttle at around >500ms to avoid performance lags.\n    //    [Practical Check] Firefox, try to upload a big file for a prolonged period of time. Laptop will start to heat up.\n\n    this.calculateProgress = throttle(this.calculateProgress.bind(this), 500, {\n      leading: true,\n      trailing: true\n    });\n    this.store = this.opts.store;\n    this.setState({\n      plugins: {},\n      files: {},\n      currentUploads: {},\n      allowNewUpload: true,\n      capabilities: {\n        uploadProgress: supportsUploadProgress(),\n        individualCancellation: true,\n        resumableUploads: false\n      },\n      totalProgress: 0,\n      meta: { ...this.opts.meta\n      },\n      info: [],\n      recoveredState: null\n    });\n    _classPrivateFieldLooseBase(this, _restricter)[_restricter] = new Restricter(() => this.opts, this.i18n);\n    _classPrivateFieldLooseBase(this, _storeUnsubscribe)[_storeUnsubscribe] = this.store.subscribe((prevState, nextState, patch) => {\n      this.emit('state-update', prevState, nextState, patch);\n      this.updateAll(nextState);\n    }); // Exposing uppy object on window for debugging and testing\n\n    if (this.opts.debug && typeof window !== 'undefined') {\n      window[this.opts.id] = this;\n    }\n\n    _classPrivateFieldLooseBase(this, _addListeners)[_addListeners]();\n  }\n\n  emit(event) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    _classPrivateFieldLooseBase(this, _emitter)[_emitter].emit(event, ...args);\n  }\n\n  on(event, callback) {\n    _classPrivateFieldLooseBase(this, _emitter)[_emitter].on(event, callback);\n\n    return this;\n  }\n\n  once(event, callback) {\n    _classPrivateFieldLooseBase(this, _emitter)[_emitter].once(event, callback);\n\n    return this;\n  }\n\n  off(event, callback) {\n    _classPrivateFieldLooseBase(this, _emitter)[_emitter].off(event, callback);\n\n    return this;\n  }\n  /**\n   * Iterate on all plugins and run `update` on them.\n   * Called each time state changes.\n   *\n   */\n\n\n  updateAll(state) {\n    this.iteratePlugins(plugin => {\n      plugin.update(state);\n    });\n  }\n  /**\n   * Updates state with a patch\n   *\n   * @param {object} patch {foo: 'bar'}\n   */\n\n\n  setState(patch) {\n    this.store.setState(patch);\n  }\n  /**\n   * Returns current state.\n   *\n   * @returns {object}\n   */\n\n\n  getState() {\n    return this.store.getState();\n  }\n  /**\n   * Shorthand to set state for a specific file.\n   */\n\n\n  setFileState(fileID, state) {\n    if (!this.getState().files[fileID]) {\n      throw new Error(`Cant set state for ${fileID} (the file could have been removed)`);\n    }\n\n    this.setState({\n      files: { ...this.getState().files,\n        [fileID]: { ...this.getState().files[fileID],\n          ...state\n        }\n      }\n    });\n  }\n\n  i18nInit() {\n    const translator = new Translator([this.defaultLocale, this.opts.locale]);\n    this.i18n = translator.translate.bind(translator);\n    this.i18nArray = translator.translateArray.bind(translator);\n    this.locale = translator.locale;\n  }\n\n  setOptions(newOpts) {\n    this.opts = { ...this.opts,\n      ...newOpts,\n      restrictions: { ...this.opts.restrictions,\n        ...(newOpts && newOpts.restrictions)\n      }\n    };\n\n    if (newOpts.meta) {\n      this.setMeta(newOpts.meta);\n    }\n\n    this.i18nInit();\n\n    if (newOpts.locale) {\n      this.iteratePlugins(plugin => {\n        plugin.setOptions();\n      });\n    } // Note: this is not the preact `setState`, it's an internal function that has the same name.\n\n\n    this.setState(); // so that UI re-renders with new options\n  }\n\n  resetProgress() {\n    const defaultProgress = {\n      percentage: 0,\n      bytesUploaded: 0,\n      uploadComplete: false,\n      uploadStarted: null\n    };\n    const files = { ...this.getState().files\n    };\n    const updatedFiles = {};\n    Object.keys(files).forEach(fileID => {\n      const updatedFile = { ...files[fileID]\n      };\n      updatedFile.progress = { ...updatedFile.progress,\n        ...defaultProgress\n      };\n      updatedFiles[fileID] = updatedFile;\n    });\n    this.setState({\n      files: updatedFiles,\n      totalProgress: 0\n    });\n    this.emit('reset-progress');\n  }\n\n  addPreProcessor(fn) {\n    _classPrivateFieldLooseBase(this, _preProcessors)[_preProcessors].add(fn);\n  }\n\n  removePreProcessor(fn) {\n    return _classPrivateFieldLooseBase(this, _preProcessors)[_preProcessors].delete(fn);\n  }\n\n  addPostProcessor(fn) {\n    _classPrivateFieldLooseBase(this, _postProcessors)[_postProcessors].add(fn);\n  }\n\n  removePostProcessor(fn) {\n    return _classPrivateFieldLooseBase(this, _postProcessors)[_postProcessors].delete(fn);\n  }\n\n  addUploader(fn) {\n    _classPrivateFieldLooseBase(this, _uploaders)[_uploaders].add(fn);\n  }\n\n  removeUploader(fn) {\n    return _classPrivateFieldLooseBase(this, _uploaders)[_uploaders].delete(fn);\n  }\n\n  setMeta(data) {\n    const updatedMeta = { ...this.getState().meta,\n      ...data\n    };\n    const updatedFiles = { ...this.getState().files\n    };\n    Object.keys(updatedFiles).forEach(fileID => {\n      updatedFiles[fileID] = { ...updatedFiles[fileID],\n        meta: { ...updatedFiles[fileID].meta,\n          ...data\n        }\n      };\n    });\n    this.log('Adding metadata:');\n    this.log(data);\n    this.setState({\n      meta: updatedMeta,\n      files: updatedFiles\n    });\n  }\n\n  setFileMeta(fileID, data) {\n    const updatedFiles = { ...this.getState().files\n    };\n\n    if (!updatedFiles[fileID]) {\n      this.log('Was trying to set metadata for a file that has been removed: ', fileID);\n      return;\n    }\n\n    const newMeta = { ...updatedFiles[fileID].meta,\n      ...data\n    };\n    updatedFiles[fileID] = { ...updatedFiles[fileID],\n      meta: newMeta\n    };\n    this.setState({\n      files: updatedFiles\n    });\n  }\n  /**\n   * Get a file object.\n   *\n   * @param {string} fileID The ID of the file object to return.\n   */\n\n\n  getFile(fileID) {\n    return this.getState().files[fileID];\n  }\n  /**\n   * Get all files in an array.\n   */\n\n\n  getFiles() {\n    const {\n      files\n    } = this.getState();\n    return Object.values(files);\n  }\n\n  getObjectOfFilesPerState() {\n    const {\n      files: filesObject,\n      totalProgress,\n      error\n    } = this.getState();\n    const files = Object.values(filesObject);\n    const inProgressFiles = files.filter(_ref => {\n      let {\n        progress\n      } = _ref;\n      return !progress.uploadComplete && progress.uploadStarted;\n    });\n    const newFiles = files.filter(file => !file.progress.uploadStarted);\n    const startedFiles = files.filter(file => file.progress.uploadStarted || file.progress.preprocess || file.progress.postprocess);\n    const uploadStartedFiles = files.filter(file => file.progress.uploadStarted);\n    const pausedFiles = files.filter(file => file.isPaused);\n    const completeFiles = files.filter(file => file.progress.uploadComplete);\n    const erroredFiles = files.filter(file => file.error);\n    const inProgressNotPausedFiles = inProgressFiles.filter(file => !file.isPaused);\n    const processingFiles = files.filter(file => file.progress.preprocess || file.progress.postprocess);\n    return {\n      newFiles,\n      startedFiles,\n      uploadStartedFiles,\n      pausedFiles,\n      completeFiles,\n      erroredFiles,\n      inProgressFiles,\n      inProgressNotPausedFiles,\n      processingFiles,\n      isUploadStarted: uploadStartedFiles.length > 0,\n      isAllComplete: totalProgress === 100 && completeFiles.length === files.length && processingFiles.length === 0,\n      isAllErrored: !!error && erroredFiles.length === files.length,\n      isAllPaused: inProgressFiles.length !== 0 && pausedFiles.length === inProgressFiles.length,\n      isUploadInProgress: inProgressFiles.length > 0,\n      isSomeGhost: files.some(file => file.isGhost)\n    };\n  }\n  /*\n  * @constructs\n  * @param { Error } error\n  * @param { undefined } file\n  */\n\n  /*\n  * @constructs\n  * @param { RestrictionError } error\n  * @param { UppyFile | undefined } file\n  */\n\n\n  validateRestrictions(file, files) {\n    if (files === void 0) {\n      files = this.getFiles();\n    }\n\n    try {\n      _classPrivateFieldLooseBase(this, _restricter)[_restricter].validate(file, files);\n    } catch (err) {\n      return err;\n    }\n\n    return null;\n  }\n\n  checkIfFileAlreadyExists(fileID) {\n    const {\n      files\n    } = this.getState();\n\n    if (files[fileID] && !files[fileID].isGhost) {\n      return true;\n    }\n\n    return false;\n  }\n  /**\n   * Create a file state object based on user-provided `addFile()` options.\n   *\n   * Note this is extremely side-effectful and should only be done when a file state object\n   * will be added to state immediately afterward!\n   *\n   * The `files` value is passed in because it may be updated by the caller without updating the store.\n   */\n\n\n  /**\n   * Add a new file to `state.files`. This will run `onBeforeFileAdded`,\n   * try to guess file type in a clever way, check file against restrictions,\n   * and start an upload if `autoProceed === true`.\n   *\n   * @param {object} file object to add\n   * @returns {string} id for the added file\n   */\n  addFile(file) {\n    _classPrivateFieldLooseBase(this, _assertNewUploadAllowed)[_assertNewUploadAllowed](file);\n\n    const {\n      files\n    } = this.getState();\n\n    let newFile = _classPrivateFieldLooseBase(this, _checkAndCreateFileStateObject)[_checkAndCreateFileStateObject](files, file); // Users are asked to re-select recovered files without data,\n    // and to keep the progress, meta and everthing else, we only replace said data\n\n\n    if (files[newFile.id] && files[newFile.id].isGhost) {\n      newFile = { ...files[newFile.id],\n        data: file.data,\n        isGhost: false\n      };\n      this.log(`Replaced the blob in the restored ghost file: ${newFile.name}, ${newFile.id}`);\n    }\n\n    this.setState({\n      files: { ...files,\n        [newFile.id]: newFile\n      }\n    });\n    this.emit('file-added', newFile);\n    this.emit('files-added', [newFile]);\n    this.log(`Added file: ${newFile.name}, ${newFile.id}, mime type: ${newFile.type}`);\n\n    _classPrivateFieldLooseBase(this, _startIfAutoProceed)[_startIfAutoProceed]();\n\n    return newFile.id;\n  }\n  /**\n   * Add multiple files to `state.files`. See the `addFile()` documentation.\n   *\n   * If an error occurs while adding a file, it is logged and the user is notified.\n   * This is good for UI plugins, but not for programmatic use.\n   * Programmatic users should usually still use `addFile()` on individual files.\n   */\n\n\n  addFiles(fileDescriptors) {\n    _classPrivateFieldLooseBase(this, _assertNewUploadAllowed)[_assertNewUploadAllowed](); // create a copy of the files object only once\n\n\n    const files = { ...this.getState().files\n    };\n    const newFiles = [];\n    const errors = [];\n\n    for (let i = 0; i < fileDescriptors.length; i++) {\n      try {\n        let newFile = _classPrivateFieldLooseBase(this, _checkAndCreateFileStateObject)[_checkAndCreateFileStateObject](files, fileDescriptors[i]); // Users are asked to re-select recovered files without data,\n        // and to keep the progress, meta and everthing else, we only replace said data\n\n\n        if (files[newFile.id] && files[newFile.id].isGhost) {\n          newFile = { ...files[newFile.id],\n            data: fileDescriptors[i].data,\n            isGhost: false\n          };\n          this.log(`Replaced blob in a ghost file: ${newFile.name}, ${newFile.id}`);\n        }\n\n        files[newFile.id] = newFile;\n        newFiles.push(newFile);\n      } catch (err) {\n        if (!err.isRestriction) {\n          errors.push(err);\n        }\n      }\n    }\n\n    this.setState({\n      files\n    });\n    newFiles.forEach(newFile => {\n      this.emit('file-added', newFile);\n    });\n    this.emit('files-added', newFiles);\n\n    if (newFiles.length > 5) {\n      this.log(`Added batch of ${newFiles.length} files`);\n    } else {\n      Object.keys(newFiles).forEach(fileID => {\n        this.log(`Added file: ${newFiles[fileID].name}\\n id: ${newFiles[fileID].id}\\n type: ${newFiles[fileID].type}`);\n      });\n    }\n\n    if (newFiles.length > 0) {\n      _classPrivateFieldLooseBase(this, _startIfAutoProceed)[_startIfAutoProceed]();\n    }\n\n    if (errors.length > 0) {\n      let message = 'Multiple errors occurred while adding files:\\n';\n      errors.forEach(subError => {\n        message += `\\n * ${subError.message}`;\n      });\n      this.info({\n        message: this.i18n('addBulkFilesFailed', {\n          smart_count: errors.length\n        }),\n        details: message\n      }, 'error', this.opts.infoTimeout);\n\n      if (typeof AggregateError === 'function') {\n        throw new AggregateError(errors, message);\n      } else {\n        const err = new Error(message);\n        err.errors = errors;\n        throw err;\n      }\n    }\n  }\n\n  removeFiles(fileIDs, reason) {\n    const {\n      files,\n      currentUploads\n    } = this.getState();\n    const updatedFiles = { ...files\n    };\n    const updatedUploads = { ...currentUploads\n    };\n    const removedFiles = Object.create(null);\n    fileIDs.forEach(fileID => {\n      if (files[fileID]) {\n        removedFiles[fileID] = files[fileID];\n        delete updatedFiles[fileID];\n      }\n    }); // Remove files from the `fileIDs` list in each upload.\n\n    function fileIsNotRemoved(uploadFileID) {\n      return removedFiles[uploadFileID] === undefined;\n    }\n\n    Object.keys(updatedUploads).forEach(uploadID => {\n      const newFileIDs = currentUploads[uploadID].fileIDs.filter(fileIsNotRemoved); // Remove the upload if no files are associated with it anymore.\n\n      if (newFileIDs.length === 0) {\n        delete updatedUploads[uploadID];\n        return;\n      }\n\n      const {\n        capabilities\n      } = this.getState();\n\n      if (newFileIDs.length !== currentUploads[uploadID].fileIDs.length && !capabilities.individualCancellation) {\n        throw new Error('individualCancellation is disabled');\n      }\n\n      updatedUploads[uploadID] = { ...currentUploads[uploadID],\n        fileIDs: newFileIDs\n      };\n    });\n    const stateUpdate = {\n      currentUploads: updatedUploads,\n      files: updatedFiles\n    }; // If all files were removed - allow new uploads,\n    // and clear recoveredState\n\n    if (Object.keys(updatedFiles).length === 0) {\n      stateUpdate.allowNewUpload = true;\n      stateUpdate.error = null;\n      stateUpdate.recoveredState = null;\n    }\n\n    this.setState(stateUpdate);\n    this.calculateTotalProgress();\n    const removedFileIDs = Object.keys(removedFiles);\n    removedFileIDs.forEach(fileID => {\n      this.emit('file-removed', removedFiles[fileID], reason);\n    });\n\n    if (removedFileIDs.length > 5) {\n      this.log(`Removed ${removedFileIDs.length} files`);\n    } else {\n      this.log(`Removed files: ${removedFileIDs.join(', ')}`);\n    }\n  }\n\n  removeFile(fileID, reason) {\n    if (reason === void 0) {\n      reason = null;\n    }\n\n    this.removeFiles([fileID], reason);\n  }\n\n  pauseResume(fileID) {\n    if (!this.getState().capabilities.resumableUploads || this.getFile(fileID).uploadComplete) {\n      return undefined;\n    }\n\n    const wasPaused = this.getFile(fileID).isPaused || false;\n    const isPaused = !wasPaused;\n    this.setFileState(fileID, {\n      isPaused\n    });\n    this.emit('upload-pause', fileID, isPaused);\n    return isPaused;\n  }\n\n  pauseAll() {\n    const updatedFiles = { ...this.getState().files\n    };\n    const inProgressUpdatedFiles = Object.keys(updatedFiles).filter(file => {\n      return !updatedFiles[file].progress.uploadComplete && updatedFiles[file].progress.uploadStarted;\n    });\n    inProgressUpdatedFiles.forEach(file => {\n      const updatedFile = { ...updatedFiles[file],\n        isPaused: true\n      };\n      updatedFiles[file] = updatedFile;\n    });\n    this.setState({\n      files: updatedFiles\n    });\n    this.emit('pause-all');\n  }\n\n  resumeAll() {\n    const updatedFiles = { ...this.getState().files\n    };\n    const inProgressUpdatedFiles = Object.keys(updatedFiles).filter(file => {\n      return !updatedFiles[file].progress.uploadComplete && updatedFiles[file].progress.uploadStarted;\n    });\n    inProgressUpdatedFiles.forEach(file => {\n      const updatedFile = { ...updatedFiles[file],\n        isPaused: false,\n        error: null\n      };\n      updatedFiles[file] = updatedFile;\n    });\n    this.setState({\n      files: updatedFiles\n    });\n    this.emit('resume-all');\n  }\n\n  retryAll() {\n    const updatedFiles = { ...this.getState().files\n    };\n    const filesToRetry = Object.keys(updatedFiles).filter(file => {\n      return updatedFiles[file].error;\n    });\n    filesToRetry.forEach(file => {\n      const updatedFile = { ...updatedFiles[file],\n        isPaused: false,\n        error: null\n      };\n      updatedFiles[file] = updatedFile;\n    });\n    this.setState({\n      files: updatedFiles,\n      error: null\n    });\n    this.emit('retry-all', filesToRetry);\n\n    if (filesToRetry.length === 0) {\n      return Promise.resolve({\n        successful: [],\n        failed: []\n      });\n    }\n\n    const uploadID = _classPrivateFieldLooseBase(this, _createUpload)[_createUpload](filesToRetry, {\n      forceAllowNewUpload: true // create new upload even if allowNewUpload: false\n\n    });\n\n    return _classPrivateFieldLooseBase(this, _runUpload)[_runUpload](uploadID);\n  }\n\n  cancelAll(_temp) {\n    let {\n      reason = 'user'\n    } = _temp === void 0 ? {} : _temp;\n    this.emit('cancel-all', {\n      reason\n    }); // Only remove existing uploads if user is canceling\n\n    if (reason === 'user') {\n      const {\n        files\n      } = this.getState();\n      const fileIDs = Object.keys(files);\n\n      if (fileIDs.length) {\n        this.removeFiles(fileIDs, 'cancel-all');\n      }\n\n      this.setState({\n        totalProgress: 0,\n        error: null,\n        recoveredState: null\n      });\n    }\n  }\n\n  retryUpload(fileID) {\n    this.setFileState(fileID, {\n      error: null,\n      isPaused: false\n    });\n    this.emit('upload-retry', fileID);\n\n    const uploadID = _classPrivateFieldLooseBase(this, _createUpload)[_createUpload]([fileID], {\n      forceAllowNewUpload: true // create new upload even if allowNewUpload: false\n\n    });\n\n    return _classPrivateFieldLooseBase(this, _runUpload)[_runUpload](uploadID);\n  }\n\n  logout() {\n    this.iteratePlugins(plugin => {\n      if (plugin.provider && plugin.provider.logout) {\n        plugin.provider.logout();\n      }\n    });\n  }\n\n  calculateProgress(file, data) {\n    if (file == null || !this.getFile(file.id)) {\n      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return;\n    } // bytesTotal may be null or zero; in that case we can't divide by it\n\n\n    const canHavePercentage = Number.isFinite(data.bytesTotal) && data.bytesTotal > 0;\n    this.setFileState(file.id, {\n      progress: { ...this.getFile(file.id).progress,\n        bytesUploaded: data.bytesUploaded,\n        bytesTotal: data.bytesTotal,\n        percentage: canHavePercentage ? Math.round(data.bytesUploaded / data.bytesTotal * 100) : 0\n      }\n    });\n    this.calculateTotalProgress();\n  }\n\n  calculateTotalProgress() {\n    // calculate total progress, using the number of files currently uploading,\n    // multiplied by 100 and the summ of individual progress of each file\n    const files = this.getFiles();\n    const inProgress = files.filter(file => {\n      return file.progress.uploadStarted || file.progress.preprocess || file.progress.postprocess;\n    });\n\n    if (inProgress.length === 0) {\n      this.emit('progress', 0);\n      this.setState({\n        totalProgress: 0\n      });\n      return;\n    }\n\n    const sizedFiles = inProgress.filter(file => file.progress.bytesTotal != null);\n    const unsizedFiles = inProgress.filter(file => file.progress.bytesTotal == null);\n\n    if (sizedFiles.length === 0) {\n      const progressMax = inProgress.length * 100;\n      const currentProgress = unsizedFiles.reduce((acc, file) => {\n        return acc + file.progress.percentage;\n      }, 0);\n      const totalProgress = Math.round(currentProgress / progressMax * 100);\n      this.setState({\n        totalProgress\n      });\n      return;\n    }\n\n    let totalSize = sizedFiles.reduce((acc, file) => {\n      return acc + file.progress.bytesTotal;\n    }, 0);\n    const averageSize = totalSize / sizedFiles.length;\n    totalSize += averageSize * unsizedFiles.length;\n    let uploadedSize = 0;\n    sizedFiles.forEach(file => {\n      uploadedSize += file.progress.bytesUploaded;\n    });\n    unsizedFiles.forEach(file => {\n      uploadedSize += averageSize * (file.progress.percentage || 0) / 100;\n    });\n    let totalProgress = totalSize === 0 ? 0 : Math.round(uploadedSize / totalSize * 100); // hot fix, because:\n    // uploadedSize ended up larger than totalSize, resulting in 1325% total\n\n    if (totalProgress > 100) {\n      totalProgress = 100;\n    }\n\n    this.setState({\n      totalProgress\n    });\n    this.emit('progress', totalProgress);\n  }\n  /**\n   * Registers listeners for all global actions, like:\n   * `error`, `file-removed`, `upload-progress`\n   */\n\n\n  updateOnlineStatus() {\n    const online = typeof window.navigator.onLine !== 'undefined' ? window.navigator.onLine : true;\n\n    if (!online) {\n      this.emit('is-offline');\n      this.info(this.i18n('noInternetConnection'), 'error', 0);\n      this.wasOffline = true;\n    } else {\n      this.emit('is-online');\n\n      if (this.wasOffline) {\n        this.emit('back-online');\n        this.info(this.i18n('connectedToInternet'), 'success', 3000);\n        this.wasOffline = false;\n      }\n    }\n  }\n\n  getID() {\n    return this.opts.id;\n  }\n  /**\n   * Registers a plugin with Core.\n   *\n   * @param {object} Plugin object\n   * @param {object} [opts] object with options to be passed to Plugin\n   * @returns {object} self for chaining\n   */\n  // eslint-disable-next-line no-shadow\n\n\n  use(Plugin, opts) {\n    if (typeof Plugin !== 'function') {\n      const msg = `Expected a plugin class, but got ${Plugin === null ? 'null' : typeof Plugin}.` + ' Please verify that the plugin was imported and spelled correctly.';\n      throw new TypeError(msg);\n    } // Instantiate\n\n\n    const plugin = new Plugin(this, opts);\n    const pluginId = plugin.id;\n\n    if (!pluginId) {\n      throw new Error('Your plugin must have an id');\n    }\n\n    if (!plugin.type) {\n      throw new Error('Your plugin must have a type');\n    }\n\n    const existsPluginAlready = this.getPlugin(pluginId);\n\n    if (existsPluginAlready) {\n      const msg = `Already found a plugin named '${existsPluginAlready.id}'. ` + `Tried to use: '${pluginId}'.\\n` + 'Uppy plugins must have unique `id` options. See https://uppy.io/docs/plugins/#id.';\n      throw new Error(msg);\n    }\n\n    if (Plugin.VERSION) {\n      this.log(`Using ${pluginId} v${Plugin.VERSION}`);\n    }\n\n    if (plugin.type in _classPrivateFieldLooseBase(this, _plugins)[_plugins]) {\n      _classPrivateFieldLooseBase(this, _plugins)[_plugins][plugin.type].push(plugin);\n    } else {\n      _classPrivateFieldLooseBase(this, _plugins)[_plugins][plugin.type] = [plugin];\n    }\n\n    plugin.install();\n    return this;\n  }\n  /**\n   * Find one Plugin by name.\n   *\n   * @param {string} id plugin id\n   * @returns {BasePlugin|undefined}\n   */\n\n\n  getPlugin(id) {\n    for (const plugins of Object.values(_classPrivateFieldLooseBase(this, _plugins)[_plugins])) {\n      const foundPlugin = plugins.find(plugin => plugin.id === id);\n      if (foundPlugin != null) return foundPlugin;\n    }\n\n    return undefined;\n  }\n\n  [_Symbol$for](type) {\n    return _classPrivateFieldLooseBase(this, _plugins)[_plugins][type];\n  }\n  /**\n   * Iterate through all `use`d plugins.\n   *\n   * @param {Function} method that will be run on each plugin\n   */\n\n\n  iteratePlugins(method) {\n    Object.values(_classPrivateFieldLooseBase(this, _plugins)[_plugins]).flat(1).forEach(method);\n  }\n  /**\n   * Uninstall and remove a plugin.\n   *\n   * @param {object} instance The plugin instance to remove.\n   */\n\n\n  removePlugin(instance) {\n    this.log(`Removing plugin ${instance.id}`);\n    this.emit('plugin-remove', instance);\n\n    if (instance.uninstall) {\n      instance.uninstall();\n    }\n\n    const list = _classPrivateFieldLooseBase(this, _plugins)[_plugins][instance.type]; // list.indexOf failed here, because Vue3 converted the plugin instance\n    // to a Proxy object, which failed the strict comparison test:\n    // obj !== objProxy\n\n\n    const index = list.findIndex(item => item.id === instance.id);\n\n    if (index !== -1) {\n      list.splice(index, 1);\n    }\n\n    const state = this.getState();\n    const updatedState = {\n      plugins: { ...state.plugins,\n        [instance.id]: undefined\n      }\n    };\n    this.setState(updatedState);\n  }\n  /**\n   * Uninstall all plugins and close down this Uppy instance.\n   */\n\n\n  close(_temp2) {\n    let {\n      reason\n    } = _temp2 === void 0 ? {} : _temp2;\n    this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`);\n    this.cancelAll({\n      reason\n    });\n\n    _classPrivateFieldLooseBase(this, _storeUnsubscribe)[_storeUnsubscribe]();\n\n    this.iteratePlugins(plugin => {\n      this.removePlugin(plugin);\n    });\n\n    if (typeof window !== 'undefined' && window.removeEventListener) {\n      window.removeEventListener('online', _classPrivateFieldLooseBase(this, _updateOnlineStatus)[_updateOnlineStatus]);\n      window.removeEventListener('offline', _classPrivateFieldLooseBase(this, _updateOnlineStatus)[_updateOnlineStatus]);\n    }\n  }\n\n  hideInfo() {\n    const {\n      info\n    } = this.getState();\n    this.setState({\n      info: info.slice(1)\n    });\n    this.emit('info-hidden');\n  }\n  /**\n   * Set info message in `state.info`, so that UI plugins like `Informer`\n   * can display the message.\n   *\n   * @param {string | object} message Message to be displayed by the informer\n   * @param {string} [type]\n   * @param {number} [duration]\n   */\n\n\n  info(message, type, duration) {\n    if (type === void 0) {\n      type = 'info';\n    }\n\n    if (duration === void 0) {\n      duration = 3000;\n    }\n\n    const isComplexMessage = typeof message === 'object';\n    this.setState({\n      info: [...this.getState().info, {\n        type,\n        message: isComplexMessage ? message.message : message,\n        details: isComplexMessage ? message.details : null\n      }]\n    });\n    setTimeout(() => this.hideInfo(), duration);\n    this.emit('info-visible');\n  }\n  /**\n   * Passes messages to a function, provided in `opts.logger`.\n   * If `opts.logger: Uppy.debugLogger` or `opts.debug: true`, logs to the browser console.\n   *\n   * @param {string|object} message to log\n   * @param {string} [type] optional `error` or `warning`\n   */\n\n\n  log(message, type) {\n    const {\n      logger\n    } = this.opts;\n\n    switch (type) {\n      case 'error':\n        logger.error(message);\n        break;\n\n      case 'warning':\n        logger.warn(message);\n        break;\n\n      default:\n        logger.debug(message);\n        break;\n    }\n  }\n  /**\n   * Restore an upload by its ID.\n   */\n\n\n  restore(uploadID) {\n    this.log(`Core: attempting to restore upload \"${uploadID}\"`);\n\n    if (!this.getState().currentUploads[uploadID]) {\n      _classPrivateFieldLooseBase(this, _removeUpload)[_removeUpload](uploadID);\n\n      return Promise.reject(new Error('Nonexistent upload'));\n    }\n\n    return _classPrivateFieldLooseBase(this, _runUpload)[_runUpload](uploadID);\n  }\n  /**\n   * Create an upload for a bunch of files.\n   *\n   * @param {Array<string>} fileIDs File IDs to include in this upload.\n   * @returns {string} ID of this upload.\n   */\n\n\n  [_Symbol$for2]() {\n    return _classPrivateFieldLooseBase(this, _createUpload)[_createUpload](...arguments);\n  }\n\n  /**\n   * Add data to an upload's result object.\n   *\n   * @param {string} uploadID The ID of the upload.\n   * @param {object} data Data properties to add to the result object.\n   */\n  addResultData(uploadID, data) {\n    if (!_classPrivateFieldLooseBase(this, _getUpload)[_getUpload](uploadID)) {\n      this.log(`Not setting result for an upload that has been removed: ${uploadID}`);\n      return;\n    }\n\n    const {\n      currentUploads\n    } = this.getState();\n    const currentUpload = { ...currentUploads[uploadID],\n      result: { ...currentUploads[uploadID].result,\n        ...data\n      }\n    };\n    this.setState({\n      currentUploads: { ...currentUploads,\n        [uploadID]: currentUpload\n      }\n    });\n  }\n  /**\n   * Remove an upload, eg. if it has been canceled or completed.\n   *\n   * @param {string} uploadID The ID of the upload.\n   */\n\n\n  /**\n   * Start an upload for all the files that are not currently being uploaded.\n   *\n   * @returns {Promise}\n   */\n  upload() {\n    var _classPrivateFieldLoo;\n\n    if (!((_classPrivateFieldLoo = _classPrivateFieldLooseBase(this, _plugins)[_plugins].uploader) != null && _classPrivateFieldLoo.length)) {\n      this.log('No uploader type plugins are used', 'warning');\n    }\n\n    let {\n      files\n    } = this.getState();\n    const onBeforeUploadResult = this.opts.onBeforeUpload(files);\n\n    if (onBeforeUploadResult === false) {\n      return Promise.reject(new Error('Not starting the upload because onBeforeUpload returned false'));\n    }\n\n    if (onBeforeUploadResult && typeof onBeforeUploadResult === 'object') {\n      files = onBeforeUploadResult; // Updating files in state, because uploader plugins receive file IDs,\n      // and then fetch the actual file object from state\n\n      this.setState({\n        files\n      });\n    }\n\n    return Promise.resolve().then(() => _classPrivateFieldLooseBase(this, _restricter)[_restricter].validateMinNumberOfFiles(files)).catch(err => {\n      _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit](err);\n\n      throw err;\n    }).then(() => {\n      if (!_classPrivateFieldLooseBase(this, _checkRequiredMetaFields)[_checkRequiredMetaFields](files)) {\n        throw new RestrictionError(this.i18n('missingRequiredMetaField'));\n      }\n    }).catch(err => {\n      // Doing this in a separate catch because we already emited and logged\n      // all the errors in `checkRequiredMetaFields` so we only throw a generic\n      // missing fields error here.\n      throw err;\n    }).then(() => {\n      const {\n        currentUploads\n      } = this.getState(); // get a list of files that are currently assigned to uploads\n\n      const currentlyUploadingFiles = Object.values(currentUploads).flatMap(curr => curr.fileIDs);\n      const waitingFileIDs = [];\n      Object.keys(files).forEach(fileID => {\n        const file = this.getFile(fileID); // if the file hasn't started uploading and hasn't already been assigned to an upload..\n\n        if (!file.progress.uploadStarted && currentlyUploadingFiles.indexOf(fileID) === -1) {\n          waitingFileIDs.push(file.id);\n        }\n      });\n\n      const uploadID = _classPrivateFieldLooseBase(this, _createUpload)[_createUpload](waitingFileIDs);\n\n      return _classPrivateFieldLooseBase(this, _runUpload)[_runUpload](uploadID);\n    }).catch(err => {\n      this.emit('error', err);\n      this.log(err, 'error');\n      throw err;\n    });\n  }\n\n}\n\nfunction _informAndEmit2(error, file) {\n  const {\n    message,\n    details = ''\n  } = error;\n\n  if (error.isRestriction) {\n    this.emit('restriction-failed', file, error);\n  } else {\n    this.emit('error', error);\n  }\n\n  this.info({\n    message,\n    details\n  }, 'error', this.opts.infoTimeout);\n  this.log(`${message} ${details}`.trim(), 'error');\n}\n\nfunction _checkRequiredMetaFieldsOnFile2(file) {\n  const {\n    missingFields,\n    error\n  } = _classPrivateFieldLooseBase(this, _restricter)[_restricter].getMissingRequiredMetaFields(file);\n\n  if (missingFields.length > 0) {\n    this.setFileState(file.id, {\n      missingRequiredMetaFields: missingFields\n    });\n    this.log(error.message);\n    this.emit('restriction-failed', file, error);\n    return false;\n  }\n\n  return true;\n}\n\nfunction _checkRequiredMetaFields2(files) {\n  let success = true;\n\n  for (const file of Object.values(files)) {\n    if (!_classPrivateFieldLooseBase(this, _checkRequiredMetaFieldsOnFile)[_checkRequiredMetaFieldsOnFile](file)) {\n      success = false;\n    }\n  }\n\n  return success;\n}\n\nfunction _assertNewUploadAllowed2(file) {\n  const {\n    allowNewUpload\n  } = this.getState();\n\n  if (allowNewUpload === false) {\n    const error = new RestrictionError(this.i18n('noMoreFilesAllowed'));\n\n    _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit](error, file);\n\n    throw error;\n  }\n}\n\nfunction _checkAndCreateFileStateObject2(files, fileDescriptor) {\n  // Uppy expects files in { name, type, size, data } format.\n  // If the actual File object is passed from input[type=file] or drag-drop,\n  // we normalize it to match Uppy file object\n  if (fileDescriptor instanceof File) {\n    // eslint-disable-next-line no-param-reassign\n    fileDescriptor = {\n      name: fileDescriptor.name,\n      type: fileDescriptor.type,\n      size: fileDescriptor.size,\n      data: fileDescriptor\n    };\n  }\n\n  const fileType = getFileType(fileDescriptor);\n  const fileName = getFileName(fileType, fileDescriptor);\n  const fileExtension = getFileNameAndExtension(fileName).extension;\n  const isRemote = Boolean(fileDescriptor.isRemote);\n  const fileID = generateFileID({ ...fileDescriptor,\n    type: fileType\n  });\n\n  if (this.checkIfFileAlreadyExists(fileID)) {\n    const error = new RestrictionError(this.i18n('noDuplicates', {\n      fileName\n    }));\n\n    _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit](error, fileDescriptor);\n\n    throw error;\n  }\n\n  const meta = fileDescriptor.meta || {};\n  meta.name = fileName;\n  meta.type = fileType; // `null` means the size is unknown.\n\n  const size = Number.isFinite(fileDescriptor.data.size) ? fileDescriptor.data.size : null;\n  let newFile = {\n    source: fileDescriptor.source || '',\n    id: fileID,\n    name: fileName,\n    extension: fileExtension || '',\n    meta: { ...this.getState().meta,\n      ...meta\n    },\n    type: fileType,\n    data: fileDescriptor.data,\n    progress: {\n      percentage: 0,\n      bytesUploaded: 0,\n      bytesTotal: size,\n      uploadComplete: false,\n      uploadStarted: null\n    },\n    size,\n    isRemote,\n    remote: fileDescriptor.remote || '',\n    preview: fileDescriptor.preview\n  };\n  const onBeforeFileAddedResult = this.opts.onBeforeFileAdded(newFile, files);\n\n  if (onBeforeFileAddedResult === false) {\n    // Dont show UI info for this error, as it should be done by the developer\n    const error = new RestrictionError('Cannot add the file because onBeforeFileAdded returned false.');\n    this.emit('restriction-failed', fileDescriptor, error);\n    throw error;\n  } else if (typeof onBeforeFileAddedResult === 'object' && onBeforeFileAddedResult !== null) {\n    newFile = onBeforeFileAddedResult;\n  }\n\n  try {\n    const filesArray = Object.keys(files).map(i => files[i]);\n\n    _classPrivateFieldLooseBase(this, _restricter)[_restricter].validate(newFile, filesArray);\n  } catch (err) {\n    _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit](err, newFile);\n\n    throw err;\n  }\n\n  return newFile;\n}\n\nfunction _startIfAutoProceed2() {\n  if (this.opts.autoProceed && !this.scheduledAutoProceed) {\n    this.scheduledAutoProceed = setTimeout(() => {\n      this.scheduledAutoProceed = null;\n      this.upload().catch(err => {\n        if (!err.isRestriction) {\n          this.log(err.stack || err.message || err);\n        }\n      });\n    }, 4);\n  }\n}\n\nfunction _addListeners2() {\n  /**\n   * @param {Error} error\n   * @param {object} [file]\n   * @param {object} [response]\n   */\n  const errorHandler = (error, file, response) => {\n    let errorMsg = error.message || 'Unknown error';\n\n    if (error.details) {\n      errorMsg += ` ${error.details}`;\n    }\n\n    this.setState({\n      error: errorMsg\n    });\n\n    if (file != null && file.id in this.getState().files) {\n      this.setFileState(file.id, {\n        error: errorMsg,\n        response\n      });\n    }\n  };\n\n  this.on('error', errorHandler);\n  this.on('upload-error', (file, error, response) => {\n    errorHandler(error, file, response);\n\n    if (typeof error === 'object' && error.message) {\n      const newError = new Error(error.message);\n      newError.details = error.message;\n\n      if (error.details) {\n        newError.details += ` ${error.details}`;\n      }\n\n      newError.message = this.i18n('failedToUpload', {\n        file: file == null ? void 0 : file.name\n      });\n\n      _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit](newError);\n    } else {\n      _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit](error);\n    }\n  });\n  this.on('upload', () => {\n    this.setState({\n      error: null\n    });\n  });\n  this.on('upload-started', file => {\n    if (file == null || !this.getFile(file.id)) {\n      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return;\n    }\n\n    this.setFileState(file.id, {\n      progress: {\n        uploadStarted: Date.now(),\n        uploadComplete: false,\n        percentage: 0,\n        bytesUploaded: 0,\n        bytesTotal: file.size\n      }\n    });\n  });\n  this.on('upload-progress', this.calculateProgress);\n  this.on('upload-success', (file, uploadResp) => {\n    if (file == null || !this.getFile(file.id)) {\n      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return;\n    }\n\n    const currentProgress = this.getFile(file.id).progress;\n    this.setFileState(file.id, {\n      progress: { ...currentProgress,\n        postprocess: _classPrivateFieldLooseBase(this, _postProcessors)[_postProcessors].size > 0 ? {\n          mode: 'indeterminate'\n        } : null,\n        uploadComplete: true,\n        percentage: 100,\n        bytesUploaded: currentProgress.bytesTotal\n      },\n      response: uploadResp,\n      uploadURL: uploadResp.uploadURL,\n      isPaused: false\n    }); // Remote providers sometimes don't tell us the file size,\n    // but we can know how many bytes we uploaded once the upload is complete.\n\n    if (file.size == null) {\n      this.setFileState(file.id, {\n        size: uploadResp.bytesUploaded || currentProgress.bytesTotal\n      });\n    }\n\n    this.calculateTotalProgress();\n  });\n  this.on('preprocess-progress', (file, progress) => {\n    if (file == null || !this.getFile(file.id)) {\n      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return;\n    }\n\n    this.setFileState(file.id, {\n      progress: { ...this.getFile(file.id).progress,\n        preprocess: progress\n      }\n    });\n  });\n  this.on('preprocess-complete', file => {\n    if (file == null || !this.getFile(file.id)) {\n      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return;\n    }\n\n    const files = { ...this.getState().files\n    };\n    files[file.id] = { ...files[file.id],\n      progress: { ...files[file.id].progress\n      }\n    };\n    delete files[file.id].progress.preprocess;\n    this.setState({\n      files\n    });\n  });\n  this.on('postprocess-progress', (file, progress) => {\n    if (file == null || !this.getFile(file.id)) {\n      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return;\n    }\n\n    this.setFileState(file.id, {\n      progress: { ...this.getState().files[file.id].progress,\n        postprocess: progress\n      }\n    });\n  });\n  this.on('postprocess-complete', file => {\n    if (file == null || !this.getFile(file.id)) {\n      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return;\n    }\n\n    const files = { ...this.getState().files\n    };\n    files[file.id] = { ...files[file.id],\n      progress: { ...files[file.id].progress\n      }\n    };\n    delete files[file.id].progress.postprocess;\n    this.setState({\n      files\n    });\n  });\n  this.on('restored', () => {\n    // Files may have changed--ensure progress is still accurate.\n    this.calculateTotalProgress();\n  });\n  this.on('dashboard:file-edit-complete', file => {\n    if (file) {\n      _classPrivateFieldLooseBase(this, _checkRequiredMetaFieldsOnFile)[_checkRequiredMetaFieldsOnFile](file);\n    }\n  }); // show informer if offline\n\n  if (typeof window !== 'undefined' && window.addEventListener) {\n    window.addEventListener('online', _classPrivateFieldLooseBase(this, _updateOnlineStatus)[_updateOnlineStatus]);\n    window.addEventListener('offline', _classPrivateFieldLooseBase(this, _updateOnlineStatus)[_updateOnlineStatus]);\n    setTimeout(_classPrivateFieldLooseBase(this, _updateOnlineStatus)[_updateOnlineStatus], 3000);\n  }\n}\n\nfunction _createUpload2(fileIDs, opts) {\n  if (opts === void 0) {\n    opts = {};\n  }\n\n  // uppy.retryAll sets this to true  when retrying we want to ignore `allowNewUpload: false`\n  const {\n    forceAllowNewUpload = false\n  } = opts;\n  const {\n    allowNewUpload,\n    currentUploads\n  } = this.getState();\n\n  if (!allowNewUpload && !forceAllowNewUpload) {\n    throw new Error('Cannot create a new upload: already uploading.');\n  }\n\n  const uploadID = nanoid();\n  this.emit('upload', {\n    id: uploadID,\n    fileIDs\n  });\n  this.setState({\n    allowNewUpload: this.opts.allowMultipleUploadBatches !== false && this.opts.allowMultipleUploads !== false,\n    currentUploads: { ...currentUploads,\n      [uploadID]: {\n        fileIDs,\n        step: 0,\n        result: {}\n      }\n    }\n  });\n  return uploadID;\n}\n\nfunction _getUpload2(uploadID) {\n  const {\n    currentUploads\n  } = this.getState();\n  return currentUploads[uploadID];\n}\n\nfunction _removeUpload2(uploadID) {\n  const currentUploads = { ...this.getState().currentUploads\n  };\n  delete currentUploads[uploadID];\n  this.setState({\n    currentUploads\n  });\n}\n\nasync function _runUpload2(uploadID) {\n  let {\n    currentUploads\n  } = this.getState();\n  let currentUpload = currentUploads[uploadID];\n  const restoreStep = currentUpload.step || 0;\n  const steps = [..._classPrivateFieldLooseBase(this, _preProcessors)[_preProcessors], ..._classPrivateFieldLooseBase(this, _uploaders)[_uploaders], ..._classPrivateFieldLooseBase(this, _postProcessors)[_postProcessors]];\n\n  try {\n    for (let step = restoreStep; step < steps.length; step++) {\n      if (!currentUpload) {\n        break;\n      }\n\n      const fn = steps[step];\n      const updatedUpload = { ...currentUpload,\n        step\n      };\n      this.setState({\n        currentUploads: { ...currentUploads,\n          [uploadID]: updatedUpload\n        }\n      }); // TODO give this the `updatedUpload` object as its only parameter maybe?\n      // Otherwise when more metadata may be added to the upload this would keep getting more parameters\n\n      await fn(updatedUpload.fileIDs, uploadID); // Update currentUpload value in case it was modified asynchronously.\n\n      currentUploads = this.getState().currentUploads;\n      currentUpload = currentUploads[uploadID];\n    }\n  } catch (err) {\n    _classPrivateFieldLooseBase(this, _removeUpload)[_removeUpload](uploadID);\n\n    throw err;\n  } // Set result data.\n\n\n  if (currentUpload) {\n    // Mark postprocessing step as complete if necessary; this addresses a case where we might get\n    // stuck in the postprocessing UI while the upload is fully complete.\n    // If the postprocessing steps do not do any work, they may not emit postprocessing events at\n    // all, and never mark the postprocessing as complete. This is fine on its own but we\n    // introduced code in the @uppy/core upload-success handler to prepare postprocessing progress\n    // state if any postprocessors are registered. That is to avoid a \"flash of completed state\"\n    // before the postprocessing plugins can emit events.\n    //\n    // So, just in case an upload with postprocessing plugins *has* completed *without* emitting\n    // postprocessing completion, we do it instead.\n    currentUpload.fileIDs.forEach(fileID => {\n      const file = this.getFile(fileID);\n\n      if (file && file.progress.postprocess) {\n        this.emit('postprocess-complete', file);\n      }\n    });\n    const files = currentUpload.fileIDs.map(fileID => this.getFile(fileID));\n    const successful = files.filter(file => !file.error);\n    const failed = files.filter(file => file.error);\n    await this.addResultData(uploadID, {\n      successful,\n      failed,\n      uploadID\n    }); // Update currentUpload value in case it was modified asynchronously.\n\n    currentUploads = this.getState().currentUploads;\n    currentUpload = currentUploads[uploadID];\n  } // Emit completion events.\n  // This is in a separate function so that the `currentUploads` variable\n  // always refers to the latest state. In the handler right above it refers\n  // to an outdated object without the `.result` property.\n\n\n  let result;\n\n  if (currentUpload) {\n    result = currentUpload.result;\n    this.emit('complete', result);\n\n    _classPrivateFieldLooseBase(this, _removeUpload)[_removeUpload](uploadID);\n  }\n\n  if (result == null) {\n    this.log(`Not setting result for an upload that has been removed: ${uploadID}`);\n  }\n\n  return result;\n}\n\nUppy.VERSION = packageJson.version;\nexport default Uppy;","import { EMPTY_ARR } from \"./constants\";\n\n/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\t// @ts-ignore We change the type of `obj` to be `O & P`\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\nexport const slice = EMPTY_ARR.slice;\n","import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {import('./internal').Options}\n */\nconst options = {\n\t_catchError\n};\n\nexport default options;\n","import { slice } from './util';\nimport options from './options';\n\nlet vnodeId = 0;\n\n/**\n * Create an virtual node (used for JSX)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * constructor for this virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the virtual node\n * @returns {import('./internal').VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type == 'function' && type.defaultProps != null) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === undefined) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(type, normalizedProps, key, ref, null);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref, original) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t// _nextDom must be initialized to undefined b/c it will eventually\n\t\t// be set to dom.nextSibling which can return `null` and it is important\n\t\t// to be able to distinguish between an uninitialized _nextDom and\n\t\t// a _nextDom that has been set to `null`\n\t\t_nextDom: undefined,\n\t\t_component: null,\n\t\t_hydrating: null,\n\t\tconstructor: undefined,\n\t\t_original: original == null ? ++vnodeId : original\n\t};\n\n\t// Only invoke the vnode hook if this was *not* a direct copy:\n\tif (original == null && options.vnode != null) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn { current: null };\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is import('./internal').VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != null && vnode.constructor === undefined;\n","import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function Component(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @this {import('./internal').Component}\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nComponent.prototype.setState = function(update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState != null && this._nextState !== this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\t// Some libraries like `immer` mark the current state as readonly,\n\t\t// preventing us from mutating it, so we need to clone it. See #2716\n\t\tupdate = update(assign({}, s), this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == null) return;\n\n\tif (this._vnode) {\n\t\tif (callback) {\n\t\t\tthis._stateCallbacks.push(callback);\n\t\t}\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @this {import('./internal').Component}\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nComponent.prototype.forceUpdate = function(callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {import('./index').ComponentChildren | void}\n */\nComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == null) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._parent._children.indexOf(vnode) + 1)\n\t\t\t: null;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != null && sibling._dom != null) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type == 'function' ? getDomSibling(vnode) : null;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet vnode = component._vnode,\n\t\toldDom = vnode._dom,\n\t\tparentDom = component._parentDom;\n\n\tif (parentDom) {\n\t\tlet commitQueue = [];\n\t\tconst oldVNode = assign({}, vnode);\n\t\toldVNode._original = vnode._original + 1;\n\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tvnode,\n\t\t\toldVNode,\n\t\t\tcomponent._globalContext,\n\t\t\tparentDom.ownerSVGElement !== undefined,\n\t\t\tvnode._hydrating != null ? [oldDom] : null,\n\t\t\tcommitQueue,\n\t\t\toldDom == null ? getDomSibling(vnode) : oldDom,\n\t\t\tvnode._hydrating\n\t\t);\n\t\tcommitRoot(commitQueue, vnode);\n\n\t\tif (vnode._dom != oldDom) {\n\t\t\tupdateParentDomPointers(vnode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != null && vnode._component != null) {\n\t\tvnode._dom = vnode._component.base = null;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != null && child._dom != null) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet rerenderQueue = [];\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty &&\n\t\t\t(c._dirty = true) &&\n\t\t\trerenderQueue.push(c) &&\n\t\t\t!process._rerenderCount++) ||\n\t\tprevDebounce !== options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || setTimeout)(process);\n\t}\n}\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet queue;\n\twhile ((process._rerenderCount = rerenderQueue.length)) {\n\t\tqueue = rerenderQueue.sort((a, b) => a._vnode._depth - b._vnode._depth);\n\t\trerenderQueue = [];\n\t\t// Don't update `renderCount` yet. Keep its value non-zero to prevent unnecessary\n\t\t// process() calls from getting scheduled while `queue` is still being consumed.\n\t\tqueue.some(c => {\n\t\t\tif (c._dirty) renderComponent(c);\n\t\t});\n\t}\n}\n\nprocess._rerenderCount = 0;\n","export const EMPTY_OBJ = {};\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n","import { diff, unmount, applyRef } from './index';\nimport { createVNode, Fragment } from '../create-element';\nimport { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { getDomSibling } from '../component';\n\n/**\n * Diff the children of a virtual node\n * @param {import('../internal').PreactElement} parentDom The DOM element whose\n * children are being diffed\n * @param {import('../internal').ComponentChildren[]} renderResult\n * @param {import('../internal').VNode} newParentVNode The new virtual\n * node whose children should be diff'ed against oldParentVNode\n * @param {import('../internal').VNode} oldParentVNode The old virtual\n * node whose children should be diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by getChildContext\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n */\nexport function diffChildren(\n\tparentDom,\n\trenderResult,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet i, j, oldVNode, childVNode, newDom, firstChildDom, refs;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet oldChildrenLength = oldChildren.length;\n\n\tnewParentVNode._children = [];\n\tfor (i = 0; i < renderResult.length; i++) {\n\t\tchildVNode = renderResult[i];\n\n\t\tif (childVNode == null || typeof childVNode == 'boolean') {\n\t\t\tchildVNode = newParentVNode._children[i] = null;\n\t\t}\n\t\t// If this newVNode is being reused (e.g. <div>{reuse}{reuse}</div>) in the same diff,\n\t\t// or we are rendering a component (e.g. setState) copy the oldVNodes so it can have\n\t\t// it's own DOM & etc. pointers\n\t\telse if (\n\t\t\ttypeof childVNode == 'string' ||\n\t\t\ttypeof childVNode == 'number' ||\n\t\t\t// eslint-disable-next-line valid-typeof\n\t\t\ttypeof childVNode == 'bigint'\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tnull,\n\t\t\t\tchildVNode,\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tchildVNode\n\t\t\t);\n\t\t} else if (Array.isArray(childVNode)) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tFragment,\n\t\t\t\t{ children: childVNode },\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tnull\n\t\t\t);\n\t\t} else if (childVNode._depth > 0) {\n\t\t\t// VNode is already in use, clone it. This can happen in the following\n\t\t\t// scenario:\n\t\t\t//   const reuse = <div />\n\t\t\t//   <div>{reuse}<span />{reuse}</div>\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tchildVNode.type,\n\t\t\t\tchildVNode.props,\n\t\t\t\tchildVNode.key,\n\t\t\t\tchildVNode.ref ? childVNode.ref : null,\n\t\t\t\tchildVNode._original\n\t\t\t);\n\t\t} else {\n\t\t\tchildVNode = newParentVNode._children[i] = childVNode;\n\t\t}\n\n\t\t// Terser removes the `continue` here and wraps the loop body\n\t\t// in a `if (childVNode) { ... } condition\n\t\tif (childVNode == null) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tchildVNode._parent = newParentVNode;\n\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\t// Check if we find a corresponding element in oldChildren.\n\t\t// If found, delete the array item by setting to `undefined`.\n\t\t// We use `undefined`, as `null` is reserved for empty placeholders\n\t\t// (holes).\n\t\toldVNode = oldChildren[i];\n\n\t\tif (\n\t\t\toldVNode === null ||\n\t\t\t(oldVNode &&\n\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\tchildVNode.type === oldVNode.type)\n\t\t) {\n\t\t\toldChildren[i] = undefined;\n\t\t} else {\n\t\t\t// Either oldVNode === undefined or oldChildrenLength > 0,\n\t\t\t// so after this loop oldVNode == null or oldVNode is a valid value.\n\t\t\tfor (j = 0; j < oldChildrenLength; j++) {\n\t\t\t\toldVNode = oldChildren[j];\n\t\t\t\t// If childVNode is unkeyed, we only match similarly unkeyed nodes, otherwise we match by key.\n\t\t\t\t// We always match by type (in either case).\n\t\t\t\tif (\n\t\t\t\t\toldVNode &&\n\t\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\t\tchildVNode.type === oldVNode.type\n\t\t\t\t) {\n\t\t\t\t\toldChildren[j] = undefined;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\toldVNode = null;\n\t\t\t}\n\t\t}\n\n\t\toldVNode = oldVNode || EMPTY_OBJ;\n\n\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tchildVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tisSvg,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\toldDom,\n\t\t\tisHydrating\n\t\t);\n\n\t\tnewDom = childVNode._dom;\n\n\t\tif ((j = childVNode.ref) && oldVNode.ref != j) {\n\t\t\tif (!refs) refs = [];\n\t\t\tif (oldVNode.ref) refs.push(oldVNode.ref, null, childVNode);\n\t\t\trefs.push(j, childVNode._component || newDom, childVNode);\n\t\t}\n\n\t\tif (newDom != null) {\n\t\t\tif (firstChildDom == null) {\n\t\t\t\tfirstChildDom = newDom;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\ttypeof childVNode.type == 'function' &&\n\t\t\t\tchildVNode._children === oldVNode._children\n\t\t\t) {\n\t\t\t\tchildVNode._nextDom = oldDom = reorderChildren(\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldDom,\n\t\t\t\t\tparentDom\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldVNode,\n\t\t\t\t\toldChildren,\n\t\t\t\t\tnewDom,\n\t\t\t\t\toldDom\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (typeof newParentVNode.type == 'function') {\n\t\t\t\t// Because the newParentVNode is Fragment-like, we need to set it's\n\t\t\t\t// _nextDom property to the nextSibling of its last child DOM node.\n\t\t\t\t//\n\t\t\t\t// `oldDom` contains the correct value here because if the last child\n\t\t\t\t// is a Fragment-like, then oldDom has already been set to that child's _nextDom.\n\t\t\t\t// If the last child is a DOM VNode, then oldDom will be set to that DOM\n\t\t\t\t// node's nextSibling.\n\t\t\t\tnewParentVNode._nextDom = oldDom;\n\t\t\t}\n\t\t} else if (\n\t\t\toldDom &&\n\t\t\toldVNode._dom == oldDom &&\n\t\t\toldDom.parentNode != parentDom\n\t\t) {\n\t\t\t// The above condition is to handle null placeholders. See test in placeholder.test.js:\n\t\t\t// `efficiently replace null placeholders in parent rerenders`\n\t\t\toldDom = getDomSibling(oldVNode);\n\t\t}\n\t}\n\n\tnewParentVNode._dom = firstChildDom;\n\n\t// Remove remaining oldChildren if there are any.\n\tfor (i = oldChildrenLength; i--; ) {\n\t\tif (oldChildren[i] != null) {\n\t\t\tunmount(oldChildren[i], oldChildren[i]);\n\t\t}\n\t}\n\n\t// Set refs only after unmount\n\tif (refs) {\n\t\tfor (i = 0; i < refs.length; i++) {\n\t\t\tapplyRef(refs[i], refs[++i], refs[++i]);\n\t\t}\n\t}\n}\n\nfunction reorderChildren(childVNode, oldDom, parentDom) {\n\t// Note: VNodes in nested suspended trees may be missing _children.\n\tlet c = childVNode._children;\n\tlet tmp = 0;\n\tfor (; c && tmp < c.length; tmp++) {\n\t\tlet vnode = c[tmp];\n\t\tif (vnode) {\n\t\t\t// We typically enter this code path on sCU bailout, where we copy\n\t\t\t// oldVNode._children to newVNode._children. If that is the case, we need\n\t\t\t// to update the old children's _parent pointer to point to the newVNode\n\t\t\t// (childVNode here).\n\t\t\tvnode._parent = childVNode;\n\n\t\t\tif (typeof vnode.type == 'function') {\n\t\t\t\toldDom = reorderChildren(vnode, oldDom, parentDom);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(parentDom, vnode, vnode, c, vnode._dom, oldDom);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn oldDom;\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {import('../index').ComponentChildren} children The unflattened\n * children of a virtual node\n * @returns {import('../internal').VNode[]}\n */\nexport function toChildArray(children, out) {\n\tout = out || [];\n\tif (children == null || typeof children == 'boolean') {\n\t} else if (Array.isArray(children)) {\n\t\tchildren.some(child => {\n\t\t\ttoChildArray(child, out);\n\t\t});\n\t} else {\n\t\tout.push(children);\n\t}\n\treturn out;\n}\n\nfunction placeChild(\n\tparentDom,\n\tchildVNode,\n\toldVNode,\n\toldChildren,\n\tnewDom,\n\toldDom\n) {\n\tlet nextDom;\n\tif (childVNode._nextDom !== undefined) {\n\t\t// Only Fragments or components that return Fragment like VNodes will\n\t\t// have a non-undefined _nextDom. Continue the diff from the sibling\n\t\t// of last DOM child of this child VNode\n\t\tnextDom = childVNode._nextDom;\n\n\t\t// Eagerly cleanup _nextDom. We don't need to persist the value because\n\t\t// it is only used by `diffChildren` to determine where to resume the diff after\n\t\t// diffing Components and Fragments. Once we store it the nextDOM local var, we\n\t\t// can clean up the property\n\t\tchildVNode._nextDom = undefined;\n\t} else if (\n\t\toldVNode == null ||\n\t\tnewDom != oldDom ||\n\t\tnewDom.parentNode == null\n\t) {\n\t\touter: if (oldDom == null || oldDom.parentNode !== parentDom) {\n\t\t\tparentDom.appendChild(newDom);\n\t\t\tnextDom = null;\n\t\t} else {\n\t\t\t// `j<oldChildrenLength; j+=2` is an alternative to `j++<oldChildrenLength/2`\n\t\t\tfor (\n\t\t\t\tlet sibDom = oldDom, j = 0;\n\t\t\t\t(sibDom = sibDom.nextSibling) && j < oldChildren.length;\n\t\t\t\tj += 2\n\t\t\t) {\n\t\t\t\tif (sibDom == newDom) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t}\n\t\t\tparentDom.insertBefore(newDom, oldDom);\n\t\t\tnextDom = oldDom;\n\t\t}\n\t}\n\n\t// If we have pre-calculated the nextDOM node, use it. Else calculate it now\n\t// Strictly check for `undefined` here cuz `null` is a valid value of `nextDom`.\n\t// See more detail in create-element.js:createVNode\n\tif (nextDom !== undefined) {\n\t\toldDom = nextDom;\n\t} else {\n\t\toldDom = newDom.nextSibling;\n\t}\n\n\treturn oldDom;\n}\n","import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\n/**\n * Diff the old and new properties of a VNode and apply changes to the DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to apply\n * changes to\n * @param {object} newProps The new props\n * @param {object} oldProps The old props\n * @param {boolean} isSvg Whether or not this node is an SVG node\n * @param {boolean} hydrate Whether or not we are in hydration mode\n */\nexport function diffProps(dom, newProps, oldProps, isSvg, hydrate) {\n\tlet i;\n\n\tfor (i in oldProps) {\n\t\tif (i !== 'children' && i !== 'key' && !(i in newProps)) {\n\t\t\tsetProperty(dom, i, null, oldProps[i], isSvg);\n\t\t}\n\t}\n\n\tfor (i in newProps) {\n\t\tif (\n\t\t\t(!hydrate || typeof newProps[i] == 'function') &&\n\t\t\ti !== 'children' &&\n\t\t\ti !== 'key' &&\n\t\t\ti !== 'value' &&\n\t\t\ti !== 'checked' &&\n\t\t\toldProps[i] !== newProps[i]\n\t\t) {\n\t\t\tsetProperty(dom, i, newProps[i], oldProps[i], isSvg);\n\t\t}\n\t}\n}\n\nfunction setStyle(style, key, value) {\n\tif (key[0] === '-') {\n\t\tstyle.setProperty(key, value);\n\t} else if (value == null) {\n\t\tstyle[key] = '';\n\t} else if (typeof value != 'number' || IS_NON_DIMENSIONAL.test(key)) {\n\t\tstyle[key] = value;\n\t} else {\n\t\tstyle[key] = value + 'px';\n\t}\n}\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node or not\n */\nexport function setProperty(dom, name, value, oldValue, isSvg) {\n\tlet useCapture;\n\n\to: if (name === 'style') {\n\t\tif (typeof value == 'string') {\n\t\t\tdom.style.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue == 'string') {\n\t\t\t\tdom.style.cssText = oldValue = '';\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (name in oldValue) {\n\t\t\t\t\tif (!(value && name in value)) {\n\t\t\t\t\t\tsetStyle(dom.style, name, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (name in value) {\n\t\t\t\t\tif (!oldValue || value[name] !== oldValue[name]) {\n\t\t\t\t\t\tsetStyle(dom.style, name, value[name]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] === 'o' && name[1] === 'n') {\n\t\tuseCapture = name !== (name = name.replace(/Capture$/, ''));\n\n\t\t// Infer correct casing for DOM built-in events:\n\t\tif (name.toLowerCase() in dom) name = name.toLowerCase().slice(2);\n\t\telse name = name.slice(2);\n\n\t\tif (!dom._listeners) dom._listeners = {};\n\t\tdom._listeners[name + useCapture] = value;\n\n\t\tif (value) {\n\t\t\tif (!oldValue) {\n\t\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\t\tdom.addEventListener(name, handler, useCapture);\n\t\t\t}\n\t\t} else {\n\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\tdom.removeEventListener(name, handler, useCapture);\n\t\t}\n\t} else if (name !== 'dangerouslySetInnerHTML') {\n\t\tif (isSvg) {\n\t\t\t// Normalize incorrect prop usage for SVG:\n\t\t\t// - xlink:href / xlinkHref --> href (xlink:href was removed from SVG and isn't needed)\n\t\t\t// - className --> class\n\t\t\tname = name.replace(/xlink(H|:h)/, 'h').replace(/sName$/, 's');\n\t\t} else if (\n\t\t\tname !== 'href' &&\n\t\t\tname !== 'list' &&\n\t\t\tname !== 'form' &&\n\t\t\t// Default value in browsers is `-1` and an empty string is\n\t\t\t// cast to `0` instead\n\t\t\tname !== 'tabIndex' &&\n\t\t\tname !== 'download' &&\n\t\t\tname in dom\n\t\t) {\n\t\t\ttry {\n\t\t\t\tdom[name] = value == null ? '' : value;\n\t\t\t\t// labelled break is 1b smaller here than a return statement (sorry)\n\t\t\t\tbreak o;\n\t\t\t} catch (e) {}\n\t\t}\n\n\t\t// ARIA-attributes have a different notion of boolean values.\n\t\t// The value `false` is different from the attribute not\n\t\t// existing on the DOM, so we can't remove it. For non-boolean\n\t\t// ARIA-attributes we could treat false as a removal, but the\n\t\t// amount of exceptions would cost us too many bytes. On top of\n\t\t// that other VDOM frameworks also always stringify `false`.\n\n\t\tif (typeof value === 'function') {\n\t\t\t// never serialize functions as attribute values\n\t\t} else if (value != null && (value !== false || name.indexOf('-') != -1)) {\n\t\t\tdom.setAttribute(name, value);\n\t\t} else {\n\t\t\tdom.removeAttribute(name);\n\t\t}\n\t}\n}\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n\tthis._listeners[e.type + false](options.event ? options.event(e) : e);\n}\n\nfunction eventProxyCapture(e) {\n\tthis._listeners[e.type + true](options.event ? options.event(e) : e);\n}\n","import { EMPTY_OBJ } from '../constants';\nimport { Component, getDomSibling } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren } from './children';\nimport { diffProps, setProperty } from './props';\nimport { assign, removeNode, slice } from '../util';\nimport options from '../options';\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {import('../internal').PreactElement} parentDom The parent of the DOM element\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by getChildContext\n * @param {boolean} isSvg Whether or not this element is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} [isHydrating] Whether or not we are in hydration\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor !== undefined) return null;\n\n\t// If the previous diff bailed out, resume creating/hydrating.\n\tif (oldVNode._hydrating != null) {\n\t\tisHydrating = oldVNode._hydrating;\n\t\toldDom = newVNode._dom = oldVNode._dom;\n\t\t// if we resume, we want the tree to be \"unlocked\"\n\t\tnewVNode._hydrating = null;\n\t\texcessDomChildren = [oldDom];\n\t}\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\ttry {\n\t\touter: if (typeof newType == 'function') {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\t\t// @ts-ignore The check above verifies that newType is suppose to be constructed\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\t// @ts-ignore Trust me, Component implements the interface we want\n\t\t\t\t\tnewVNode._component = c = new Component(newProps, componentContext);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = componentContext;\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (c._nextState == null) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\n\t\t\tif (newType.getDerivedStateFromProps != null) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tc.componentWillMount != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidMount != null) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t(!c._force &&\n\t\t\t\t\t\tc.shouldComponentUpdate != null &&\n\t\t\t\t\t\tc.shouldComponentUpdate(\n\t\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\t\tc._nextState,\n\t\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t\t) === false) ||\n\t\t\t\t\tnewVNode._original === oldVNode._original\n\t\t\t\t) {\n\t\t\t\t\tc.props = newProps;\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\t// More info about this here: https://gist.github.com/JoviDeCroock/bec5f2ce93544d2e6070ef8e0036e4e8\n\t\t\t\t\tif (newVNode._original !== oldVNode._original) c._dirty = false;\n\t\t\t\t\tc._vnode = newVNode;\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tnewVNode._children.forEach(vnode => {\n\t\t\t\t\t\tif (vnode) vnode._parent = newVNode;\n\t\t\t\t\t});\n\n\t\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t\t}\n\t\t\t\t\tc._stateCallbacks = [];\n\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != null) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidUpdate != null) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc._vnode = newVNode;\n\t\t\tc._parentDom = parentDom;\n\n\t\t\tlet renderHook = options._render,\n\t\t\t\tcount = 0;\n\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\tc.state = c._nextState;\n\t\t\t\tc._dirty = false;\n\n\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t}\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t} else {\n\t\t\t\tdo {\n\t\t\t\t\tc._dirty = false;\n\t\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\t\t// Handle setState called in render, see #2553\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t} while (c._dirty && ++count < 25);\n\t\t\t}\n\n\t\t\t// Handle setState called in render, see #2553\n\t\t\tc.state = c._nextState;\n\n\t\t\tif (c.getChildContext != null) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (!isNew && c.getSnapshotBeforeUpdate != null) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != null && tmp.type === Fragment && tmp.key == null;\n\t\t\tlet renderResult = isTopLevelFragment ? tmp.props.children : tmp;\n\n\t\t\tdiffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tArray.isArray(renderResult) ? renderResult : [renderResult],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\t// We successfully rendered this VNode, unset any stored hydration/bailout state:\n\t\t\tnewVNode._hydrating = null;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = null;\n\t\t\t}\n\n\t\t\tc._force = false;\n\t\t} else if (\n\t\t\texcessDomChildren == null &&\n\t\t\tnewVNode._original === oldVNode._original\n\t\t) {\n\t\t\tnewVNode._children = oldVNode._children;\n\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t} else {\n\t\t\tnewVNode._dom = diffElementNodes(\n\t\t\t\toldVNode._dom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\tisHydrating\n\t\t\t);\n\t\t}\n\n\t\tif ((tmp = options.diffed)) tmp(newVNode);\n\t} catch (e) {\n\t\tnewVNode._original = null;\n\t\t// if hydrating or creating initial tree, bailout preserves DOM:\n\t\tif (isHydrating || excessDomChildren != null) {\n\t\t\tnewVNode._dom = oldDom;\n\t\t\tnewVNode._hydrating = !!isHydrating;\n\t\t\texcessDomChildren[excessDomChildren.indexOf(oldDom)] = null;\n\t\t\t// ^ could possibly be simplified to:\n\t\t\t// excessDomChildren.length = 0;\n\t\t}\n\t\toptions._catchError(e, newVNode, oldVNode);\n\t}\n}\n\n/**\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').VNode} root\n */\nexport function commitRoot(commitQueue, root) {\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\t// @ts-ignore Reuse the commitQueue variable here so the type changes\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\t// @ts-ignore See above ts-ignore on commitQueue\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {import('../internal').PreactElement} dom The DOM element representing\n * the virtual nodes being diffed\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {*} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @returns {import('../internal').PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating\n) {\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\tlet nodeType = newVNode.type;\n\tlet i = 0;\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tif (nodeType === 'svg') isSvg = true;\n\n\tif (excessDomChildren != null) {\n\t\tfor (; i < excessDomChildren.length; i++) {\n\t\t\tconst child = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\tif (\n\t\t\t\tchild &&\n\t\t\t\t'setAttribute' in child === !!nodeType &&\n\t\t\t\t(nodeType ? child.localName === nodeType : child.nodeType === 3)\n\t\t\t) {\n\t\t\t\tdom = child;\n\t\t\t\texcessDomChildren[i] = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == null) {\n\t\tif (nodeType === null) {\n\t\t\t// @ts-ignore createTextNode returns Text, we expect PreactElement\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tif (isSvg) {\n\t\t\tdom = document.createElementNS(\n\t\t\t\t'http://www.w3.org/2000/svg',\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType\n\t\t\t);\n\t\t} else {\n\t\t\tdom = document.createElement(\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType,\n\t\t\t\tnewProps.is && newProps\n\t\t\t);\n\t\t}\n\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = null;\n\t\t// we are creating a new node, so we can assume this is a new subtree (in case we are hydrating), this deopts the hydrate\n\t\tisHydrating = false;\n\t}\n\n\tif (nodeType === null) {\n\t\t// During hydration, we still have to split merged text from SSR'd HTML.\n\t\tif (oldProps !== newProps && (!isHydrating || dom.data !== newProps)) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else {\n\t\t// If excessDomChildren was not null, repopulate it with the current element's children:\n\t\texcessDomChildren = excessDomChildren && slice.call(dom.childNodes);\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\tlet oldHtml = oldProps.dangerouslySetInnerHTML;\n\t\tlet newHtml = newProps.dangerouslySetInnerHTML;\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tif (!isHydrating) {\n\t\t\t// But, if we are in a situation where we are using existing DOM (e.g. replaceNode)\n\t\t\t// we should read the existing DOM attributes to diff them\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\toldProps = {};\n\t\t\t\tfor (i = 0; i < dom.attributes.length; i++) {\n\t\t\t\t\toldProps[dom.attributes[i].name] = dom.attributes[i].value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (newHtml || oldHtml) {\n\t\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\t\tif (\n\t\t\t\t\t!newHtml ||\n\t\t\t\t\t((!oldHtml || newHtml.__html != oldHtml.__html) &&\n\t\t\t\t\t\tnewHtml.__html !== dom.innerHTML)\n\t\t\t\t) {\n\t\t\t\t\tdom.innerHTML = (newHtml && newHtml.__html) || '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdiffProps(dom, newProps, oldProps, isSvg, isHydrating);\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (newHtml) {\n\t\t\tnewVNode._children = [];\n\t\t} else {\n\t\t\ti = newVNode.props.children;\n\t\t\tdiffChildren(\n\t\t\t\tdom,\n\t\t\t\tArray.isArray(i) ? i : [i],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg && nodeType !== 'foreignObject',\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\texcessDomChildren\n\t\t\t\t\t? excessDomChildren[0]\n\t\t\t\t\t: oldVNode._children && getDomSibling(oldVNode, 0),\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\t// Remove children that are not part of any vnode.\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\t\t\tif (excessDomChildren[i] != null) removeNode(excessDomChildren[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// (as above, don't diff props during hydration)\n\t\tif (!isHydrating) {\n\t\t\tif (\n\t\t\t\t'value' in newProps &&\n\t\t\t\t(i = newProps.value) !== undefined &&\n\t\t\t\t// #2756 For the <progress>-element the initial value is 0,\n\t\t\t\t// despite the attribute not being present. When the attribute\n\t\t\t\t// is missing the progress bar is treated as indeterminate.\n\t\t\t\t// To fix that we'll always update it when it is 0 for progress elements\n\t\t\t\t(i !== dom.value ||\n\t\t\t\t\t(nodeType === 'progress' && !i) ||\n\t\t\t\t\t// This is only for IE 11 to fix <select> value not being updated.\n\t\t\t\t\t// To avoid a stale select value we need to set the option.value\n\t\t\t\t\t// again, which triggers IE11 to re-evaluate the select value\n\t\t\t\t\t(nodeType === 'option' && i !== oldProps.value))\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'value', i, oldProps.value, false);\n\t\t\t}\n\t\t\tif (\n\t\t\t\t'checked' in newProps &&\n\t\t\t\t(i = newProps.checked) !== undefined &&\n\t\t\t\ti !== dom.checked\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'checked', i, oldProps.checked, false);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {object|function} ref\n * @param {any} value\n * @param {import('../internal').VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') ref(value);\n\t\telse ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {import('../internal').VNode} vnode The virtual node to unmount\n * @param {import('../internal').VNode} parentVNode The parent of the VNode that\n * initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current === vnode._dom) {\n\t\t\tapplyRef(r, null, parentVNode);\n\t\t}\n\t}\n\n\tif ((r = vnode._component) != null) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = null;\n\t\tvnode._component = undefined;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) {\n\t\t\t\tunmount(\n\t\t\t\t\tr[i],\n\t\t\t\t\tparentVNode,\n\t\t\t\t\tskipRemove || typeof vnode.type !== 'function'\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!skipRemove && vnode._dom != null) {\n\t\tremoveNode(vnode._dom);\n\t}\n\n\t// Must be set to `undefined` to properly clean up `_nextDom`\n\t// for which `null` is a valid value. See comment in `create-element.js`\n\tvnode._parent = vnode._dom = vnode._nextDom = undefined;\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n","import { EMPTY_OBJ } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\nimport { slice } from './util';\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * render into\n * @param {import('./internal').PreactElement | object} [replaceNode] Optional: Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\tif (options._root) options._root(vnode, parentDom);\n\n\t// We abuse the `replaceNode` parameter in `hydrate()` to signal if we are in\n\t// hydration mode or not by passing the `hydrate` function instead of a DOM\n\t// element..\n\tlet isHydrating = typeof replaceNode === 'function';\n\n\t// To be able to support calling `render()` multiple times on the same\n\t// DOM node, we need to obtain a reference to the previous tree. We do\n\t// this by assigning a new `_children` property to DOM nodes which points\n\t// to the last rendered tree. By default this property is not present, which\n\t// means that we are mounting a new tree for the first time.\n\tlet oldVNode = isHydrating\n\t\t? null\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\n\tvnode = (\n\t\t(!isHydrating && replaceNode) ||\n\t\tparentDom\n\t)._children = createElement(Fragment, null, [vnode]);\n\n\t// List of effects that need to be called after diffing.\n\tlet commitQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t// Determine the new vnode tree and store it on the DOM element on\n\t\t// our custom `_children` property.\n\t\tvnode,\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.ownerSVGElement !== undefined,\n\t\t!isHydrating && replaceNode\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t? null\n\t\t\t: parentDom.firstChild\n\t\t\t? slice.call(parentDom.childNodes)\n\t\t\t: null,\n\t\tcommitQueue,\n\t\t!isHydrating && replaceNode\n\t\t\t? replaceNode\n\t\t\t: oldVNode\n\t\t\t? oldVNode._dom\n\t\t\t: parentDom.firstChild,\n\t\tisHydrating\n\t);\n\n\t// Flush all queued effects\n\tcommitRoot(commitQueue, vnode);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, hydrate);\n}\n","import { assign, slice } from './util';\nimport { createVNode } from './create-element';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its children.\n * @param {import('./internal').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Any additional arguments will be used as replacement children.\n * @returns {import('./internal').VNode}\n */\nexport function cloneElement(vnode, props, children) {\n\tlet normalizedProps = assign({}, vnode.props),\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\treturn createVNode(\n\t\tvnode.type,\n\t\tnormalizedProps,\n\t\tkey || vnode.key,\n\t\tref || vnode.ref,\n\t\tnull\n\t);\n}\n","/**\n * Check if an object is a DOM element. Duck-typing based on `nodeType`.\n *\n * @param {*} obj\n */\nexport default function isDOMElement(obj) {\n  return (obj == null ? void 0 : obj.nodeType) === Node.ELEMENT_NODE;\n}","/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw\n * the error that was caught (except for unmounting when this parameter\n * is the highest parent that was being unmounted)\n * @param {import('../internal').VNode} [oldVNode]\n * @param {import('../internal').ErrorInfo} [errorInfo]\n */\nexport function _catchError(error, vnode, oldVNode, errorInfo) {\n\t/** @type {import('../internal').Component} */\n\tlet component, ctor, handled;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tctor = component.constructor;\n\n\t\t\t\tif (ctor && ctor.getDerivedStateFromError != null) {\n\t\t\t\t\tcomponent.setState(ctor.getDerivedStateFromError(error));\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != null) {\n\t\t\t\t\tcomponent.componentDidCatch(error, errorInfo || {});\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\t// This is an error boundary. Mark it as having bailed out, and whether it was mid-hydration.\n\t\t\t\tif (handled) {\n\t\t\t\t\treturn (component._pendingError = component);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n","/**\n * Get the declared text direction for an element.\n *\n * @param {Node} element\n * @returns {string|undefined}\n */\nfunction getTextDirection(element) {\n  var _element;\n\n  // There is another way to determine text direction using getComputedStyle(), as done here:\n  // https://github.com/pencil-js/text-direction/blob/2a235ce95089b3185acec3b51313cbba921b3811/text-direction.js\n  //\n  // We do not use that approach because we are interested specifically in the _declared_ text direction.\n  // If no text direction is declared, we have to provide our own explicit text direction so our\n  // bidirectional CSS style sheets work.\n  while (element && !element.dir) {\n    // eslint-disable-next-line no-param-reassign\n    element = element.parentNode;\n  }\n\n  return (_element = element) == null ? void 0 : _element.dir;\n}\n\nexport default getTextDirection;","/**\n * Core plugin logic that all plugins share.\n *\n * BasePlugin does not contain DOM rendering so it can be used for plugins\n * without a user interface.\n *\n * See `Plugin` for the extended version with Preact rendering for interfaces.\n */\nimport Translator from '@uppy/utils/lib/Translator';\nexport default class BasePlugin {\n  constructor(uppy, opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    this.uppy = uppy;\n    this.opts = opts;\n  }\n\n  getPluginState() {\n    const {\n      plugins\n    } = this.uppy.getState();\n    return plugins[this.id] || {};\n  }\n\n  setPluginState(update) {\n    const {\n      plugins\n    } = this.uppy.getState();\n    this.uppy.setState({\n      plugins: { ...plugins,\n        [this.id]: { ...plugins[this.id],\n          ...update\n        }\n      }\n    });\n  }\n\n  setOptions(newOpts) {\n    this.opts = { ...this.opts,\n      ...newOpts\n    };\n    this.setPluginState(); // so that UI re-renders with new options\n\n    this.i18nInit();\n  }\n\n  i18nInit() {\n    const translator = new Translator([this.defaultLocale, this.uppy.locale, this.opts.locale]);\n    this.i18n = translator.translate.bind(translator);\n    this.i18nArray = translator.translateArray.bind(translator);\n    this.setPluginState(); // so that UI re-renders and we see the updated locale\n  }\n  /**\n   * Extendable methods\n   * ==================\n   * These methods are here to serve as an overview of the extendable methods as well as\n   * making them not conditional in use, such as `if (this.afterUpdate)`.\n   */\n  // eslint-disable-next-line class-methods-use-this\n\n\n  addTarget() {\n    throw new Error('Extend the addTarget method to add your plugin to another plugin\\'s target');\n  } // eslint-disable-next-line class-methods-use-this\n\n\n  install() {} // eslint-disable-next-line class-methods-use-this\n\n\n  uninstall() {}\n  /**\n   * Called when plugin is mounted, whether in DOM or into another plugin.\n   * Needed because sometimes plugins are mounted separately/after `install`,\n   * so this.el and this.parent might not be available in `install`.\n   * This is the case with @uppy/react plugins, for example.\n   */\n\n\n  render() {\n    throw new Error('Extend the render method to add your plugin to a DOM element');\n  } // eslint-disable-next-line class-methods-use-this\n\n\n  update() {} // Called after every state update, after everything's mounted. Debounced.\n  // eslint-disable-next-line class-methods-use-this\n\n\n  afterUpdate() {}\n\n}","function _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\n\nvar id = 0;\n\nfunction _classPrivateFieldLooseKey(name) { return \"__private_\" + id++ + \"_\" + name; }\n\nimport { render } from 'preact';\nimport findDOMElement from '@uppy/utils/lib/findDOMElement';\nimport getTextDirection from '@uppy/utils/lib/getTextDirection';\nimport BasePlugin from './BasePlugin.js';\n/**\n * Defer a frequent call to the microtask queue.\n *\n * @param {() => T} fn\n * @returns {Promise<T>}\n */\n\nfunction debounce(fn) {\n  let calling = null;\n  let latestArgs = null;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    latestArgs = args;\n\n    if (!calling) {\n      calling = Promise.resolve().then(() => {\n        calling = null; // At this point `args` may be different from the most\n        // recent state, if multiple calls happened since this task\n        // was queued. So we use the `latestArgs`, which definitely\n        // is the most recent call.\n\n        return fn(...latestArgs);\n      });\n    }\n\n    return calling;\n  };\n}\n/**\n * UIPlugin is the extended version of BasePlugin to incorporate rendering with Preact.\n * Use this for plugins that need a user interface.\n *\n * For plugins without an user interface, see BasePlugin.\n */\n\n\nvar _updateUI = /*#__PURE__*/_classPrivateFieldLooseKey(\"updateUI\");\n\nclass UIPlugin extends BasePlugin {\n  constructor() {\n    super(...arguments);\n    Object.defineProperty(this, _updateUI, {\n      writable: true,\n      value: void 0\n    });\n  }\n\n  getTargetPlugin(target) {\n    let targetPlugin;\n\n    if (typeof target === 'object' && target instanceof UIPlugin) {\n      // Targeting a plugin *instance*\n      targetPlugin = target;\n    } else if (typeof target === 'function') {\n      // Targeting a plugin type\n      const Target = target; // Find the target plugin instance.\n\n      this.uppy.iteratePlugins(p => {\n        if (p instanceof Target) {\n          targetPlugin = p;\n        }\n      });\n    }\n\n    return targetPlugin;\n  }\n  /**\n   * Check if supplied `target` is a DOM element or an `object`.\n   * If its an object  target is a plugin, and we search `plugins`\n   * for a plugin with same name and return its target.\n   */\n\n\n  mount(target, plugin) {\n    const callerPluginName = plugin.id;\n    const targetElement = findDOMElement(target);\n\n    if (targetElement) {\n      this.isTargetDOMEl = true; // When target is <body> with a single <div> element,\n      // Preact thinks its the Uppy root element in there when doing a diff,\n      // and destroys it. So we are creating a fragment (could be empty div)\n\n      const uppyRootElement = document.createElement('div');\n      uppyRootElement.classList.add('uppy-Root'); // API for plugins that require a synchronous rerender.\n\n      _classPrivateFieldLooseBase(this, _updateUI)[_updateUI] = debounce(state => {\n        // plugin could be removed, but this.rerender is debounced below,\n        // so it could still be called even after uppy.removePlugin or uppy.close\n        // hence the check\n        if (!this.uppy.getPlugin(this.id)) return;\n        render(this.render(state), uppyRootElement);\n        this.afterUpdate();\n      });\n      this.uppy.log(`Installing ${callerPluginName} to a DOM element '${target}'`);\n\n      if (this.opts.replaceTargetContent) {\n        // Doing render(h(null), targetElement), which should have been\n        // a better way, since because the component might need to do additional cleanup when it is removed,\n        // stopped working  Preact just adds null into target, not replacing\n        targetElement.innerHTML = '';\n      }\n\n      render(this.render(this.uppy.getState()), uppyRootElement);\n      this.el = uppyRootElement;\n      targetElement.appendChild(uppyRootElement); // Set the text direction if the page has not defined one.\n\n      uppyRootElement.dir = this.opts.direction || getTextDirection(uppyRootElement) || 'ltr';\n      this.onMount();\n      return this.el;\n    }\n\n    const targetPlugin = this.getTargetPlugin(target);\n\n    if (targetPlugin) {\n      this.uppy.log(`Installing ${callerPluginName} to ${targetPlugin.id}`);\n      this.parent = targetPlugin;\n      this.el = targetPlugin.addTarget(plugin);\n      this.onMount();\n      return this.el;\n    }\n\n    this.uppy.log(`Not installing ${callerPluginName}`);\n    let message = `Invalid target option given to ${callerPluginName}.`;\n\n    if (typeof target === 'function') {\n      message += ' The given target is not a Plugin class. ' + 'Please check that you\\'re not specifying a React Component instead of a plugin. ' + 'If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: ' + 'run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.';\n    } else {\n      message += 'If you meant to target an HTML element, please make sure that the element exists. ' + 'Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. ' + '(see https://github.com/transloadit/uppy/issues/1042)\\n\\n' + 'If you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.';\n    }\n\n    throw new Error(message);\n  }\n\n  update(state) {\n    if (this.el != null) {\n      var _classPrivateFieldLoo, _classPrivateFieldLoo2;\n\n      (_classPrivateFieldLoo = (_classPrivateFieldLoo2 = _classPrivateFieldLooseBase(this, _updateUI))[_updateUI]) == null ? void 0 : _classPrivateFieldLoo.call(_classPrivateFieldLoo2, state);\n    }\n  }\n\n  unmount() {\n    if (this.isTargetDOMEl) {\n      var _this$el;\n\n      (_this$el = this.el) == null ? void 0 : _this$el.remove();\n    }\n\n    this.onUnmount();\n  } // eslint-disable-next-line class-methods-use-this\n\n\n  onMount() {} // eslint-disable-next-line class-methods-use-this\n\n\n  onUnmount() {}\n\n}\n\nexport default UIPlugin;","import isDOMElement from './isDOMElement.js';\n/**\n * Find a DOM element.\n *\n * @param {Node|string} element\n * @returns {Node|null}\n */\n\nexport default function findDOMElement(element, context) {\n  if (context === void 0) {\n    context = document;\n  }\n\n  if (typeof element === 'string') {\n    return context.querySelector(element);\n  }\n\n  if (isDOMElement(element)) {\n    return element;\n  }\n\n  return null;\n}","class NetworkError extends Error {\n  constructor(error, xhr) {\n    if (xhr === void 0) {\n      xhr = null;\n    }\n\n    super(`This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.`);\n    this.cause = error;\n    this.isNetworkError = true;\n    this.request = xhr;\n  }\n\n}\n\nexport default NetworkError;","import NetworkError from './NetworkError.js';\n/**\n * Wrapper around window.fetch that throws a NetworkError when appropriate\n */\n\nexport default function fetchWithNetworkError() {\n  return fetch(...arguments).catch(err => {\n    if (err.name === 'AbortError') {\n      throw err;\n    } else {\n      throw new NetworkError(err);\n    }\n  });\n}","import hasProperty from './hasProperty.js';\n\nclass ErrorWithCause extends Error {\n  constructor(message, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    super(message);\n    this.cause = options.cause;\n\n    if (this.cause && hasProperty(this.cause, 'isNetworkError')) {\n      this.isNetworkError = this.cause.isNetworkError;\n    }\n  }\n\n}\n\nexport default ErrorWithCause;","'use strict';\n\nclass AuthError extends Error {\n  constructor() {\n    super('Authorization required');\n    this.name = 'AuthError';\n    this.isAuthError = true;\n  }\n\n}\n\nexport default AuthError;","'use strict';\n\nlet _Symbol$for;\n\nfunction _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\n\nvar id = 0;\n\nfunction _classPrivateFieldLooseKey(name) { return \"__private_\" + id++ + \"_\" + name; }\n\nimport fetchWithNetworkError from '@uppy/utils/lib/fetchWithNetworkError';\nimport ErrorWithCause from '@uppy/utils/lib/ErrorWithCause';\nimport AuthError from './AuthError.js';\nconst packageJson = {\n  \"version\": \"3.0.2\"\n}; // Remove the trailing slash so we can always safely append /xyz.\n\nfunction stripSlash(url) {\n  return url.replace(/\\/$/, '');\n}\n\nasync function handleJSONResponse(res) {\n  if (res.status === 401) {\n    throw new AuthError();\n  }\n\n  const jsonPromise = res.json();\n\n  if (res.status < 200 || res.status > 300) {\n    let errMsg = `Failed request with status: ${res.status}. ${res.statusText}`;\n\n    try {\n      const errData = await jsonPromise;\n      errMsg = errData.message ? `${errMsg} message: ${errData.message}` : errMsg;\n      errMsg = errData.requestId ? `${errMsg} request-Id: ${errData.requestId}` : errMsg;\n    } finally {\n      // eslint-disable-next-line no-unsafe-finally\n      throw new Error(errMsg);\n    }\n  }\n\n  return jsonPromise;\n}\n\nvar _companionHeaders = /*#__PURE__*/_classPrivateFieldLooseKey(\"companionHeaders\");\n\nvar _getPostResponseFunc = /*#__PURE__*/_classPrivateFieldLooseKey(\"getPostResponseFunc\");\n\nvar _getUrl = /*#__PURE__*/_classPrivateFieldLooseKey(\"getUrl\");\n\nvar _errorHandler = /*#__PURE__*/_classPrivateFieldLooseKey(\"errorHandler\");\n\n_Symbol$for = Symbol.for('uppy test: getCompanionHeaders');\nexport default class RequestClient {\n  constructor(uppy, opts) {\n    Object.defineProperty(this, _errorHandler, {\n      value: _errorHandler2\n    });\n    Object.defineProperty(this, _getUrl, {\n      value: _getUrl2\n    });\n    Object.defineProperty(this, _companionHeaders, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _getPostResponseFunc, {\n      writable: true,\n      value: skip => response => skip ? response : this.onReceiveResponse(response)\n    });\n    this.uppy = uppy;\n    this.opts = opts;\n    this.onReceiveResponse = this.onReceiveResponse.bind(this);\n    this.allowedHeaders = ['accept', 'content-type', 'uppy-auth-token'];\n    this.preflightDone = false;\n    _classPrivateFieldLooseBase(this, _companionHeaders)[_companionHeaders] = opts == null ? void 0 : opts.companionHeaders;\n  }\n\n  setCompanionHeaders(headers) {\n    _classPrivateFieldLooseBase(this, _companionHeaders)[_companionHeaders] = headers;\n  }\n\n  [_Symbol$for]() {\n    return _classPrivateFieldLooseBase(this, _companionHeaders)[_companionHeaders];\n  }\n\n  get hostname() {\n    const {\n      companion\n    } = this.uppy.getState();\n    const host = this.opts.companionUrl;\n    return stripSlash(companion && companion[host] ? companion[host] : host);\n  }\n\n  headers() {\n    return Promise.resolve({ ...RequestClient.defaultHeaders,\n      ..._classPrivateFieldLooseBase(this, _companionHeaders)[_companionHeaders]\n    });\n  }\n\n  onReceiveResponse(response) {\n    const state = this.uppy.getState();\n    const companion = state.companion || {};\n    const host = this.opts.companionUrl;\n    const {\n      headers\n    } = response; // Store the self-identified domain name for the Companion instance we just hit.\n\n    if (headers.has('i-am') && headers.get('i-am') !== companion[host]) {\n      this.uppy.setState({\n        companion: { ...companion,\n          [host]: headers.get('i-am')\n        }\n      });\n    }\n\n    return response;\n  }\n\n  preflight(path) {\n    if (this.preflightDone) {\n      return Promise.resolve(this.allowedHeaders.slice());\n    }\n\n    return fetch(_classPrivateFieldLooseBase(this, _getUrl)[_getUrl](path), {\n      method: 'OPTIONS'\n    }).then(response => {\n      if (response.headers.has('access-control-allow-headers')) {\n        this.allowedHeaders = response.headers.get('access-control-allow-headers').split(',').map(headerName => headerName.trim().toLowerCase());\n      }\n\n      this.preflightDone = true;\n      return this.allowedHeaders.slice();\n    }).catch(err => {\n      this.uppy.log(`[CompanionClient] unable to make preflight request ${err}`, 'warning');\n      this.preflightDone = true;\n      return this.allowedHeaders.slice();\n    });\n  }\n\n  preflightAndHeaders(path) {\n    return Promise.all([this.preflight(path), this.headers()]).then(_ref => {\n      let [allowedHeaders, headers] = _ref;\n      // filter to keep only allowed Headers\n      Object.keys(headers).forEach(header => {\n        if (!allowedHeaders.includes(header.toLowerCase())) {\n          this.uppy.log(`[CompanionClient] excluding disallowed header ${header}`);\n          delete headers[header]; // eslint-disable-line no-param-reassign\n        }\n      });\n      return headers;\n    });\n  }\n\n  get(path, skipPostResponse) {\n    const method = 'get';\n    return this.preflightAndHeaders(path).then(headers => fetchWithNetworkError(_classPrivateFieldLooseBase(this, _getUrl)[_getUrl](path), {\n      method,\n      headers,\n      credentials: this.opts.companionCookiesRule || 'same-origin'\n    })).then(_classPrivateFieldLooseBase(this, _getPostResponseFunc)[_getPostResponseFunc](skipPostResponse)).then(handleJSONResponse).catch(_classPrivateFieldLooseBase(this, _errorHandler)[_errorHandler](method, path));\n  }\n\n  post(path, data, skipPostResponse) {\n    const method = 'post';\n    return this.preflightAndHeaders(path).then(headers => fetchWithNetworkError(_classPrivateFieldLooseBase(this, _getUrl)[_getUrl](path), {\n      method,\n      headers,\n      credentials: this.opts.companionCookiesRule || 'same-origin',\n      body: JSON.stringify(data)\n    })).then(_classPrivateFieldLooseBase(this, _getPostResponseFunc)[_getPostResponseFunc](skipPostResponse)).then(handleJSONResponse).catch(_classPrivateFieldLooseBase(this, _errorHandler)[_errorHandler](method, path));\n  }\n\n  delete(path, data, skipPostResponse) {\n    const method = 'delete';\n    return this.preflightAndHeaders(path).then(headers => fetchWithNetworkError(`${this.hostname}/${path}`, {\n      method,\n      headers,\n      credentials: this.opts.companionCookiesRule || 'same-origin',\n      body: data ? JSON.stringify(data) : null\n    })).then(_classPrivateFieldLooseBase(this, _getPostResponseFunc)[_getPostResponseFunc](skipPostResponse)).then(handleJSONResponse).catch(_classPrivateFieldLooseBase(this, _errorHandler)[_errorHandler](method, path));\n  }\n\n}\n\nfunction _getUrl2(url) {\n  if (/^(https?:|)\\/\\//.test(url)) {\n    return url;\n  }\n\n  return `${this.hostname}/${url}`;\n}\n\nfunction _errorHandler2(method, path) {\n  return err => {\n    var _err;\n\n    if (!((_err = err) != null && _err.isAuthError)) {\n      // eslint-disable-next-line no-param-reassign\n      err = new ErrorWithCause(`Could not ${method} ${_classPrivateFieldLooseBase(this, _getUrl)[_getUrl](path)}`, {\n        cause: err\n      });\n    }\n\n    return Promise.reject(err);\n  };\n}\n\nRequestClient.VERSION = packageJson.version;\nRequestClient.defaultHeaders = {\n  Accept: 'application/json',\n  'Content-Type': 'application/json',\n  'Uppy-Versions': `@uppy/companion-client=${RequestClient.VERSION}`\n};","'use strict';\n/**\n * This module serves as an Async wrapper for LocalStorage\n */\n\nexport function setItem(key, value) {\n  return new Promise(resolve => {\n    localStorage.setItem(key, value);\n    resolve();\n  });\n}\nexport function getItem(key) {\n  return Promise.resolve(localStorage.getItem(key));\n}\nexport function removeItem(key) {\n  return new Promise(resolve => {\n    localStorage.removeItem(key);\n    resolve();\n  });\n}","'use strict';\n\nimport RequestClient from './RequestClient.js';\nimport * as tokenStorage from './tokenStorage.js';\n\nconst getName = id => {\n  return id.split('-').map(s => s.charAt(0).toUpperCase() + s.slice(1)).join(' ');\n};\n\nexport default class Provider extends RequestClient {\n  constructor(uppy, opts) {\n    super(uppy, opts);\n    this.provider = opts.provider;\n    this.id = this.provider;\n    this.name = this.opts.name || getName(this.id);\n    this.pluginId = this.opts.pluginId;\n    this.tokenKey = `companion-${this.pluginId}-auth-token`;\n    this.companionKeysParams = this.opts.companionKeysParams;\n    this.preAuthToken = null;\n  }\n\n  headers() {\n    return Promise.all([super.headers(), this.getAuthToken()]).then(_ref => {\n      let [headers, token] = _ref;\n      const authHeaders = {};\n\n      if (token) {\n        authHeaders['uppy-auth-token'] = token;\n      }\n\n      if (this.companionKeysParams) {\n        authHeaders['uppy-credentials-params'] = btoa(JSON.stringify({\n          params: this.companionKeysParams\n        }));\n      }\n\n      return { ...headers,\n        ...authHeaders\n      };\n    });\n  }\n\n  onReceiveResponse(response) {\n    response = super.onReceiveResponse(response); // eslint-disable-line no-param-reassign\n\n    const plugin = this.uppy.getPlugin(this.pluginId);\n    const oldAuthenticated = plugin.getPluginState().authenticated;\n    const authenticated = oldAuthenticated ? response.status !== 401 : response.status < 400;\n    plugin.setPluginState({\n      authenticated\n    });\n    return response;\n  }\n\n  setAuthToken(token) {\n    return this.uppy.getPlugin(this.pluginId).storage.setItem(this.tokenKey, token);\n  }\n\n  getAuthToken() {\n    return this.uppy.getPlugin(this.pluginId).storage.getItem(this.tokenKey);\n  }\n  /**\n   * Ensure we have a preauth token if necessary. Attempts to fetch one if we don't,\n   * or rejects if loading one fails.\n   */\n\n\n  async ensurePreAuth() {\n    if (this.companionKeysParams && !this.preAuthToken) {\n      await this.fetchPreAuthToken();\n\n      if (!this.preAuthToken) {\n        throw new Error('Could not load authentication data required for third-party login. Please try again later.');\n      }\n    }\n  }\n\n  authUrl(queries) {\n    if (queries === void 0) {\n      queries = {};\n    }\n\n    const params = new URLSearchParams(queries);\n\n    if (this.preAuthToken) {\n      params.set('uppyPreAuthToken', this.preAuthToken);\n    }\n\n    return `${this.hostname}/${this.id}/connect?${params}`;\n  }\n\n  fileUrl(id) {\n    return `${this.hostname}/${this.id}/get/${id}`;\n  }\n\n  async fetchPreAuthToken() {\n    if (!this.companionKeysParams) {\n      return;\n    }\n\n    try {\n      const res = await this.post(`${this.id}/preauth/`, {\n        params: this.companionKeysParams\n      });\n      this.preAuthToken = res.token;\n    } catch (err) {\n      this.uppy.log(`[CompanionClient] unable to fetch preAuthToken ${err}`, 'warning');\n    }\n  }\n\n  list(directory) {\n    return this.get(`${this.id}/list/${directory || ''}`);\n  }\n\n  logout() {\n    return this.get(`${this.id}/logout`).then(response => Promise.all([response, this.uppy.getPlugin(this.pluginId).storage.removeItem(this.tokenKey)])).then(_ref2 => {\n      let [response] = _ref2;\n      return response;\n    });\n  }\n\n  static initPlugin(plugin, opts, defaultOpts) {\n    /* eslint-disable no-param-reassign */\n    plugin.type = 'acquirer';\n    plugin.files = [];\n\n    if (defaultOpts) {\n      plugin.opts = { ...defaultOpts,\n        ...opts\n      };\n    }\n\n    if (opts.serverUrl || opts.serverPattern) {\n      throw new Error('`serverUrl` and `serverPattern` have been renamed to `companionUrl` and `companionAllowedHosts` respectively in the 0.30.5 release. Please consult the docs (for example, https://uppy.io/docs/instagram/ for the Instagram plugin) and use the updated options.`');\n    }\n\n    if (opts.companionAllowedHosts) {\n      const pattern = opts.companionAllowedHosts; // validate companionAllowedHosts param\n\n      if (typeof pattern !== 'string' && !Array.isArray(pattern) && !(pattern instanceof RegExp)) {\n        throw new TypeError(`${plugin.id}: the option \"companionAllowedHosts\" must be one of string, Array, RegExp`);\n      }\n\n      plugin.opts.companionAllowedHosts = pattern;\n    } else if (/^(?!https?:\\/\\/).*$/i.test(opts.companionUrl)) {\n      // does not start with https://\n      plugin.opts.companionAllowedHosts = `https://${opts.companionUrl.replace(/^\\/\\//, '')}`;\n    } else {\n      plugin.opts.companionAllowedHosts = new URL(opts.companionUrl).origin;\n    }\n\n    plugin.storage = plugin.opts.storage || tokenStorage;\n    /* eslint-enable no-param-reassign */\n  }\n\n}","let _Symbol$for, _Symbol$for2;\n\nfunction _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\n\nvar id = 0;\n\nfunction _classPrivateFieldLooseKey(name) { return \"__private_\" + id++ + \"_\" + name; }\n\nimport ee from 'namespace-emitter';\n\nvar _queued = /*#__PURE__*/_classPrivateFieldLooseKey(\"queued\");\n\nvar _emitter = /*#__PURE__*/_classPrivateFieldLooseKey(\"emitter\");\n\nvar _isOpen = /*#__PURE__*/_classPrivateFieldLooseKey(\"isOpen\");\n\nvar _socket = /*#__PURE__*/_classPrivateFieldLooseKey(\"socket\");\n\nvar _handleMessage = /*#__PURE__*/_classPrivateFieldLooseKey(\"handleMessage\");\n\n_Symbol$for = Symbol.for('uppy test: getSocket');\n_Symbol$for2 = Symbol.for('uppy test: getQueued');\nexport default class UppySocket {\n  constructor(opts) {\n    Object.defineProperty(this, _queued, {\n      writable: true,\n      value: []\n    });\n    Object.defineProperty(this, _emitter, {\n      writable: true,\n      value: ee()\n    });\n    Object.defineProperty(this, _isOpen, {\n      writable: true,\n      value: false\n    });\n    Object.defineProperty(this, _socket, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _handleMessage, {\n      writable: true,\n      value: e => {\n        try {\n          const message = JSON.parse(e.data);\n          this.emit(message.action, message.payload);\n        } catch (err) {\n          // TODO: use a more robust error handler.\n          console.log(err); // eslint-disable-line no-console\n        }\n      }\n    });\n    this.opts = opts;\n\n    if (!opts || opts.autoOpen !== false) {\n      this.open();\n    }\n  }\n\n  get isOpen() {\n    return _classPrivateFieldLooseBase(this, _isOpen)[_isOpen];\n  }\n\n  [_Symbol$for]() {\n    return _classPrivateFieldLooseBase(this, _socket)[_socket];\n  }\n\n  [_Symbol$for2]() {\n    return _classPrivateFieldLooseBase(this, _queued)[_queued];\n  }\n\n  open() {\n    _classPrivateFieldLooseBase(this, _socket)[_socket] = new WebSocket(this.opts.target);\n\n    _classPrivateFieldLooseBase(this, _socket)[_socket].onopen = () => {\n      _classPrivateFieldLooseBase(this, _isOpen)[_isOpen] = true;\n\n      while (_classPrivateFieldLooseBase(this, _queued)[_queued].length > 0 && _classPrivateFieldLooseBase(this, _isOpen)[_isOpen]) {\n        const first = _classPrivateFieldLooseBase(this, _queued)[_queued].shift();\n\n        this.send(first.action, first.payload);\n      }\n    };\n\n    _classPrivateFieldLooseBase(this, _socket)[_socket].onclose = () => {\n      _classPrivateFieldLooseBase(this, _isOpen)[_isOpen] = false;\n    };\n\n    _classPrivateFieldLooseBase(this, _socket)[_socket].onmessage = _classPrivateFieldLooseBase(this, _handleMessage)[_handleMessage];\n  }\n\n  close() {\n    var _classPrivateFieldLoo;\n\n    (_classPrivateFieldLoo = _classPrivateFieldLooseBase(this, _socket)[_socket]) == null ? void 0 : _classPrivateFieldLoo.close();\n  }\n\n  send(action, payload) {\n    // attach uuid\n    if (!_classPrivateFieldLooseBase(this, _isOpen)[_isOpen]) {\n      _classPrivateFieldLooseBase(this, _queued)[_queued].push({\n        action,\n        payload\n      });\n\n      return;\n    }\n\n    _classPrivateFieldLooseBase(this, _socket)[_socket].send(JSON.stringify({\n      action,\n      payload\n    }));\n  }\n\n  on(action, handler) {\n    _classPrivateFieldLooseBase(this, _emitter)[_emitter].on(action, handler);\n  }\n\n  emit(action, payload) {\n    _classPrivateFieldLooseBase(this, _emitter)[_emitter].emit(action, payload);\n  }\n\n  once(action, handler) {\n    _classPrivateFieldLooseBase(this, _emitter)[_emitter].once(action, handler);\n  }\n\n}","import throttle from 'lodash.throttle';\n\nfunction emitSocketProgress(uploader, progressData, file) {\n  const {\n    progress,\n    bytesUploaded,\n    bytesTotal\n  } = progressData;\n\n  if (progress) {\n    uploader.uppy.log(`Upload progress: ${progress}`);\n    uploader.uppy.emit('upload-progress', file, {\n      uploader,\n      bytesUploaded,\n      bytesTotal\n    });\n  }\n}\n\nexport default throttle(emitSocketProgress, 300, {\n  leading: true,\n  trailing: true\n});","export default function getSocketHost(url) {\n  // get the host domain\n  const regex = /^(?:https?:\\/\\/|\\/\\/)?(?:[^@\\n]+@)?(?:www\\.)?([^\\n]+)/i;\n  const host = regex.exec(url)[1];\n  const socketProtocol = /^http:\\/\\//i.test(url) ? 'ws' : 'wss';\n  return `${socketProtocol}://${host}`;\n}","export default function settle(promises) {\n  const resolutions = [];\n  const rejections = [];\n\n  function resolved(value) {\n    resolutions.push(value);\n  }\n\n  function rejected(error) {\n    rejections.push(error);\n  }\n\n  const wait = Promise.all(promises.map(promise => promise.then(resolved, rejected)));\n  return wait.then(() => {\n    return {\n      successful: resolutions,\n      failed: rejections\n    };\n  });\n}","function _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\n\nvar id = 0;\n\nfunction _classPrivateFieldLooseKey(name) { return \"__private_\" + id++ + \"_\" + name; }\n\nvar _emitter = /*#__PURE__*/_classPrivateFieldLooseKey(\"emitter\");\n\nvar _events = /*#__PURE__*/_classPrivateFieldLooseKey(\"events\");\n\n/**\n * Create a wrapper around an event emitter with a `remove` method to remove\n * all events that were added using the wrapped emitter.\n */\nexport default class EventTracker {\n  constructor(emitter) {\n    Object.defineProperty(this, _emitter, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _events, {\n      writable: true,\n      value: []\n    });\n    _classPrivateFieldLooseBase(this, _emitter)[_emitter] = emitter;\n  }\n\n  on(event, fn) {\n    _classPrivateFieldLooseBase(this, _events)[_events].push([event, fn]);\n\n    return _classPrivateFieldLooseBase(this, _emitter)[_emitter].on(event, fn);\n  }\n\n  remove() {\n    for (const [event, fn] of _classPrivateFieldLooseBase(this, _events)[_events].splice(0)) {\n      _classPrivateFieldLooseBase(this, _emitter)[_emitter].off(event, fn);\n    }\n  }\n\n}","function _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\n\nvar id = 0;\n\nfunction _classPrivateFieldLooseKey(name) { return \"__private_\" + id++ + \"_\" + name; }\n\nvar _aliveTimer = /*#__PURE__*/_classPrivateFieldLooseKey(\"aliveTimer\");\n\nvar _isDone = /*#__PURE__*/_classPrivateFieldLooseKey(\"isDone\");\n\nvar _onTimedOut = /*#__PURE__*/_classPrivateFieldLooseKey(\"onTimedOut\");\n\nvar _timeout = /*#__PURE__*/_classPrivateFieldLooseKey(\"timeout\");\n\n/**\n * Helper to abort upload requests if there has not been any progress for `timeout` ms.\n * Create an instance using `timer = new ProgressTimeout(10000, onTimeout)`\n * Call `timer.progress()` to signal that there has been progress of any kind.\n * Call `timer.done()` when the upload has completed.\n */\nclass ProgressTimeout {\n  constructor(timeout, timeoutHandler) {\n    Object.defineProperty(this, _aliveTimer, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _isDone, {\n      writable: true,\n      value: false\n    });\n    Object.defineProperty(this, _onTimedOut, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _timeout, {\n      writable: true,\n      value: void 0\n    });\n    _classPrivateFieldLooseBase(this, _timeout)[_timeout] = timeout;\n    _classPrivateFieldLooseBase(this, _onTimedOut)[_onTimedOut] = timeoutHandler;\n  }\n\n  progress() {\n    // Some browsers fire another progress event when the upload is\n    // cancelled, so we have to ignore progress after the timer was\n    // told to stop.\n    if (_classPrivateFieldLooseBase(this, _isDone)[_isDone]) return;\n\n    if (_classPrivateFieldLooseBase(this, _timeout)[_timeout] > 0) {\n      clearTimeout(_classPrivateFieldLooseBase(this, _aliveTimer)[_aliveTimer]);\n      _classPrivateFieldLooseBase(this, _aliveTimer)[_aliveTimer] = setTimeout(_classPrivateFieldLooseBase(this, _onTimedOut)[_onTimedOut], _classPrivateFieldLooseBase(this, _timeout)[_timeout]);\n    }\n  }\n\n  done() {\n    if (!_classPrivateFieldLooseBase(this, _isDone)[_isDone]) {\n      clearTimeout(_classPrivateFieldLooseBase(this, _aliveTimer)[_aliveTimer]);\n      _classPrivateFieldLooseBase(this, _aliveTimer)[_aliveTimer] = null;\n      _classPrivateFieldLooseBase(this, _isDone)[_isDone] = true;\n    }\n  }\n\n}\n\nexport default ProgressTimeout;","function _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\n\nvar id = 0;\n\nfunction _classPrivateFieldLooseKey(name) { return \"__private_\" + id++ + \"_\" + name; }\n\nfunction createCancelError() {\n  return new Error('Cancelled');\n}\n\nvar _activeRequests = /*#__PURE__*/_classPrivateFieldLooseKey(\"activeRequests\");\n\nvar _queuedHandlers = /*#__PURE__*/_classPrivateFieldLooseKey(\"queuedHandlers\");\n\nvar _paused = /*#__PURE__*/_classPrivateFieldLooseKey(\"paused\");\n\nvar _pauseTimer = /*#__PURE__*/_classPrivateFieldLooseKey(\"pauseTimer\");\n\nvar _downLimit = /*#__PURE__*/_classPrivateFieldLooseKey(\"downLimit\");\n\nvar _upperLimit = /*#__PURE__*/_classPrivateFieldLooseKey(\"upperLimit\");\n\nvar _rateLimitingTimer = /*#__PURE__*/_classPrivateFieldLooseKey(\"rateLimitingTimer\");\n\nvar _call = /*#__PURE__*/_classPrivateFieldLooseKey(\"call\");\n\nvar _queueNext = /*#__PURE__*/_classPrivateFieldLooseKey(\"queueNext\");\n\nvar _next = /*#__PURE__*/_classPrivateFieldLooseKey(\"next\");\n\nvar _queue = /*#__PURE__*/_classPrivateFieldLooseKey(\"queue\");\n\nvar _dequeue = /*#__PURE__*/_classPrivateFieldLooseKey(\"dequeue\");\n\nvar _resume = /*#__PURE__*/_classPrivateFieldLooseKey(\"resume\");\n\nvar _increaseLimit = /*#__PURE__*/_classPrivateFieldLooseKey(\"increaseLimit\");\n\nexport class RateLimitedQueue {\n  constructor(limit) {\n    Object.defineProperty(this, _dequeue, {\n      value: _dequeue2\n    });\n    Object.defineProperty(this, _queue, {\n      value: _queue2\n    });\n    Object.defineProperty(this, _next, {\n      value: _next2\n    });\n    Object.defineProperty(this, _queueNext, {\n      value: _queueNext2\n    });\n    Object.defineProperty(this, _call, {\n      value: _call2\n    });\n    Object.defineProperty(this, _activeRequests, {\n      writable: true,\n      value: 0\n    });\n    Object.defineProperty(this, _queuedHandlers, {\n      writable: true,\n      value: []\n    });\n    Object.defineProperty(this, _paused, {\n      writable: true,\n      value: false\n    });\n    Object.defineProperty(this, _pauseTimer, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _downLimit, {\n      writable: true,\n      value: 1\n    });\n    Object.defineProperty(this, _upperLimit, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _rateLimitingTimer, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _resume, {\n      writable: true,\n      value: () => this.resume()\n    });\n    Object.defineProperty(this, _increaseLimit, {\n      writable: true,\n      value: () => {\n        if (_classPrivateFieldLooseBase(this, _paused)[_paused]) {\n          _classPrivateFieldLooseBase(this, _rateLimitingTimer)[_rateLimitingTimer] = setTimeout(_classPrivateFieldLooseBase(this, _increaseLimit)[_increaseLimit], 0);\n          return;\n        }\n\n        _classPrivateFieldLooseBase(this, _downLimit)[_downLimit] = this.limit;\n        this.limit = Math.ceil((_classPrivateFieldLooseBase(this, _upperLimit)[_upperLimit] + _classPrivateFieldLooseBase(this, _downLimit)[_downLimit]) / 2);\n\n        for (let i = _classPrivateFieldLooseBase(this, _downLimit)[_downLimit]; i <= this.limit; i++) {\n          _classPrivateFieldLooseBase(this, _queueNext)[_queueNext]();\n        }\n\n        if (_classPrivateFieldLooseBase(this, _upperLimit)[_upperLimit] - _classPrivateFieldLooseBase(this, _downLimit)[_downLimit] > 3) {\n          _classPrivateFieldLooseBase(this, _rateLimitingTimer)[_rateLimitingTimer] = setTimeout(_classPrivateFieldLooseBase(this, _increaseLimit)[_increaseLimit], 2000);\n        } else {\n          _classPrivateFieldLooseBase(this, _downLimit)[_downLimit] = Math.floor(_classPrivateFieldLooseBase(this, _downLimit)[_downLimit] / 2);\n        }\n      }\n    });\n\n    if (typeof limit !== 'number' || limit === 0) {\n      this.limit = Infinity;\n    } else {\n      this.limit = limit;\n    }\n  }\n\n  run(fn, queueOptions) {\n    if (!_classPrivateFieldLooseBase(this, _paused)[_paused] && _classPrivateFieldLooseBase(this, _activeRequests)[_activeRequests] < this.limit) {\n      return _classPrivateFieldLooseBase(this, _call)[_call](fn);\n    }\n\n    return _classPrivateFieldLooseBase(this, _queue)[_queue](fn, queueOptions);\n  }\n\n  wrapPromiseFunction(fn, queueOptions) {\n    var _this = this;\n\n    return function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      let queuedRequest;\n      const outerPromise = new Promise((resolve, reject) => {\n        queuedRequest = _this.run(() => {\n          let cancelError;\n          let innerPromise;\n\n          try {\n            innerPromise = Promise.resolve(fn(...args));\n          } catch (err) {\n            innerPromise = Promise.reject(err);\n          }\n\n          innerPromise.then(result => {\n            if (cancelError) {\n              reject(cancelError);\n            } else {\n              queuedRequest.done();\n              resolve(result);\n            }\n          }, err => {\n            if (cancelError) {\n              reject(cancelError);\n            } else {\n              queuedRequest.done();\n              reject(err);\n            }\n          });\n          return () => {\n            cancelError = createCancelError();\n          };\n        }, queueOptions);\n      });\n\n      outerPromise.abort = () => {\n        queuedRequest.abort();\n      };\n\n      return outerPromise;\n    };\n  }\n\n  resume() {\n    _classPrivateFieldLooseBase(this, _paused)[_paused] = false;\n    clearTimeout(_classPrivateFieldLooseBase(this, _pauseTimer)[_pauseTimer]);\n\n    for (let i = 0; i < this.limit; i++) {\n      _classPrivateFieldLooseBase(this, _queueNext)[_queueNext]();\n    }\n  }\n\n  /**\n   * Freezes the queue for a while or indefinitely.\n   *\n   * @param {number | null } [duration] Duration for the pause to happen, in milliseconds.\n   *                                    If omitted, the queue won't resume automatically.\n   */\n  pause(duration) {\n    if (duration === void 0) {\n      duration = null;\n    }\n\n    _classPrivateFieldLooseBase(this, _paused)[_paused] = true;\n    clearTimeout(_classPrivateFieldLooseBase(this, _pauseTimer)[_pauseTimer]);\n\n    if (duration != null) {\n      _classPrivateFieldLooseBase(this, _pauseTimer)[_pauseTimer] = setTimeout(_classPrivateFieldLooseBase(this, _resume)[_resume], duration);\n    }\n  }\n  /**\n   * Pauses the queue for a duration, and lower the limit of concurrent requests\n   * when the queue resumes. When the queue resumes, it tries to progressively\n   * increase the limit in `this.#increaseLimit` until another call is made to\n   * `this.rateLimit`.\n   * Call this function when using the RateLimitedQueue for network requests and\n   * the remote server responds with 429 HTTP code.\n   *\n   * @param {number} duration in milliseconds.\n   */\n\n\n  rateLimit(duration) {\n    clearTimeout(_classPrivateFieldLooseBase(this, _rateLimitingTimer)[_rateLimitingTimer]);\n    this.pause(duration);\n\n    if (this.limit > 1 && Number.isFinite(this.limit)) {\n      _classPrivateFieldLooseBase(this, _upperLimit)[_upperLimit] = this.limit - 1;\n      this.limit = _classPrivateFieldLooseBase(this, _downLimit)[_downLimit];\n      _classPrivateFieldLooseBase(this, _rateLimitingTimer)[_rateLimitingTimer] = setTimeout(_classPrivateFieldLooseBase(this, _increaseLimit)[_increaseLimit], duration);\n    }\n  }\n\n  get isPaused() {\n    return _classPrivateFieldLooseBase(this, _paused)[_paused];\n  }\n\n}\n\nfunction _call2(fn) {\n  _classPrivateFieldLooseBase(this, _activeRequests)[_activeRequests] += 1;\n  let done = false;\n  let cancelActive;\n\n  try {\n    cancelActive = fn();\n  } catch (err) {\n    _classPrivateFieldLooseBase(this, _activeRequests)[_activeRequests] -= 1;\n    throw err;\n  }\n\n  return {\n    abort: () => {\n      if (done) return;\n      done = true;\n      _classPrivateFieldLooseBase(this, _activeRequests)[_activeRequests] -= 1;\n      cancelActive();\n\n      _classPrivateFieldLooseBase(this, _queueNext)[_queueNext]();\n    },\n    done: () => {\n      if (done) return;\n      done = true;\n      _classPrivateFieldLooseBase(this, _activeRequests)[_activeRequests] -= 1;\n\n      _classPrivateFieldLooseBase(this, _queueNext)[_queueNext]();\n    }\n  };\n}\n\nfunction _queueNext2() {\n  // Do it soon but not immediately, this allows clearing out the entire queue synchronously\n  // one by one without continuously _advancing_ it (and starting new tasks before immediately\n  // aborting them)\n  queueMicrotask(() => _classPrivateFieldLooseBase(this, _next)[_next]());\n}\n\nfunction _next2() {\n  if (_classPrivateFieldLooseBase(this, _paused)[_paused] || _classPrivateFieldLooseBase(this, _activeRequests)[_activeRequests] >= this.limit) {\n    return;\n  }\n\n  if (_classPrivateFieldLooseBase(this, _queuedHandlers)[_queuedHandlers].length === 0) {\n    return;\n  } // Dispatch the next request, and update the abort/done handlers\n  // so that cancelling it does the Right Thing (and doesn't just try\n  // to dequeue an already-running request).\n\n\n  const next = _classPrivateFieldLooseBase(this, _queuedHandlers)[_queuedHandlers].shift();\n\n  const handler = _classPrivateFieldLooseBase(this, _call)[_call](next.fn);\n\n  next.abort = handler.abort;\n  next.done = handler.done;\n}\n\nfunction _queue2(fn, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  const handler = {\n    fn,\n    priority: options.priority || 0,\n    abort: () => {\n      _classPrivateFieldLooseBase(this, _dequeue)[_dequeue](handler);\n    },\n    done: () => {\n      throw new Error('Cannot mark a queued request as done: this indicates a bug');\n    }\n  };\n\n  const index = _classPrivateFieldLooseBase(this, _queuedHandlers)[_queuedHandlers].findIndex(other => {\n    return handler.priority > other.priority;\n  });\n\n  if (index === -1) {\n    _classPrivateFieldLooseBase(this, _queuedHandlers)[_queuedHandlers].push(handler);\n  } else {\n    _classPrivateFieldLooseBase(this, _queuedHandlers)[_queuedHandlers].splice(index, 0, handler);\n  }\n\n  return handler;\n}\n\nfunction _dequeue2(handler) {\n  const index = _classPrivateFieldLooseBase(this, _queuedHandlers)[_queuedHandlers].indexOf(handler);\n\n  if (index !== -1) {\n    _classPrivateFieldLooseBase(this, _queuedHandlers)[_queuedHandlers].splice(index, 1);\n  }\n}\n\nexport const internalRateLimitedQueue = Symbol('__queue');","function isNetworkError(xhr) {\n  if (!xhr) {\n    return false;\n  }\n\n  return xhr.readyState !== 0 && xhr.readyState !== 4 || xhr.status === 0;\n}\n\nexport default isNetworkError;","export default {\n  strings: {\n    // Shown in the Informer if an upload is being canceled because it stalled for too long.\n    timedOut: 'Upload stalled for %{seconds} seconds, aborting.'\n  }\n};","function _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\n\nvar id = 0;\n\nfunction _classPrivateFieldLooseKey(name) { return \"__private_\" + id++ + \"_\" + name; }\n\nimport BasePlugin from '@uppy/core/lib/BasePlugin.js';\nimport { nanoid } from 'nanoid/non-secure';\nimport { Provider, RequestClient, Socket } from '@uppy/companion-client';\nimport emitSocketProgress from '@uppy/utils/lib/emitSocketProgress';\nimport getSocketHost from '@uppy/utils/lib/getSocketHost';\nimport settle from '@uppy/utils/lib/settle';\nimport EventTracker from '@uppy/utils/lib/EventTracker';\nimport ProgressTimeout from '@uppy/utils/lib/ProgressTimeout';\nimport { RateLimitedQueue, internalRateLimitedQueue } from '@uppy/utils/lib/RateLimitedQueue';\nimport NetworkError from '@uppy/utils/lib/NetworkError';\nimport isNetworkError from '@uppy/utils/lib/isNetworkError';\nconst packageJson = {\n  \"version\": \"3.0.3\"\n};\nimport locale from './locale.js';\n\nfunction buildResponseError(xhr, err) {\n  let error = err; // No error message\n\n  if (!error) error = new Error('Upload error'); // Got an error message string\n\n  if (typeof error === 'string') error = new Error(error); // Got something else\n\n  if (!(error instanceof Error)) {\n    error = Object.assign(new Error('Upload error'), {\n      data: error\n    });\n  }\n\n  if (isNetworkError(xhr)) {\n    error = new NetworkError(error, xhr);\n    return error;\n  }\n\n  error.request = xhr;\n  return error;\n}\n/**\n * Set `data.type` in the blob to `file.meta.type`,\n * because we might have detected a more accurate file type in Uppy\n * https://stackoverflow.com/a/50875615\n *\n * @param {object} file File object with `data`, `size` and `meta` properties\n * @returns {object} blob updated with the new `type` set from `file.meta.type`\n */\n\n\nfunction setTypeInBlob(file) {\n  const dataWithUpdatedType = file.data.slice(0, file.data.size, file.meta.type);\n  return dataWithUpdatedType;\n}\n\nvar _queueRequestSocketToken = /*#__PURE__*/_classPrivateFieldLooseKey(\"queueRequestSocketToken\");\n\nvar _requestSocketToken = /*#__PURE__*/_classPrivateFieldLooseKey(\"requestSocketToken\");\n\nexport default class XHRUpload extends BasePlugin {\n  // eslint-disable-next-line global-require\n  constructor(uppy, _opts) {\n    super(uppy, _opts);\n    Object.defineProperty(this, _queueRequestSocketToken, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _requestSocketToken, {\n      writable: true,\n      value: async file => {\n        const opts = this.getOptions(file);\n        const Client = file.remote.providerOptions.provider ? Provider : RequestClient;\n        const client = new Client(this.uppy, file.remote.providerOptions);\n        const allowedMetaFields = Array.isArray(opts.allowedMetaFields) ? opts.allowedMetaFields // Send along all fields by default.\n        : Object.keys(file.meta);\n        const res = await client.post(file.remote.url, { ...file.remote.body,\n          protocol: 'multipart',\n          endpoint: opts.endpoint,\n          size: file.data.size,\n          fieldname: opts.fieldName,\n          metadata: Object.fromEntries(allowedMetaFields.map(name => [name, file.meta[name]])),\n          httpMethod: opts.method,\n          useFormData: opts.formData,\n          headers: opts.headers\n        });\n        return res.token;\n      }\n    });\n    this.type = 'uploader';\n    this.id = this.opts.id || 'XHRUpload';\n    this.title = 'XHRUpload';\n    this.defaultLocale = locale; // Default options\n\n    const defaultOptions = {\n      formData: true,\n      fieldName: _opts.bundle ? 'files[]' : 'file',\n      method: 'post',\n      allowedMetaFields: null,\n      responseUrlFieldName: 'url',\n      bundle: false,\n      headers: {},\n      timeout: 30 * 1000,\n      limit: 5,\n      withCredentials: false,\n      responseType: '',\n\n      /**\n       * @param {string} responseText the response body string\n       */\n      getResponseData(responseText) {\n        let parsedResponse = {};\n\n        try {\n          parsedResponse = JSON.parse(responseText);\n        } catch (err) {\n          uppy.log(err);\n        }\n\n        return parsedResponse;\n      },\n\n      /**\n       *\n       * @param {string} _ the response body string\n       * @param {XMLHttpRequest | respObj} response the response object (XHR or similar)\n       */\n      getResponseError(_, response) {\n        let error = new Error('Upload error');\n\n        if (isNetworkError(response)) {\n          error = new NetworkError(error, response);\n        }\n\n        return error;\n      },\n\n      /**\n       * Check if the response from the upload endpoint indicates that the upload was successful.\n       *\n       * @param {number} status the response status code\n       */\n      validateStatus(status) {\n        return status >= 200 && status < 300;\n      }\n\n    };\n    this.opts = { ...defaultOptions,\n      ..._opts\n    };\n    this.i18nInit();\n    this.handleUpload = this.handleUpload.bind(this); // Simultaneous upload limiting is shared across all uploads with this plugin.\n\n    if (internalRateLimitedQueue in this.opts) {\n      this.requests = this.opts[internalRateLimitedQueue];\n    } else {\n      this.requests = new RateLimitedQueue(this.opts.limit);\n    }\n\n    if (this.opts.bundle && !this.opts.formData) {\n      throw new Error('`opts.formData` must be true when `opts.bundle` is enabled.');\n    }\n\n    if ((_opts == null ? void 0 : _opts.allowedMetaFields) === undefined && 'metaFields' in this.opts) {\n      throw new Error('The `metaFields` option has been renamed to `allowedMetaFields`.');\n    }\n\n    this.uploaderEvents = Object.create(null);\n    _classPrivateFieldLooseBase(this, _queueRequestSocketToken)[_queueRequestSocketToken] = this.requests.wrapPromiseFunction(_classPrivateFieldLooseBase(this, _requestSocketToken)[_requestSocketToken], {\n      priority: -1\n    });\n  }\n\n  getOptions(file) {\n    const overrides = this.uppy.getState().xhrUpload;\n    const {\n      headers\n    } = this.opts;\n    const opts = { ...this.opts,\n      ...(overrides || {}),\n      ...(file.xhrUpload || {}),\n      headers: {}\n    }; // Support for `headers` as a function, only in the XHRUpload settings.\n    // Options set by other plugins in Uppy state or on the files themselves are still merged in afterward.\n    //\n    // ```js\n    // headers: (file) => ({ expires: file.meta.expires })\n    // ```\n\n    if (typeof headers === 'function') {\n      opts.headers = headers(file);\n    } else {\n      Object.assign(opts.headers, this.opts.headers);\n    }\n\n    if (overrides) {\n      Object.assign(opts.headers, overrides.headers);\n    }\n\n    if (file.xhrUpload) {\n      Object.assign(opts.headers, file.xhrUpload.headers);\n    }\n\n    return opts;\n  } // eslint-disable-next-line class-methods-use-this\n\n\n  addMetadata(formData, meta, opts) {\n    const allowedMetaFields = Array.isArray(opts.allowedMetaFields) ? opts.allowedMetaFields : Object.keys(meta); // Send along all fields by default.\n\n    allowedMetaFields.forEach(item => {\n      formData.append(item, meta[item]);\n    });\n  }\n\n  createFormDataUpload(file, opts) {\n    const formPost = new FormData();\n    this.addMetadata(formPost, file.meta, opts);\n    const dataWithUpdatedType = setTypeInBlob(file);\n\n    if (file.name) {\n      formPost.append(opts.fieldName, dataWithUpdatedType, file.meta.name);\n    } else {\n      formPost.append(opts.fieldName, dataWithUpdatedType);\n    }\n\n    return formPost;\n  }\n\n  createBundledUpload(files, opts) {\n    const formPost = new FormData();\n    const {\n      meta\n    } = this.uppy.getState();\n    this.addMetadata(formPost, meta, opts);\n    files.forEach(file => {\n      const options = this.getOptions(file);\n      const dataWithUpdatedType = setTypeInBlob(file);\n\n      if (file.name) {\n        formPost.append(options.fieldName, dataWithUpdatedType, file.name);\n      } else {\n        formPost.append(options.fieldName, dataWithUpdatedType);\n      }\n    });\n    return formPost;\n  }\n\n  upload(file, current, total) {\n    const opts = this.getOptions(file);\n    this.uppy.log(`uploading ${current} of ${total}`);\n    return new Promise((resolve, reject) => {\n      this.uppy.emit('upload-started', file);\n      const data = opts.formData ? this.createFormDataUpload(file, opts) : file.data;\n      const xhr = new XMLHttpRequest();\n      this.uploaderEvents[file.id] = new EventTracker(this.uppy);\n      let queuedRequest;\n      const timer = new ProgressTimeout(opts.timeout, () => {\n        xhr.abort();\n        queuedRequest.done();\n        const error = new Error(this.i18n('timedOut', {\n          seconds: Math.ceil(opts.timeout / 1000)\n        }));\n        this.uppy.emit('upload-error', file, error);\n        reject(error);\n      });\n      const id = nanoid();\n      xhr.upload.addEventListener('loadstart', () => {\n        this.uppy.log(`[XHRUpload] ${id} started`);\n      });\n      xhr.upload.addEventListener('progress', ev => {\n        this.uppy.log(`[XHRUpload] ${id} progress: ${ev.loaded} / ${ev.total}`); // Begin checking for timeouts when progress starts, instead of loading,\n        // to avoid timing out requests on browser concurrency queue\n\n        timer.progress();\n\n        if (ev.lengthComputable) {\n          this.uppy.emit('upload-progress', file, {\n            uploader: this,\n            bytesUploaded: ev.loaded,\n            bytesTotal: ev.total\n          });\n        }\n      });\n      xhr.addEventListener('load', () => {\n        this.uppy.log(`[XHRUpload] ${id} finished`);\n        timer.done();\n        queuedRequest.done();\n\n        if (this.uploaderEvents[file.id]) {\n          this.uploaderEvents[file.id].remove();\n          this.uploaderEvents[file.id] = null;\n        }\n\n        if (opts.validateStatus(xhr.status, xhr.responseText, xhr)) {\n          const body = opts.getResponseData(xhr.responseText, xhr);\n          const uploadURL = body[opts.responseUrlFieldName];\n          const uploadResp = {\n            status: xhr.status,\n            body,\n            uploadURL\n          };\n          this.uppy.emit('upload-success', file, uploadResp);\n\n          if (uploadURL) {\n            this.uppy.log(`Download ${file.name} from ${uploadURL}`);\n          }\n\n          return resolve(file);\n        }\n\n        const body = opts.getResponseData(xhr.responseText, xhr);\n        const error = buildResponseError(xhr, opts.getResponseError(xhr.responseText, xhr));\n        const response = {\n          status: xhr.status,\n          body\n        };\n        this.uppy.emit('upload-error', file, error, response);\n        return reject(error);\n      });\n      xhr.addEventListener('error', () => {\n        this.uppy.log(`[XHRUpload] ${id} errored`);\n        timer.done();\n        queuedRequest.done();\n\n        if (this.uploaderEvents[file.id]) {\n          this.uploaderEvents[file.id].remove();\n          this.uploaderEvents[file.id] = null;\n        }\n\n        const error = buildResponseError(xhr, opts.getResponseError(xhr.responseText, xhr));\n        this.uppy.emit('upload-error', file, error);\n        return reject(error);\n      });\n      xhr.open(opts.method.toUpperCase(), opts.endpoint, true); // IE10 does not allow setting `withCredentials` and `responseType`\n      // before `open()` is called.\n\n      xhr.withCredentials = opts.withCredentials;\n\n      if (opts.responseType !== '') {\n        xhr.responseType = opts.responseType;\n      }\n\n      queuedRequest = this.requests.run(() => {\n        this.uppy.emit('upload-started', file); // When using an authentication system like JWT, the bearer token goes as a header. This\n        // header needs to be fresh each time the token is refreshed so computing and setting the\n        // headers just before the upload starts enables this kind of authentication to work properly.\n        // Otherwise, half-way through the list of uploads the token could be stale and the upload would fail.\n\n        const currentOpts = this.getOptions(file);\n        Object.keys(currentOpts.headers).forEach(header => {\n          xhr.setRequestHeader(header, currentOpts.headers[header]);\n        });\n        xhr.send(data);\n        return () => {\n          timer.done();\n          xhr.abort();\n        };\n      });\n      this.onFileRemove(file.id, () => {\n        queuedRequest.abort();\n        reject(new Error('File removed'));\n      });\n      this.onCancelAll(file.id, _ref => {\n        let {\n          reason\n        } = _ref;\n\n        if (reason === 'user') {\n          queuedRequest.abort();\n        }\n\n        reject(new Error('Upload cancelled'));\n      });\n    });\n  }\n\n  async uploadRemote(file) {\n    // TODO: we could rewrite this to use server-sent events instead of creating WebSockets.\n    try {\n      this.uppy.emit('upload-started', file);\n\n      if (file.serverToken) {\n        return this.connectToServerSocket(file);\n      }\n\n      const serverToken = await _classPrivateFieldLooseBase(this, _queueRequestSocketToken)[_queueRequestSocketToken](file);\n      if (this.getState().files[file.id]) return undefined;\n      this.uppy.setFileState(file.id, {\n        serverToken\n      });\n      return this.connectToServerSocket(this.uppy.getFile(file.id));\n    } catch (err) {\n      this.uppy.emit('upload-error', file, err);\n      throw err;\n    }\n  }\n\n  connectToServerSocket(file) {\n    return new Promise((resolve, reject) => {\n      const opts = this.getOptions(file);\n      const token = file.serverToken;\n      const host = getSocketHost(file.remote.companionUrl);\n      let socket;\n\n      const createSocket = () => {\n        if (socket != null) return;\n        socket = new Socket({\n          target: `${host}/api/${token}`\n        });\n        socket.on('progress', progressData => emitSocketProgress(this, progressData, file));\n        socket.on('success', data => {\n          const body = opts.getResponseData(data.response.responseText, data.response);\n          const uploadURL = body[opts.responseUrlFieldName];\n          const uploadResp = {\n            status: data.response.status,\n            body,\n            uploadURL\n          };\n          this.uppy.emit('upload-success', file, uploadResp);\n          queuedRequest.done(); // eslint-disable-line no-use-before-define\n\n          socket.close();\n\n          if (this.uploaderEvents[file.id]) {\n            this.uploaderEvents[file.id].remove();\n            this.uploaderEvents[file.id] = null;\n          }\n\n          return resolve();\n        });\n        socket.on('error', errData => {\n          const resp = errData.response;\n          const error = resp ? opts.getResponseError(resp.responseText, resp) : Object.assign(new Error(errData.error.message), {\n            cause: errData.error\n          });\n          this.uppy.emit('upload-error', file, error);\n          queuedRequest.done(); // eslint-disable-line no-use-before-define\n\n          if (this.uploaderEvents[file.id]) {\n            this.uploaderEvents[file.id].remove();\n            this.uploaderEvents[file.id] = null;\n          }\n\n          reject(error);\n        });\n      };\n\n      this.uploaderEvents[file.id] = new EventTracker(this.uppy);\n      let queuedRequest = this.requests.run(() => {\n        if (file.isPaused) {\n          var _socket;\n\n          (_socket = socket) == null ? void 0 : _socket.send('pause', {});\n        } else {\n          createSocket();\n        }\n\n        return () => socket.close();\n      });\n      this.onFileRemove(file.id, () => {\n        var _socket2;\n\n        (_socket2 = socket) == null ? void 0 : _socket2.send('cancel', {});\n        queuedRequest.abort();\n        resolve(`upload ${file.id} was removed`);\n      });\n      this.onCancelAll(file.id, function (_temp) {\n        let {\n          reason\n        } = _temp === void 0 ? {} : _temp;\n\n        if (reason === 'user') {\n          var _socket3;\n\n          (_socket3 = socket) == null ? void 0 : _socket3.send('cancel', {});\n          queuedRequest.abort();\n        }\n\n        resolve(`upload ${file.id} was canceled`);\n      });\n\n      const onRetryRequest = () => {\n        if (socket == null) {\n          queuedRequest.abort();\n        } else {\n          socket.send('pause', {});\n          queuedRequest.done();\n        }\n\n        queuedRequest = this.requests.run(() => {\n          if (!file.isPaused) {\n            if (socket == null) {\n              createSocket();\n            } else {\n              socket.send('resume', {});\n            }\n          }\n\n          return () => socket.close();\n        });\n      };\n\n      this.onRetry(file.id, onRetryRequest);\n      this.onRetryAll(file.id, onRetryRequest);\n    }).catch(err => {\n      this.uppy.emit('upload-error', file, err);\n      return Promise.reject(err);\n    });\n  }\n\n  uploadBundle(files) {\n    return new Promise((resolve, reject) => {\n      const {\n        endpoint\n      } = this.opts;\n      const {\n        method\n      } = this.opts;\n      const optsFromState = this.uppy.getState().xhrUpload;\n      const formData = this.createBundledUpload(files, { ...this.opts,\n        ...(optsFromState || {})\n      });\n      const xhr = new XMLHttpRequest();\n\n      const emitError = error => {\n        files.forEach(file => {\n          this.uppy.emit('upload-error', file, error);\n        });\n      };\n\n      const timer = new ProgressTimeout(this.opts.timeout, () => {\n        xhr.abort();\n        const error = new Error(this.i18n('timedOut', {\n          seconds: Math.ceil(this.opts.timeout / 1000)\n        }));\n        emitError(error);\n        reject(error);\n      });\n      xhr.upload.addEventListener('loadstart', () => {\n        this.uppy.log('[XHRUpload] started uploading bundle');\n        timer.progress();\n      });\n      xhr.upload.addEventListener('progress', ev => {\n        timer.progress();\n        if (!ev.lengthComputable) return;\n        files.forEach(file => {\n          this.uppy.emit('upload-progress', file, {\n            uploader: this,\n            bytesUploaded: ev.loaded / ev.total * file.size,\n            bytesTotal: file.size\n          });\n        });\n      });\n      xhr.addEventListener('load', ev => {\n        timer.done();\n\n        if (this.opts.validateStatus(ev.target.status, xhr.responseText, xhr)) {\n          const body = this.opts.getResponseData(xhr.responseText, xhr);\n          const uploadResp = {\n            status: ev.target.status,\n            body\n          };\n          files.forEach(file => {\n            this.uppy.emit('upload-success', file, uploadResp);\n          });\n          return resolve();\n        }\n\n        const error = this.opts.getResponseError(xhr.responseText, xhr) || new Error('Upload error');\n        error.request = xhr;\n        emitError(error);\n        return reject(error);\n      });\n      xhr.addEventListener('error', () => {\n        timer.done();\n        const error = this.opts.getResponseError(xhr.responseText, xhr) || new Error('Upload error');\n        emitError(error);\n        return reject(error);\n      });\n      this.uppy.on('cancel-all', function (_temp2) {\n        let {\n          reason\n        } = _temp2 === void 0 ? {} : _temp2;\n        if (reason !== 'user') return;\n        timer.done();\n        xhr.abort();\n      });\n      xhr.open(method.toUpperCase(), endpoint, true); // IE10 does not allow setting `withCredentials` and `responseType`\n      // before `open()` is called.\n\n      xhr.withCredentials = this.opts.withCredentials;\n\n      if (this.opts.responseType !== '') {\n        xhr.responseType = this.opts.responseType;\n      }\n\n      Object.keys(this.opts.headers).forEach(header => {\n        xhr.setRequestHeader(header, this.opts.headers[header]);\n      });\n      xhr.send(formData);\n      files.forEach(file => {\n        this.uppy.emit('upload-started', file);\n      });\n    });\n  }\n\n  uploadFiles(files) {\n    const promises = files.map((file, i) => {\n      const current = parseInt(i, 10) + 1;\n      const total = files.length;\n\n      if (file.error) {\n        return Promise.reject(new Error(file.error));\n      }\n\n      if (file.isRemote) {\n        return this.uploadRemote(file, current, total);\n      }\n\n      return this.upload(file, current, total);\n    });\n    return settle(promises);\n  }\n\n  onFileRemove(fileID, cb) {\n    this.uploaderEvents[fileID].on('file-removed', file => {\n      if (fileID === file.id) cb(file.id);\n    });\n  }\n\n  onRetry(fileID, cb) {\n    this.uploaderEvents[fileID].on('upload-retry', targetFileID => {\n      if (fileID === targetFileID) {\n        cb();\n      }\n    });\n  }\n\n  onRetryAll(fileID, cb) {\n    this.uploaderEvents[fileID].on('retry-all', () => {\n      if (!this.uppy.getFile(fileID)) return;\n      cb();\n    });\n  }\n\n  onCancelAll(fileID, eventHandler) {\n    var _this = this;\n\n    this.uploaderEvents[fileID].on('cancel-all', function () {\n      if (!_this.uppy.getFile(fileID)) return;\n      eventHandler(...arguments);\n    });\n  }\n\n  handleUpload(fileIDs) {\n    if (fileIDs.length === 0) {\n      this.uppy.log('[XHRUpload] No files to upload!');\n      return Promise.resolve();\n    } // No limit configured by the user, and no RateLimitedQueue passed in by a \"parent\" plugin\n    // (basically just AwsS3) using the internal symbol\n\n\n    if (this.opts.limit === 0 && !this.opts[internalRateLimitedQueue]) {\n      this.uppy.log('[XHRUpload] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/xhr-upload/#limit-0', 'warning');\n    }\n\n    this.uppy.log('[XHRUpload] Uploading...');\n    const files = fileIDs.map(fileID => this.uppy.getFile(fileID));\n\n    if (this.opts.bundle) {\n      // if bundle: true, we dont support remote uploads\n      const isSomeFileRemote = files.some(file => file.isRemote);\n\n      if (isSomeFileRemote) {\n        throw new Error('Cant upload remote files when the `bundle: true` option is set');\n      }\n\n      if (typeof this.opts.headers === 'function') {\n        throw new TypeError('`headers` may not be a function when the `bundle: true` option is set');\n      }\n\n      return this.uploadBundle(files);\n    }\n\n    return this.uploadFiles(files).then(() => null);\n  }\n\n  install() {\n    if (this.opts.bundle) {\n      const {\n        capabilities\n      } = this.uppy.getState();\n      this.uppy.setState({\n        capabilities: { ...capabilities,\n          individualCancellation: false\n        }\n      });\n    }\n\n    this.uppy.addUploader(this.handleUpload);\n  }\n\n  uninstall() {\n    if (this.opts.bundle) {\n      const {\n        capabilities\n      } = this.uppy.getState();\n      this.uppy.setState({\n        capabilities: { ...capabilities,\n          individualCancellation: true\n        }\n      });\n    }\n\n    this.uppy.removeUploader(this.handleUpload);\n  }\n\n}\nXHRUpload.VERSION = packageJson.version;","export default function getSpeed(fileProgress) {\n  if (!fileProgress.bytesUploaded) return 0;\n  const timeElapsed = Date.now() - fileProgress.uploadStarted;\n  const uploadSpeed = fileProgress.bytesUploaded / (timeElapsed / 1000);\n  return uploadSpeed;\n}","export default {\n  STATE_ERROR: 'error',\n  STATE_WAITING: 'waiting',\n  STATE_PREPROCESSING: 'preprocessing',\n  STATE_UPLOADING: 'uploading',\n  STATE_POSTPROCESSING: 'postprocessing',\n  STATE_COMPLETE: 'complete'\n};","export default function calculateProcessingProgress(files) {\n  const values = [];\n  let mode;\n  let message;\n\n  for (const {\n    progress\n  } of Object.values(files)) {\n    const {\n      preprocess,\n      postprocess\n    } = progress; // In the future we should probably do this differently. For now we'll take the\n    // mode and message from the first file\n\n    if (message == null && (preprocess || postprocess)) {\n      ({\n        mode,\n        message\n      } = preprocess || postprocess);\n    }\n\n    if ((preprocess == null ? void 0 : preprocess.mode) === 'determinate') values.push(preprocess.value);\n    if ((postprocess == null ? void 0 : postprocess.mode) === 'determinate') values.push(postprocess.value);\n  }\n\n  const value = values.reduce((total, progressValue) => {\n    return total + progressValue / values.length;\n  }, 0);\n  return {\n    mode,\n    message,\n    value\n  };\n}","import secondsToTime from './secondsToTime.js';\nexport default function prettyETA(seconds) {\n  const time = secondsToTime(seconds); // Only display hours and minutes if they are greater than 0 but always\n  // display minutes if hours is being displayed\n  // Display a leading zero if the there is a preceding unit: 1m 05s, but 5s\n\n  const hoursStr = time.hours === 0 ? '' : `${time.hours}h`;\n  const minutesStr = time.minutes === 0 ? '' : `${time.hours === 0 ? time.minutes : ` ${time.minutes.toString(10).padStart(2, '0')}`}m`;\n  const secondsStr = time.hours !== 0 ? '' : `${time.minutes === 0 ? time.seconds : ` ${time.seconds.toString(10).padStart(2, '0')}`}s`;\n  return `${hoursStr}${minutesStr}${secondsStr}`;\n}","export default function secondsToTime(rawSeconds) {\n  const hours = Math.floor(rawSeconds / 3600) % 24;\n  const minutes = Math.floor(rawSeconds / 60) % 60;\n  const seconds = Math.floor(rawSeconds % 60);\n  return {\n    hours,\n    minutes,\n    seconds\n  };\n}","/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\tvar nativeCodeString = '[native code]';\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import { h } from 'preact';\nimport classNames from 'classnames';\nimport throttle from 'lodash.throttle';\nimport prettierBytes from '@transloadit/prettier-bytes';\nimport prettyETA from '@uppy/utils/lib/prettyETA';\nimport statusBarStates from './StatusBarStates.js';\nconst DOT = `\\u00B7`;\n\nconst renderDot = () => ` ${DOT} `;\n\nfunction UploadBtn(props) {\n  const {\n    newFiles,\n    isUploadStarted,\n    recoveredState,\n    i18n,\n    uploadState,\n    isSomeGhost,\n    startUpload\n  } = props;\n  const uploadBtnClassNames = classNames('uppy-u-reset', 'uppy-c-btn', 'uppy-StatusBar-actionBtn', 'uppy-StatusBar-actionBtn--upload', {\n    'uppy-c-btn-primary': uploadState === statusBarStates.STATE_WAITING\n  }, {\n    'uppy-StatusBar-actionBtn--disabled': isSomeGhost\n  });\n  const uploadBtnText = newFiles && isUploadStarted && !recoveredState ? i18n('uploadXNewFiles', {\n    smart_count: newFiles\n  }) : i18n('uploadXFiles', {\n    smart_count: newFiles\n  });\n  return h(\"button\", {\n    type: \"button\",\n    className: uploadBtnClassNames,\n    \"aria-label\": i18n('uploadXFiles', {\n      smart_count: newFiles\n    }),\n    onClick: startUpload,\n    disabled: isSomeGhost,\n    \"data-uppy-super-focusable\": true\n  }, uploadBtnText);\n}\n\nfunction RetryBtn(props) {\n  const {\n    i18n,\n    uppy\n  } = props;\n  return h(\"button\", {\n    type: \"button\",\n    className: \"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry\",\n    \"aria-label\": i18n('retryUpload'),\n    onClick: () => uppy.retryAll(),\n    \"data-uppy-super-focusable\": true\n  }, h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"8\",\n    height: \"10\",\n    viewBox: \"0 0 8 10\"\n  }, h(\"path\", {\n    d: \"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z\"\n  })), i18n('retry'));\n}\n\nfunction CancelBtn(props) {\n  const {\n    i18n,\n    uppy\n  } = props;\n  return h(\"button\", {\n    type: \"button\",\n    className: \"uppy-u-reset uppy-StatusBar-actionCircleBtn\",\n    title: i18n('cancel'),\n    \"aria-label\": i18n('cancel'),\n    onClick: () => uppy.cancelAll(),\n    \"data-cy\": \"cancel\",\n    \"data-uppy-super-focusable\": true\n  }, h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 16 16\"\n  }, h(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, h(\"circle\", {\n    fill: \"#888\",\n    cx: \"8\",\n    cy: \"8\",\n    r: \"8\"\n  }), h(\"path\", {\n    fill: \"#FFF\",\n    d: \"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z\"\n  }))));\n}\n\nfunction PauseResumeButton(props) {\n  const {\n    isAllPaused,\n    i18n,\n    isAllComplete,\n    resumableUploads,\n    uppy\n  } = props;\n  const title = isAllPaused ? i18n('resume') : i18n('pause');\n\n  function togglePauseResume() {\n    if (isAllComplete) return null;\n\n    if (!resumableUploads) {\n      return uppy.cancelAll();\n    }\n\n    if (isAllPaused) {\n      return uppy.resumeAll();\n    }\n\n    return uppy.pauseAll();\n  }\n\n  return h(\"button\", {\n    title: title,\n    \"aria-label\": title,\n    className: \"uppy-u-reset uppy-StatusBar-actionCircleBtn\",\n    type: \"button\",\n    onClick: togglePauseResume,\n    \"data-uppy-super-focusable\": true\n  }, h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 16 16\"\n  }, h(\"g\", {\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, h(\"circle\", {\n    fill: \"#888\",\n    cx: \"8\",\n    cy: \"8\",\n    r: \"8\"\n  }), h(\"path\", {\n    fill: \"#FFF\",\n    d: isAllPaused ? 'M6 4.25L11.5 8 6 11.75z' : 'M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z'\n  }))));\n}\n\nfunction DoneBtn(props) {\n  const {\n    i18n,\n    doneButtonHandler\n  } = props;\n  return h(\"button\", {\n    type: \"button\",\n    className: \"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done\",\n    onClick: doneButtonHandler,\n    \"data-uppy-super-focusable\": true\n  }, i18n('done'));\n}\n\nfunction LoadingSpinner() {\n  return h(\"svg\", {\n    className: \"uppy-StatusBar-spinner\",\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    width: \"14\",\n    height: \"14\"\n  }, h(\"path\", {\n    d: \"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0\",\n    fillRule: \"evenodd\"\n  }));\n}\n\nfunction ProgressBarProcessing(props) {\n  const {\n    progress\n  } = props;\n  const {\n    value,\n    mode,\n    message\n  } = progress;\n  const roundedValue = Math.round(value * 100);\n  const dot = `\\u00B7`;\n  return h(\"div\", {\n    className: \"uppy-StatusBar-content\"\n  }, h(LoadingSpinner, null), mode === 'determinate' ? `${roundedValue}% ${dot} ` : '', message);\n}\n\nfunction ProgressDetails(props) {\n  const {\n    numUploads,\n    complete,\n    totalUploadedSize,\n    totalSize,\n    totalETA,\n    i18n\n  } = props;\n  const ifShowFilesUploadedOfTotal = numUploads > 1;\n  return h(\"div\", {\n    className: \"uppy-StatusBar-statusSecondary\"\n  }, ifShowFilesUploadedOfTotal && i18n('filesUploadedOfTotal', {\n    complete,\n    smart_count: numUploads\n  }), h(\"span\", {\n    className: \"uppy-StatusBar-additionalInfo\"\n  }, ifShowFilesUploadedOfTotal && renderDot(), i18n('dataUploadedOfTotal', {\n    complete: prettierBytes(totalUploadedSize),\n    total: prettierBytes(totalSize)\n  }), renderDot(), i18n('xTimeLeft', {\n    time: prettyETA(totalETA)\n  })));\n}\n\nfunction FileUploadCount(props) {\n  const {\n    i18n,\n    complete,\n    numUploads\n  } = props;\n  return h(\"div\", {\n    className: \"uppy-StatusBar-statusSecondary\"\n  }, i18n('filesUploadedOfTotal', {\n    complete,\n    smart_count: numUploads\n  }));\n}\n\nfunction UploadNewlyAddedFiles(props) {\n  const {\n    i18n,\n    newFiles,\n    startUpload\n  } = props;\n  const uploadBtnClassNames = classNames('uppy-u-reset', 'uppy-c-btn', 'uppy-StatusBar-actionBtn', 'uppy-StatusBar-actionBtn--uploadNewlyAdded');\n  return h(\"div\", {\n    className: \"uppy-StatusBar-statusSecondary\"\n  }, h(\"div\", {\n    className: \"uppy-StatusBar-statusSecondaryHint\"\n  }, i18n('xMoreFilesAdded', {\n    smart_count: newFiles\n  })), h(\"button\", {\n    type: \"button\",\n    className: uploadBtnClassNames,\n    \"aria-label\": i18n('uploadXFiles', {\n      smart_count: newFiles\n    }),\n    onClick: startUpload\n  }, i18n('upload')));\n}\n\nconst ThrottledProgressDetails = throttle(ProgressDetails, 500, {\n  leading: true,\n  trailing: true\n});\n\nfunction ProgressBarUploading(props) {\n  const {\n    i18n,\n    supportsUploadProgress,\n    totalProgress,\n    showProgressDetails,\n    isUploadStarted,\n    isAllComplete,\n    isAllPaused,\n    newFiles,\n    numUploads,\n    complete,\n    totalUploadedSize,\n    totalSize,\n    totalETA,\n    startUpload\n  } = props;\n  const showUploadNewlyAddedFiles = newFiles && isUploadStarted;\n\n  if (!isUploadStarted || isAllComplete) {\n    return null;\n  }\n\n  const title = isAllPaused ? i18n('paused') : i18n('uploading');\n\n  function renderProgressDetails() {\n    if (!isAllPaused && !showUploadNewlyAddedFiles && showProgressDetails) {\n      if (supportsUploadProgress) {\n        return h(ThrottledProgressDetails, {\n          numUploads: numUploads,\n          complete: complete,\n          totalUploadedSize: totalUploadedSize,\n          totalSize: totalSize,\n          totalETA: totalETA,\n          i18n: i18n\n        });\n      }\n\n      return h(FileUploadCount, {\n        i18n: i18n,\n        complete: complete,\n        numUploads: numUploads\n      });\n    }\n\n    return null;\n  }\n\n  return h(\"div\", {\n    className: \"uppy-StatusBar-content\",\n    \"aria-label\": title,\n    title: title\n  }, !isAllPaused ? h(LoadingSpinner, null) : null, h(\"div\", {\n    className: \"uppy-StatusBar-status\"\n  }, h(\"div\", {\n    className: \"uppy-StatusBar-statusPrimary\"\n  }, supportsUploadProgress ? `${title}: ${totalProgress}%` : title), renderProgressDetails(), showUploadNewlyAddedFiles ? h(UploadNewlyAddedFiles, {\n    i18n: i18n,\n    newFiles: newFiles,\n    startUpload: startUpload\n  }) : null));\n}\n\nfunction ProgressBarComplete(props) {\n  const {\n    i18n\n  } = props;\n  return h(\"div\", {\n    className: \"uppy-StatusBar-content\",\n    role: \"status\",\n    title: i18n('complete')\n  }, h(\"div\", {\n    className: \"uppy-StatusBar-status\"\n  }, h(\"div\", {\n    className: \"uppy-StatusBar-statusPrimary\"\n  }, h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-StatusBar-statusIndicator uppy-c-icon\",\n    width: \"15\",\n    height: \"11\",\n    viewBox: \"0 0 15 11\"\n  }, h(\"path\", {\n    d: \"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z\"\n  })), i18n('complete'))));\n}\n\nfunction ProgressBarError(props) {\n  const {\n    error,\n    i18n,\n    complete,\n    numUploads\n  } = props;\n\n  function displayErrorAlert() {\n    const errorMessage = `${i18n('uploadFailed')} \\n\\n ${error}`; // eslint-disable-next-line no-alert\n\n    alert(errorMessage); // TODO: move to custom alert implementation\n  }\n\n  return h(\"div\", {\n    className: \"uppy-StatusBar-content\",\n    title: i18n('uploadFailed')\n  }, h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-StatusBar-statusIndicator uppy-c-icon\",\n    width: \"11\",\n    height: \"11\",\n    viewBox: \"0 0 11 11\"\n  }, h(\"path\", {\n    d: \"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z\"\n  })), h(\"div\", {\n    className: \"uppy-StatusBar-status\"\n  }, h(\"div\", {\n    className: \"uppy-StatusBar-statusPrimary\"\n  }, i18n('uploadFailed'), h(\"button\", {\n    className: \"uppy-u-reset uppy-StatusBar-details\",\n    \"aria-label\": i18n('showErrorDetails'),\n    \"data-microtip-position\": \"top-right\",\n    \"data-microtip-size\": \"medium\",\n    onClick: displayErrorAlert,\n    type: \"button\"\n  }, \"?\")), h(FileUploadCount, {\n    i18n: i18n,\n    complete: complete,\n    numUploads: numUploads\n  })));\n}\n\nexport { UploadBtn, RetryBtn, CancelBtn, PauseResumeButton, DoneBtn, LoadingSpinner, ProgressDetails, ProgressBarProcessing, ProgressBarError, ProgressBarUploading, ProgressBarComplete };","import { h } from 'preact';\nimport classNames from 'classnames';\nimport statusBarStates from './StatusBarStates.js';\nimport calculateProcessingProgress from './calculateProcessingProgress.js';\nimport { UploadBtn, RetryBtn, CancelBtn, PauseResumeButton, DoneBtn, ProgressBarProcessing, ProgressBarError, ProgressBarUploading, ProgressBarComplete } from \"./Components.js\";\nconst {\n  STATE_ERROR,\n  STATE_WAITING,\n  STATE_PREPROCESSING,\n  STATE_UPLOADING,\n  STATE_POSTPROCESSING,\n  STATE_COMPLETE\n} = statusBarStates; // TODO: rename the function to StatusBarUI on the next major.\n\nexport default function StatusBar(props) {\n  const {\n    newFiles,\n    allowNewUpload,\n    isUploadInProgress,\n    isAllPaused,\n    resumableUploads,\n    error,\n    hideUploadButton,\n    hidePauseResumeButton,\n    hideCancelButton,\n    hideRetryButton,\n    recoveredState,\n    uploadState,\n    totalProgress,\n    files,\n    supportsUploadProgress,\n    hideAfterFinish,\n    isSomeGhost,\n    doneButtonHandler,\n    isUploadStarted,\n    i18n,\n    startUpload,\n    uppy,\n    isAllComplete,\n    showProgressDetails,\n    numUploads,\n    complete,\n    totalSize,\n    totalETA,\n    totalUploadedSize\n  } = props;\n\n  function getProgressValue() {\n    switch (uploadState) {\n      case STATE_POSTPROCESSING:\n      case STATE_PREPROCESSING:\n        {\n          const progress = calculateProcessingProgress(files);\n\n          if (progress.mode === 'determinate') {\n            return progress.value * 100;\n          }\n\n          return totalProgress;\n        }\n\n      case STATE_ERROR:\n        {\n          return null;\n        }\n\n      case STATE_UPLOADING:\n        {\n          if (!supportsUploadProgress) {\n            return null;\n          }\n\n          return totalProgress;\n        }\n\n      default:\n        return totalProgress;\n    }\n  }\n\n  function getIsIndeterminate() {\n    switch (uploadState) {\n      case STATE_POSTPROCESSING:\n      case STATE_PREPROCESSING:\n        {\n          const {\n            mode\n          } = calculateProcessingProgress(files);\n          return mode === 'indeterminate';\n        }\n\n      case STATE_UPLOADING:\n        {\n          if (!supportsUploadProgress) {\n            return true;\n          }\n\n          return false;\n        }\n\n      default:\n        return false;\n    }\n  }\n\n  function getIsHidden() {\n    if (recoveredState) {\n      return false;\n    }\n\n    switch (uploadState) {\n      case STATE_WAITING:\n        return hideUploadButton || newFiles === 0;\n\n      case STATE_COMPLETE:\n        return hideAfterFinish;\n\n      default:\n        return false;\n    }\n  }\n\n  const progressValue = getProgressValue();\n  const isHidden = getIsHidden();\n  const width = progressValue != null ? progressValue : 100;\n  const showUploadBtn = !error && newFiles && !isUploadInProgress && !isAllPaused && allowNewUpload && !hideUploadButton;\n  const showCancelBtn = !hideCancelButton && uploadState !== STATE_WAITING && uploadState !== STATE_COMPLETE;\n  const showPauseResumeBtn = resumableUploads && !hidePauseResumeButton && uploadState === STATE_UPLOADING;\n  const showRetryBtn = error && !isAllComplete && !hideRetryButton;\n  const showDoneBtn = doneButtonHandler && uploadState === STATE_COMPLETE;\n  const progressClassNames = classNames('uppy-StatusBar-progress', {\n    'is-indeterminate': getIsIndeterminate()\n  });\n  const statusBarClassNames = classNames('uppy-StatusBar', `is-${uploadState}`, {\n    'has-ghosts': isSomeGhost\n  });\n  return h(\"div\", {\n    className: statusBarClassNames,\n    \"aria-hidden\": isHidden\n  }, h(\"div\", {\n    className: progressClassNames,\n    style: {\n      width: `${width}%`\n    },\n    role: \"progressbar\",\n    \"aria-label\": `${width}%`,\n    \"aria-valuetext\": `${width}%`,\n    \"aria-valuemin\": \"0\",\n    \"aria-valuemax\": \"100\",\n    \"aria-valuenow\": progressValue\n  }), (() => {\n    switch (uploadState) {\n      case STATE_PREPROCESSING:\n      case STATE_POSTPROCESSING:\n        return h(ProgressBarProcessing, {\n          progress: calculateProcessingProgress(files)\n        });\n\n      case STATE_COMPLETE:\n        return h(ProgressBarComplete, {\n          i18n: i18n\n        });\n\n      case STATE_ERROR:\n        return h(ProgressBarError, {\n          error: error,\n          i18n: i18n,\n          numUploads: numUploads,\n          complete: complete\n        });\n\n      case STATE_UPLOADING:\n        return h(ProgressBarUploading, {\n          i18n: i18n,\n          supportsUploadProgress: supportsUploadProgress,\n          totalProgress: totalProgress,\n          showProgressDetails: showProgressDetails,\n          isUploadStarted: isUploadStarted,\n          isAllComplete: isAllComplete,\n          isAllPaused: isAllPaused,\n          newFiles: newFiles,\n          numUploads: numUploads,\n          complete: complete,\n          totalUploadedSize: totalUploadedSize,\n          totalSize: totalSize,\n          totalETA: totalETA,\n          startUpload: startUpload\n        });\n\n      default:\n        return null;\n    }\n  })(), h(\"div\", {\n    className: \"uppy-StatusBar-actions\"\n  }, recoveredState || showUploadBtn ? h(UploadBtn, {\n    newFiles: newFiles,\n    isUploadStarted: isUploadStarted,\n    recoveredState: recoveredState,\n    i18n: i18n,\n    isSomeGhost: isSomeGhost,\n    startUpload: startUpload,\n    uploadState: uploadState\n  }) : null, showRetryBtn ? h(RetryBtn, {\n    i18n: i18n,\n    uppy: uppy\n  }) : null, showPauseResumeBtn ? h(PauseResumeButton, {\n    isAllPaused: isAllPaused,\n    i18n: i18n,\n    isAllComplete: isAllComplete,\n    resumableUploads: resumableUploads,\n    uppy: uppy\n  }) : null, showCancelBtn ? h(CancelBtn, {\n    i18n: i18n,\n    uppy: uppy\n  }) : null, showDoneBtn ? h(DoneBtn, {\n    i18n: i18n,\n    doneButtonHandler: doneButtonHandler\n  }) : null));\n}","export default {\n  strings: {\n    // Shown in the status bar while files are being uploaded.\n    uploading: 'Uploading',\n    // Shown in the status bar once all files have been uploaded.\n    complete: 'Complete',\n    // Shown in the status bar if an upload failed.\n    uploadFailed: 'Upload failed',\n    // Shown in the status bar while the upload is paused.\n    paused: 'Paused',\n    // Used as the label for the button that retries an upload.\n    retry: 'Retry',\n    // Used as the label for the button that cancels an upload.\n    cancel: 'Cancel',\n    // Used as the label for the button that pauses an upload.\n    pause: 'Pause',\n    // Used as the label for the button that resumes an upload.\n    resume: 'Resume',\n    // Used as the label for the button that resets the upload state after an upload\n    done: 'Done',\n    // When `showProgressDetails` is set, shows the number of files that have been fully uploaded so far.\n    filesUploadedOfTotal: {\n      0: '%{complete} of %{smart_count} file uploaded',\n      1: '%{complete} of %{smart_count} files uploaded'\n    },\n    // When `showProgressDetails` is set, shows the amount of bytes that have been uploaded so far.\n    dataUploadedOfTotal: '%{complete} of %{total}',\n    // When `showProgressDetails` is set, shows an estimation of how long the upload will take to complete.\n    xTimeLeft: '%{time} left',\n    // Used as the label for the button that starts an upload.\n    uploadXFiles: {\n      0: 'Upload %{smart_count} file',\n      1: 'Upload %{smart_count} files'\n    },\n    // Used as the label for the button that starts an upload, if another upload has been started in the past\n    // and new files were added later.\n    uploadXNewFiles: {\n      0: 'Upload +%{smart_count} file',\n      1: 'Upload +%{smart_count} files'\n    },\n    upload: 'Upload',\n    retryUpload: 'Retry upload',\n    xMoreFilesAdded: {\n      0: '%{smart_count} more file added',\n      1: '%{smart_count} more files added'\n    },\n    showErrorDetails: 'Show error details'\n  }\n};","import { UIPlugin } from '@uppy/core';\nimport getSpeed from '@uppy/utils/lib/getSpeed';\nimport getBytesRemaining from '@uppy/utils/lib/getBytesRemaining';\nimport getTextDirection from '@uppy/utils/lib/getTextDirection';\nimport statusBarStates from './StatusBarStates.js';\nimport StatusBarUI from \"./StatusBarUI.js\";\nconst packageJson = {\n  \"version\": \"3.0.1\"\n};\nimport locale from './locale.js';\n\nfunction getTotalSpeed(files) {\n  let totalSpeed = 0;\n  files.forEach(file => {\n    totalSpeed += getSpeed(file.progress);\n  });\n  return totalSpeed;\n}\n\nfunction getTotalETA(files) {\n  const totalSpeed = getTotalSpeed(files);\n\n  if (totalSpeed === 0) {\n    return 0;\n  }\n\n  const totalBytesRemaining = files.reduce((total, file) => {\n    return total + getBytesRemaining(file.progress);\n  }, 0);\n  return Math.round(totalBytesRemaining / totalSpeed * 10) / 10;\n}\n\nfunction getUploadingState(error, isAllComplete, recoveredState, files) {\n  if (error && !isAllComplete) {\n    return statusBarStates.STATE_ERROR;\n  }\n\n  if (isAllComplete) {\n    return statusBarStates.STATE_COMPLETE;\n  }\n\n  if (recoveredState) {\n    return statusBarStates.STATE_WAITING;\n  }\n\n  let state = statusBarStates.STATE_WAITING;\n  const fileIDs = Object.keys(files);\n\n  for (let i = 0; i < fileIDs.length; i++) {\n    const {\n      progress\n    } = files[fileIDs[i]]; // If ANY files are being uploaded right now, show the uploading state.\n\n    if (progress.uploadStarted && !progress.uploadComplete) {\n      return statusBarStates.STATE_UPLOADING;\n    } // If files are being preprocessed AND postprocessed at this time, we show the\n    // preprocess state. If any files are being uploaded we show uploading.\n\n\n    if (progress.preprocess && state !== statusBarStates.STATE_UPLOADING) {\n      state = statusBarStates.STATE_PREPROCESSING;\n    } // If NO files are being preprocessed or uploaded right now, but some files are\n    // being postprocessed, show the postprocess state.\n\n\n    if (progress.postprocess && state !== statusBarStates.STATE_UPLOADING && state !== statusBarStates.STATE_PREPROCESSING) {\n      state = statusBarStates.STATE_POSTPROCESSING;\n    }\n  }\n\n  return state;\n}\n/**\n * StatusBar: renders a status bar with upload/pause/resume/cancel/retry buttons,\n * progress percentage and time remaining.\n */\n\n\nexport default class StatusBar extends UIPlugin {\n  constructor(uppy, opts) {\n    super(uppy, opts);\n\n    this.startUpload = () => {\n      const {\n        recoveredState\n      } = this.uppy.getState();\n\n      if (recoveredState) {\n        this.uppy.emit('restore-confirmed');\n        return undefined;\n      }\n\n      return this.uppy.upload().catch(() => {// Error logged in Core\n      });\n    };\n\n    this.id = this.opts.id || 'StatusBar';\n    this.title = 'StatusBar';\n    this.type = 'progressindicator';\n    this.defaultLocale = locale; // set default options, must be kept in sync with @uppy/react/src/StatusBar.js\n\n    const defaultOptions = {\n      target: 'body',\n      hideUploadButton: false,\n      hideRetryButton: false,\n      hidePauseResumeButton: false,\n      hideCancelButton: false,\n      showProgressDetails: false,\n      hideAfterFinish: true,\n      doneButtonHandler: null\n    };\n    this.opts = { ...defaultOptions,\n      ...opts\n    };\n    this.i18nInit();\n    this.render = this.render.bind(this);\n    this.install = this.install.bind(this);\n  }\n\n  render(state) {\n    const {\n      capabilities,\n      files,\n      allowNewUpload,\n      totalProgress,\n      error,\n      recoveredState\n    } = state;\n    const {\n      newFiles,\n      startedFiles,\n      completeFiles,\n      inProgressNotPausedFiles,\n      isUploadStarted,\n      isAllComplete,\n      isAllErrored,\n      isAllPaused,\n      isUploadInProgress,\n      isSomeGhost\n    } = this.uppy.getObjectOfFilesPerState(); // If some state was recovered, we want to show Upload button/counter\n    // for all the files, because in this case its not an Upload button,\n    // but Confirm Restore Button\n\n    const newFilesOrRecovered = recoveredState ? Object.values(files) : newFiles;\n    const totalETA = getTotalETA(inProgressNotPausedFiles);\n    const resumableUploads = !!capabilities.resumableUploads;\n    const supportsUploadProgress = capabilities.uploadProgress !== false;\n    let totalSize = 0;\n    let totalUploadedSize = 0;\n    startedFiles.forEach(file => {\n      totalSize += file.progress.bytesTotal || 0;\n      totalUploadedSize += file.progress.bytesUploaded || 0;\n    });\n    return StatusBarUI({\n      error,\n      uploadState: getUploadingState(error, isAllComplete, recoveredState, state.files || {}),\n      allowNewUpload,\n      totalProgress,\n      totalSize,\n      totalUploadedSize,\n      isAllComplete: false,\n      isAllPaused,\n      isAllErrored,\n      isUploadStarted,\n      isUploadInProgress,\n      isSomeGhost,\n      recoveredState,\n      complete: completeFiles.length,\n      newFiles: newFilesOrRecovered.length,\n      numUploads: startedFiles.length,\n      totalETA,\n      files,\n      i18n: this.i18n,\n      uppy: this.uppy,\n      startUpload: this.startUpload,\n      doneButtonHandler: this.opts.doneButtonHandler,\n      resumableUploads,\n      supportsUploadProgress,\n      showProgressDetails: this.opts.showProgressDetails,\n      hideUploadButton: this.opts.hideUploadButton,\n      hideRetryButton: this.opts.hideRetryButton,\n      hidePauseResumeButton: this.opts.hidePauseResumeButton,\n      hideCancelButton: this.opts.hideCancelButton,\n      hideAfterFinish: this.opts.hideAfterFinish,\n      isTargetDOMEl: this.isTargetDOMEl\n    });\n  }\n\n  onMount() {\n    // Set the text direction if the page has not defined one.\n    const element = this.el;\n    const direction = getTextDirection(element);\n\n    if (!direction) {\n      element.dir = 'ltr';\n    }\n  }\n\n  install() {\n    const {\n      target\n    } = this.opts;\n\n    if (target) {\n      this.mount(target, this);\n    }\n  }\n\n  uninstall() {\n    this.unmount();\n  }\n\n}\nStatusBar.VERSION = packageJson.version;","export default function getBytesRemaining(fileProgress) {\n  return fileProgress.bytesTotal - fileProgress.bytesUploaded;\n}","import { h, Component, createRef } from 'preact';\nconst TRANSITION_MS = 300;\nexport default class FadeIn extends Component {\n  constructor() {\n    super(...arguments);\n    this.ref = createRef();\n  }\n\n  componentWillEnter(callback) {\n    this.ref.current.style.opacity = '1';\n    this.ref.current.style.transform = 'none';\n    setTimeout(callback, TRANSITION_MS);\n  }\n\n  componentWillLeave(callback) {\n    this.ref.current.style.opacity = '0';\n    this.ref.current.style.transform = 'translateY(350%)';\n    setTimeout(callback, TRANSITION_MS);\n  }\n\n  render() {\n    const {\n      children\n    } = this.props;\n    return h(\"div\", {\n      className: \"uppy-Informer-animated\",\n      ref: this.ref\n    }, children);\n  }\n\n}","/* eslint-disable */\n\n/**\n * @source https://github.com/developit/preact-transition-group\n */\nimport { Component, cloneElement, h, toChildArray } from 'preact';\n\nfunction assign(obj, props) {\n  return Object.assign(obj, props);\n}\n\nfunction getKey(vnode, fallback) {\n  var _vnode$key;\n\n  return (_vnode$key = vnode == null ? void 0 : vnode.key) != null ? _vnode$key : fallback;\n}\n\nfunction linkRef(component, name) {\n  const cache = component._ptgLinkedRefs || (component._ptgLinkedRefs = {});\n  return cache[name] || (cache[name] = c => {\n    component.refs[name] = c;\n  });\n}\n\nfunction getChildMapping(children) {\n  const out = {};\n\n  for (let i = 0; i < children.length; i++) {\n    if (children[i] != null) {\n      const key = getKey(children[i], i.toString(36));\n      out[key] = children[i];\n    }\n  }\n\n  return out;\n}\n\nfunction mergeChildMappings(prev, next) {\n  prev = prev || {};\n  next = next || {};\n\n  const getValueForKey = key => next.hasOwnProperty(key) ? next[key] : prev[key]; // For each key of `next`, the list of keys to insert before that key in\n  // the combined list\n\n\n  const nextKeysPending = {};\n  let pendingKeys = [];\n\n  for (const prevKey in prev) {\n    if (next.hasOwnProperty(prevKey)) {\n      if (pendingKeys.length) {\n        nextKeysPending[prevKey] = pendingKeys;\n        pendingKeys = [];\n      }\n    } else {\n      pendingKeys.push(prevKey);\n    }\n  }\n\n  const childMapping = {};\n\n  for (const nextKey in next) {\n    if (nextKeysPending.hasOwnProperty(nextKey)) {\n      for (let i = 0; i < nextKeysPending[nextKey].length; i++) {\n        const pendingNextKey = nextKeysPending[nextKey][i];\n        childMapping[nextKeysPending[nextKey][i]] = getValueForKey(pendingNextKey);\n      }\n    }\n\n    childMapping[nextKey] = getValueForKey(nextKey);\n  } // Finally, add the keys which didn't appear before any key in `next`\n\n\n  for (let i = 0; i < pendingKeys.length; i++) {\n    childMapping[pendingKeys[i]] = getValueForKey(pendingKeys[i]);\n  }\n\n  return childMapping;\n}\n\nconst identity = i => i;\n\nclass TransitionGroup extends Component {\n  constructor(props, context) {\n    super(props, context);\n    this.refs = {};\n    this.state = {\n      children: getChildMapping(toChildArray(toChildArray(this.props.children)) || [])\n    };\n    this.performAppear = this.performAppear.bind(this);\n    this.performEnter = this.performEnter.bind(this);\n    this.performLeave = this.performLeave.bind(this);\n  }\n\n  componentWillMount() {\n    this.currentlyTransitioningKeys = {};\n    this.keysToAbortLeave = [];\n    this.keysToEnter = [];\n    this.keysToLeave = [];\n  }\n\n  componentDidMount() {\n    const initialChildMapping = this.state.children;\n\n    for (const key in initialChildMapping) {\n      if (initialChildMapping[key]) {\n        // this.performAppear(getKey(initialChildMapping[key], key));\n        this.performAppear(key);\n      }\n    }\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const nextChildMapping = getChildMapping(toChildArray(nextProps.children) || []);\n    const prevChildMapping = this.state.children;\n    this.setState(prevState => ({\n      children: mergeChildMappings(prevState.children, nextChildMapping)\n    }));\n    let key;\n\n    for (key in nextChildMapping) {\n      if (nextChildMapping.hasOwnProperty(key)) {\n        const hasPrev = prevChildMapping && prevChildMapping.hasOwnProperty(key); // We should re-enter the component and abort its leave function\n\n        if (nextChildMapping[key] && hasPrev && this.currentlyTransitioningKeys[key]) {\n          this.keysToEnter.push(key);\n          this.keysToAbortLeave.push(key);\n        } else if (nextChildMapping[key] && !hasPrev && !this.currentlyTransitioningKeys[key]) {\n          this.keysToEnter.push(key);\n        }\n      }\n    }\n\n    for (key in prevChildMapping) {\n      if (prevChildMapping.hasOwnProperty(key)) {\n        const hasNext = nextChildMapping && nextChildMapping.hasOwnProperty(key);\n\n        if (prevChildMapping[key] && !hasNext && !this.currentlyTransitioningKeys[key]) {\n          this.keysToLeave.push(key);\n        }\n      }\n    }\n  }\n\n  componentDidUpdate() {\n    const {\n      keysToEnter\n    } = this;\n    this.keysToEnter = [];\n    keysToEnter.forEach(this.performEnter);\n    const {\n      keysToLeave\n    } = this;\n    this.keysToLeave = [];\n    keysToLeave.forEach(this.performLeave);\n  }\n\n  _finishAbort(key) {\n    const idx = this.keysToAbortLeave.indexOf(key);\n\n    if (idx !== -1) {\n      this.keysToAbortLeave.splice(idx, 1);\n    }\n  }\n\n  performAppear(key) {\n    this.currentlyTransitioningKeys[key] = true;\n    const component = this.refs[key];\n\n    if (component.componentWillAppear) {\n      component.componentWillAppear(this._handleDoneAppearing.bind(this, key));\n    } else {\n      this._handleDoneAppearing(key);\n    }\n  }\n\n  _handleDoneAppearing(key) {\n    const component = this.refs[key];\n\n    if (component.componentDidAppear) {\n      component.componentDidAppear();\n    }\n\n    delete this.currentlyTransitioningKeys[key];\n\n    this._finishAbort(key);\n\n    const currentChildMapping = getChildMapping(toChildArray(this.props.children) || []);\n\n    if (!currentChildMapping || !currentChildMapping.hasOwnProperty(key)) {\n      // This was removed before it had fully appeared. Remove it.\n      this.performLeave(key);\n    }\n  }\n\n  performEnter(key) {\n    this.currentlyTransitioningKeys[key] = true;\n    const component = this.refs[key];\n\n    if (component.componentWillEnter) {\n      component.componentWillEnter(this._handleDoneEntering.bind(this, key));\n    } else {\n      this._handleDoneEntering(key);\n    }\n  }\n\n  _handleDoneEntering(key) {\n    const component = this.refs[key];\n\n    if (component.componentDidEnter) {\n      component.componentDidEnter();\n    }\n\n    delete this.currentlyTransitioningKeys[key];\n\n    this._finishAbort(key);\n\n    const currentChildMapping = getChildMapping(toChildArray(this.props.children) || []);\n\n    if (!currentChildMapping || !currentChildMapping.hasOwnProperty(key)) {\n      // This was removed before it had fully entered. Remove it.\n      this.performLeave(key);\n    }\n  }\n\n  performLeave(key) {\n    // If we should immediately abort this leave function,\n    // don't run the leave transition at all.\n    const idx = this.keysToAbortLeave.indexOf(key);\n\n    if (idx !== -1) {\n      return;\n    }\n\n    this.currentlyTransitioningKeys[key] = true;\n    const component = this.refs[key];\n\n    if (component.componentWillLeave) {\n      component.componentWillLeave(this._handleDoneLeaving.bind(this, key));\n    } else {\n      // Note that this is somewhat dangerous b/c it calls setState()\n      // again, effectively mutating the component before all the work\n      // is done.\n      this._handleDoneLeaving(key);\n    }\n  }\n\n  _handleDoneLeaving(key) {\n    // If we should immediately abort the leave,\n    // then skip this altogether\n    const idx = this.keysToAbortLeave.indexOf(key);\n\n    if (idx !== -1) {\n      return;\n    }\n\n    const component = this.refs[key];\n\n    if (component.componentDidLeave) {\n      component.componentDidLeave();\n    }\n\n    delete this.currentlyTransitioningKeys[key];\n    const currentChildMapping = getChildMapping(toChildArray(this.props.children) || []);\n\n    if (currentChildMapping && currentChildMapping.hasOwnProperty(key)) {\n      // This entered again before it fully left. Add it again.\n      this.performEnter(key);\n    } else {\n      const children = assign({}, this.state.children);\n      delete children[key];\n      this.setState({\n        children\n      });\n    }\n  }\n\n  render(_ref, _ref2) {\n    let {\n      childFactory,\n      transitionLeave,\n      transitionName,\n      transitionAppear,\n      transitionEnter,\n      transitionLeaveTimeout,\n      transitionEnterTimeout,\n      transitionAppearTimeout,\n      component,\n      ...props\n    } = _ref;\n    let {\n      children\n    } = _ref2;\n    // TODO: we could get rid of the need for the wrapper node\n    // by cloning a single child\n    const childrenToRender = Object.entries(children).map(_ref3 => {\n      let [key, child] = _ref3;\n      if (!child) return undefined;\n      const ref = linkRef(this, key);\n      return cloneElement(childFactory(child), {\n        ref,\n        key\n      });\n    }).filter(Boolean);\n    return h(component, props, childrenToRender);\n  }\n\n}\n\nTransitionGroup.defaultProps = {\n  component: 'span',\n  childFactory: identity\n};\nexport default TransitionGroup;","/* eslint-disable jsx-a11y/no-noninteractive-element-interactions  */\n\n/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport { h } from 'preact';\nimport { UIPlugin } from '@uppy/core';\nimport FadeIn from \"./FadeIn.js\";\nimport TransitionGroup from './TransitionGroup.js';\nconst packageJson = {\n  \"version\": \"3.0.1\"\n};\n/**\n * Informer\n * Shows rad message bubbles\n * used like this: `uppy.info('hello world', 'info', 5000)`\n * or for errors: `uppy.info('Error uploading img.jpg', 'error', 5000)`\n *\n */\n\nexport default class Informer extends UIPlugin {\n  constructor(uppy, opts) {\n    super(uppy, opts);\n\n    this.render = state => {\n      return h(\"div\", {\n        className: \"uppy uppy-Informer\"\n      }, h(TransitionGroup, null, state.info.map(info => h(FadeIn, {\n        key: info.message\n      }, h(\"p\", {\n        role: \"alert\"\n      }, info.message, ' ', info.details && h(\"span\", {\n        \"aria-label\": info.details,\n        \"data-microtip-position\": \"top-left\",\n        \"data-microtip-size\": \"medium\",\n        role: \"tooltip\" // eslint-disable-next-line no-alert\n        ,\n        onClick: () => alert(`${info.message} \\n\\n ${info.details}`)\n      }, \"?\"))))));\n    };\n\n    this.type = 'progressindicator';\n    this.id = this.opts.id || 'Informer';\n    this.title = 'Informer'; // set default options\n\n    const defaultOptions = {}; // merge default options with the ones set by user\n\n    this.opts = { ...defaultOptions,\n      ...opts\n    };\n  }\n\n  install() {\n    const {\n      target\n    } = this.opts;\n\n    if (target) {\n      this.mount(target, this);\n    }\n  }\n\n}\nInformer.VERSION = packageJson.version;","const DATA_URL_PATTERN = /^data:([^/]+\\/[^,;]+(?:[^,]*?))(;base64)?,([\\s\\S]*)$/;\nexport default function dataURItoBlob(dataURI, opts, toFile) {\n  var _ref, _opts$mimeType;\n\n  // get the base64 data\n  const dataURIData = DATA_URL_PATTERN.exec(dataURI); // user may provide mime type, if not get it from data URI\n\n  const mimeType = (_ref = (_opts$mimeType = opts.mimeType) != null ? _opts$mimeType : dataURIData == null ? void 0 : dataURIData[1]) != null ? _ref : 'plain/text';\n  let data;\n\n  if (dataURIData[2] != null) {\n    const binary = atob(decodeURIComponent(dataURIData[3]));\n    const bytes = new Uint8Array(binary.length);\n\n    for (let i = 0; i < binary.length; i++) {\n      bytes[i] = binary.charCodeAt(i);\n    }\n\n    data = [bytes];\n  } else {\n    data = [decodeURIComponent(dataURIData[3])];\n  } // Convert to a File?\n\n\n  if (toFile) {\n    return new File(data, opts.name || '', {\n      type: mimeType\n    });\n  }\n\n  return new Blob(data, {\n    type: mimeType\n  });\n}","/**\n * Check if a URL string is an object URL from `URL.createObjectURL`.\n *\n * @param {string} url\n * @returns {boolean}\n */\nexport default function isObjectURL(url) {\n  return url.startsWith('blob:');\n}","export default function isPreviewSupported(fileType) {\n  if (!fileType) return false; // list of images that browsers can preview\n\n  return /^[^/]+\\/(jpe?g|gif|png|svg|svg\\+xml|bmp|webp|avif)$/.test(fileType);\n}","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nconst base64 = require('base64-js')\nconst ieee754 = require('ieee754')\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","function e(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var t=\"undefined\"!=typeof self?self:global;const s=\"undefined\"!=typeof navigator,i=s&&\"undefined\"==typeof HTMLImageElement,n=!(\"undefined\"==typeof global||\"undefined\"==typeof process||!process.versions||!process.versions.node),r=t.Buffer,a=!!r,h=e=>void 0!==e;function f(e){return void 0===e||(e instanceof Map?0===e.size:0===Object.values(e).filter(h).length)}function l(e){let t=new Error(e);throw delete t.stack,t}function o(e){let t=function(e){let t=0;return e.ifd0.enabled&&(t+=1024),e.exif.enabled&&(t+=2048),e.makerNote&&(t+=2048),e.userComment&&(t+=1024),e.gps.enabled&&(t+=512),e.interop.enabled&&(t+=100),e.ifd1.enabled&&(t+=1024),t+2048}(e);return e.jfif.enabled&&(t+=50),e.xmp.enabled&&(t+=2e4),e.iptc.enabled&&(t+=14e3),e.icc.enabled&&(t+=6e3),t}const u=e=>String.fromCharCode.apply(null,e),d=\"undefined\"!=typeof TextDecoder?new TextDecoder(\"utf-8\"):void 0;class c{static from(e,t){return e instanceof this&&e.le===t?e:new c(e,void 0,void 0,t)}constructor(e,t=0,s,i){if(\"boolean\"==typeof i&&(this.le=i),Array.isArray(e)&&(e=new Uint8Array(e)),0===e)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){void 0===s&&(s=e.byteLength-t);let i=new DataView(e,t,s);this._swapDataView(i)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof c){void 0===s&&(s=e.byteLength-t),(t+=e.byteOffset)+s>e.byteOffset+e.byteLength&&l(\"Creating view outside of available memory in ArrayBuffer\");let i=new DataView(e.buffer,t,s);this._swapDataView(i)}else if(\"number\"==typeof e){let t=new DataView(new ArrayBuffer(e));this._swapDataView(t)}else l(\"Invalid input argument for BufferView: \"+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,t,s=c){return e instanceof DataView||e instanceof c?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||l(\"BufferView.set(): Invalid data argument.\"),this.toUint8().set(e,t),new s(this,t,e.byteLength)}subarray(e,t){return t=t||this._lengthToEnd(e),new c(this,e,t)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,t){return new Uint8Array(this.buffer,this.byteOffset+e,t)}getString(e=0,t=this.byteLength){let s=this.getUint8Array(e,t);return i=s,d?d.decode(i):a?Buffer.from(i).toString(\"utf8\"):decodeURIComponent(escape(u(i)));var i}getLatin1String(e=0,t=this.byteLength){let s=this.getUint8Array(e,t);return u(s)}getUnicodeString(e=0,t=this.byteLength){const s=[];for(let i=0;i<t&&e+i<this.byteLength;i+=2)s.push(this.getUint16(e+i));return u(s)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,t=this.le){return this.dataView.getInt16(e,t)}getInt32(e,t=this.le){return this.dataView.getInt32(e,t)}getUint16(e,t=this.le){return this.dataView.getUint16(e,t)}getUint32(e,t=this.le){return this.dataView.getUint32(e,t)}getFloat32(e,t=this.le){return this.dataView.getFloat32(e,t)}getFloat64(e,t=this.le){return this.dataView.getFloat64(e,t)}getFloat(e,t=this.le){return this.dataView.getFloat32(e,t)}getDouble(e,t=this.le){return this.dataView.getFloat64(e,t)}getUintBytes(e,t,s){switch(t){case 1:return this.getUint8(e,s);case 2:return this.getUint16(e,s);case 4:return this.getUint32(e,s);case 8:return this.getUint64&&this.getUint64(e,s)}}getUint(e,t,s){switch(t){case 8:return this.getUint8(e,s);case 16:return this.getUint16(e,s);case 32:return this.getUint32(e,s);case 64:return this.getUint64&&this.getUint64(e,s)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}}function p(e,t){l(`${e} '${t}' was not loaded, try using full build of exifr.`)}class g extends Map{constructor(e){super(),this.kind=e}get(e,t){return this.has(e)||p(this.kind,e),t&&(e in t||function(e,t){l(`Unknown ${e} '${t}'.`)}(this.kind,e),t[e].enabled||p(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}}var m=new g(\"file parser\"),y=new g(\"segment parser\"),b=new g(\"file reader\");let w=t.fetch;function k(e,t){return(i=e).startsWith(\"data:\")||i.length>1e4?v(e,t,\"base64\"):n&&e.includes(\"://\")?O(e,t,\"url\",S):n?v(e,t,\"fs\"):s?O(e,t,\"url\",S):void l(\"Invalid input argument\");var i}async function O(e,t,s,i){return b.has(s)?v(e,t,s):i?async function(e,t){let s=await t(e);return new c(s)}(e,i):void l(`Parser ${s} is not loaded`)}async function v(e,t,s){let i=new(b.get(s))(e,t);return await i.read(),i}const S=e=>w(e).then((e=>e.arrayBuffer())),A=e=>new Promise(((t,s)=>{let i=new FileReader;i.onloadend=()=>t(i.result||new ArrayBuffer),i.onerror=s,i.readAsArrayBuffer(e)}));class U extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}}function x(e,t,s){let i=new U;for(let[e,t]of s)i.set(e,t);if(Array.isArray(t))for(let s of t)e.set(s,i);else e.set(t,i);return i}function C(e,t,s){let i,n=e.get(t);for(i of s)n.set(i[0],i[1])}const B=new Map,V=new Map,I=new Map,L=[\"chunked\",\"firstChunkSize\",\"firstChunkSizeNode\",\"firstChunkSizeBrowser\",\"chunkSize\",\"chunkLimit\"],T=[\"jfif\",\"xmp\",\"icc\",\"iptc\",\"ihdr\"],z=[\"tiff\",...T],P=[\"ifd0\",\"ifd1\",\"exif\",\"gps\",\"interop\"],F=[...z,...P],j=[\"makerNote\",\"userComment\"],E=[\"translateKeys\",\"translateValues\",\"reviveValues\",\"multiSegment\"],M=[...E,\"sanitize\",\"mergeOutput\",\"silentErrors\"];class _{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class D extends _{get needed(){return this.enabled||this.deps.size>0}constructor(t,s,i,n){if(super(),e(this,\"enabled\",!1),e(this,\"skip\",new Set),e(this,\"pick\",new Set),e(this,\"deps\",new Set),e(this,\"translateKeys\",!1),e(this,\"translateValues\",!1),e(this,\"reviveValues\",!1),this.key=t,this.enabled=s,this.parse=this.enabled,this.applyInheritables(n),this.canBeFiltered=P.includes(t),this.canBeFiltered&&(this.dict=B.get(t)),void 0!==i)if(Array.isArray(i))this.parse=this.enabled=!0,this.canBeFiltered&&i.length>0&&this.translateTagSet(i,this.pick);else if(\"object\"==typeof i){if(this.enabled=!0,this.parse=!1!==i.parse,this.canBeFiltered){let{pick:e,skip:t}=i;e&&e.length>0&&this.translateTagSet(e,this.pick),t&&t.length>0&&this.translateTagSet(t,this.skip)}this.applyInheritables(i)}else!0===i||!1===i?this.parse=this.enabled=i:l(`Invalid options argument: ${i}`)}applyInheritables(e){let t,s;for(t of E)s=e[t],void 0!==s&&(this[t]=s)}translateTagSet(e,t){if(this.dict){let s,i,{tagKeys:n,tagValues:r}=this.dict;for(s of e)\"string\"==typeof s?(i=r.indexOf(s),-1===i&&(i=n.indexOf(Number(s))),-1!==i&&t.add(Number(n[i]))):t.add(s)}else for(let s of e)t.add(s)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,X(this.pick,this.deps)):this.enabled&&this.pick.size>0&&X(this.pick,this.deps)}}var N={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},$=new Map;class R extends _{static useCached(e){let t=$.get(e);return void 0!==t||(t=new this(e),$.set(e,t)),t}constructor(e){super(),!0===e?this.setupFromTrue():void 0===e?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):\"object\"==typeof e?this.setupFromObject(e):l(`Invalid options argument ${e}`),void 0===this.firstChunkSize&&(this.firstChunkSize=s?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of L)this[e]=N[e];for(e of M)this[e]=N[e];for(e of j)this[e]=N[e];for(e of F)this[e]=new D(e,N[e],void 0,this)}setupFromTrue(){let e;for(e of L)this[e]=N[e];for(e of M)this[e]=N[e];for(e of j)this[e]=!0;for(e of F)this[e]=new D(e,!0,void 0,this)}setupFromArray(e){let t;for(t of L)this[t]=N[t];for(t of M)this[t]=N[t];for(t of j)this[t]=N[t];for(t of F)this[t]=new D(t,!1,void 0,this);this.setupGlobalFilters(e,void 0,P)}setupFromObject(e){let t;for(t of(P.ifd0=P.ifd0||P.image,P.ifd1=P.ifd1||P.thumbnail,Object.assign(this,e),L))this[t]=W(e[t],N[t]);for(t of M)this[t]=W(e[t],N[t]);for(t of j)this[t]=W(e[t],N[t]);for(t of z)this[t]=new D(t,N[t],e[t],this);for(t of P)this[t]=new D(t,N[t],e[t],this.tiff);this.setupGlobalFilters(e.pick,e.skip,P,F),!0===e.tiff?this.batchEnableWithBool(P,!0):!1===e.tiff?this.batchEnableWithUserValue(P,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,P):\"object\"==typeof e.tiff&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,P)}batchEnableWithBool(e,t){for(let s of e)this[s].enabled=t}batchEnableWithUserValue(e,t){for(let s of e){let e=t[s];this[s].enabled=!1!==e&&void 0!==e}}setupGlobalFilters(e,t,s,i=s){if(e&&e.length){for(let e of i)this[e].enabled=!1;let t=K(e,s);for(let[e,s]of t)X(this[e].pick,s),this[e].enabled=!0}else if(t&&t.length){let e=K(t,s);for(let[t,s]of e)X(this[t].skip,s)}}filterNestedSegmentTags(){let{ifd0:e,exif:t,xmp:s,iptc:i,icc:n}=this;this.makerNote?t.deps.add(37500):t.skip.add(37500),this.userComment?t.deps.add(37510):t.skip.add(37510),s.enabled||e.skip.add(700),i.enabled||e.skip.add(33723),n.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:t,gps:s,interop:i}=this;i.needed&&(t.deps.add(40965),e.deps.add(40965)),t.needed&&e.deps.add(34665),s.needed&&e.deps.add(34853),this.tiff.enabled=P.some((e=>!0===this[e].enabled))||this.makerNote||this.userComment;for(let e of P)this[e].finalizeFilters()}get onlyTiff(){return!T.map((e=>this[e].enabled)).some((e=>!0===e))&&this.tiff.enabled}checkLoadedPlugins(){for(let e of z)this[e].enabled&&!y.has(e)&&p(\"segment parser\",e)}}function K(e,t){let s,i,n,r,a=[];for(n of t){for(r of(s=B.get(n),i=[],s))(e.includes(r[0])||e.includes(r[1]))&&i.push(r[0]);i.length&&a.push([n,i])}return a}function W(e,t){return void 0!==e?e:void 0!==t?t:void 0}function X(e,t){for(let s of t)e.add(s)}e(R,\"default\",N);class H{constructor(t){e(this,\"parsers\",{}),e(this,\"output\",{}),e(this,\"errors\",[]),e(this,\"pushToErrors\",(e=>this.errors.push(e))),this.options=R.useCached(t)}async read(e){this.file=await function(e,t){return\"string\"==typeof e?k(e,t):s&&!i&&e instanceof HTMLImageElement?k(e.src,t):e instanceof Uint8Array||e instanceof ArrayBuffer||e instanceof DataView?new c(e):s&&e instanceof Blob?O(e,t,\"blob\",A):void l(\"Invalid input argument\")}(e,this.options)}setup(){if(this.fileParser)return;let{file:e}=this,t=e.getUint16(0);for(let[s,i]of m)if(i.canHandle(e,t))return this.fileParser=new i(this.options,this.file,this.parsers),e[s]=!0;this.file.close&&this.file.close(),l(\"Unknown file format\")}async parse(){let{output:e,errors:t}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),t.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&t.length>0&&(e.errors=t),f(s=e)?void 0:s;var s}async executeParsers(){let{output:e}=this;await this.fileParser.parse();let t=Object.values(this.parsers).map((async t=>{let s=await t.parse();t.assignToOutput(e,s)}));this.options.silentErrors&&(t=t.map((e=>e.catch(this.pushToErrors)))),await Promise.all(t)}async extractThumbnail(){this.setup();let{options:e,file:t}=this,s=y.get(\"tiff\",e);var i;if(t.tiff?i={start:0,type:\"tiff\"}:t.jpeg&&(i=await this.fileParser.getOrFindSegment(\"tiff\")),void 0===i)return;let n=await this.fileParser.ensureSegmentChunk(i),r=this.parsers.tiff=new s(n,e,t),a=await r.extractThumbnail();return t.close&&t.close(),a}}async function Y(e,t){let s=new H(t);return await s.read(e),s.parse()}var G=Object.freeze({__proto__:null,parse:Y,Exifr:H,fileParsers:m,segmentParsers:y,fileReaders:b,tagKeys:B,tagValues:V,tagRevivers:I,createDictionary:x,extendDictionary:C,fetchUrlAsArrayBuffer:S,readBlobAsArrayBuffer:A,chunkedProps:L,otherSegments:T,segments:z,tiffBlocks:P,segmentsAndBlocks:F,tiffExtractables:j,inheritables:E,allFormatters:M,Options:R});class J{static findPosition(e,t){let s=e.getUint16(t+2)+2,i=\"function\"==typeof this.headerLength?this.headerLength(e,t,s):this.headerLength,n=t+i,r=s-i;return{offset:t,length:s,headerLength:i,start:n,size:r,end:n+r}}static parse(e,t={}){return new this(e,new R({[this.type]:t}),e).parse()}normalizeInput(e){return e instanceof c?e:new c(e)}constructor(t,s={},i){e(this,\"errors\",[]),e(this,\"raw\",new Map),e(this,\"handleError\",(e=>{if(!this.options.silentErrors)throw e;this.errors.push(e.message)})),this.chunk=this.normalizeInput(t),this.file=i,this.type=this.constructor.type,this.globalOptions=this.options=s,this.localOptions=s[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,t){let s=I.get(t),i=V.get(t),n=B.get(t),r=this.options[t],a=r.reviveValues&&!!s,h=r.translateValues&&!!i,f=r.translateKeys&&!!n,l={};for(let[t,r]of e)a&&s.has(t)?r=s.get(t)(r):h&&i.has(t)&&(r=this.translateValue(r,i.get(t))),f&&n.has(t)&&(t=n.get(t)||t),l[t]=r;return l}translateValue(e,t){return t[e]||t.DEFAULT||e}assignToOutput(e,t){this.assignObjectToOutput(e,this.constructor.type,t)}assignObjectToOutput(e,t,s){if(this.globalOptions.mergeOutput)return Object.assign(e,s);e[t]?Object.assign(e[t],s):e[t]=s}}e(J,\"headerLength\",4),e(J,\"type\",void 0),e(J,\"multiSegment\",!1),e(J,\"canHandle\",(()=>!1));function q(e){return 192===e||194===e||196===e||219===e||221===e||218===e||254===e}function Q(e){return e>=224&&e<=239}function Z(e,t,s){for(let[i,n]of y)if(n.canHandle(e,t,s))return i}class ee extends class{constructor(t,s,i){e(this,\"errors\",[]),e(this,\"ensureSegmentChunk\",(async e=>{let t=e.start,s=e.size||65536;if(this.file.chunked)if(this.file.available(t,s))e.chunk=this.file.subarray(t,s);else try{e.chunk=await this.file.readChunk(t,s)}catch(t){l(`Couldn't read segment: ${JSON.stringify(e)}. ${t.message}`)}else this.file.byteLength>t+s?e.chunk=this.file.subarray(t,s):void 0===e.size?e.chunk=this.file.subarray(t):l(\"Segment unreachable: \"+JSON.stringify(e));return e.chunk})),this.extendOptions&&this.extendOptions(t),this.options=t,this.file=s,this.parsers=i}injectSegment(e,t){this.options[e].enabled&&this.createParser(e,t)}createParser(e,t){let s=new(y.get(e))(t,this.options,this.file);return this.parsers[e]=s}createParsers(e){for(let t of e){let{type:e,chunk:s}=t,i=this.options[e];if(i&&i.enabled){let t=this.parsers[e];t&&t.append||t||this.createParser(e,s)}}}async readSegments(e){let t=e.map(this.ensureSegmentChunk);await Promise.all(t)}}{constructor(...t){super(...t),e(this,\"appSegments\",[]),e(this,\"jpegSegments\",[]),e(this,\"unknownSegments\",[])}static canHandle(e,t){return 65496===t}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(e){!0===e?(this.findAll=!0,this.wanted=new Set(y.keyList())):(e=void 0===e?y.keyList().filter((e=>this.options[e].enabled)):e.filter((e=>this.options[e].enabled&&y.has(e))),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,t){this.setupSegmentFinderArgs(t);let{file:s,findAll:i,wanted:n,remaining:r}=this;if(!i&&this.file.chunked&&(i=Array.from(n).some((e=>{let t=y.get(e),s=this.options[e];return t.multiSegment&&s.multiSegment})),i&&await this.file.readWhole()),e=this.findAppSegmentsInRange(e,s.byteLength),!this.options.onlyTiff&&s.chunked){let t=!1;for(;r.size>0&&!t&&(s.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:i}=s,n=this.appSegments.some((e=>!this.file.available(e.offset||e.start,e.length||e.size)));if(t=e>i&&!n?!await s.readNextChunk(e):!await s.readNextChunk(i),void 0===(e=this.findAppSegmentsInRange(e,s.byteLength)))return}}}findAppSegmentsInRange(e,t){t-=2;let s,i,n,r,a,h,{file:f,findAll:l,wanted:o,remaining:u,options:d}=this;for(;e<t;e++)if(255===f.getUint8(e))if(s=f.getUint8(e+1),Q(s)){if(i=f.getUint16(e+2),n=Z(f,e,i),n&&o.has(n)&&(r=y.get(n),a=r.findPosition(f,e),h=d[n],a.type=n,this.appSegments.push(a),!l&&(r.multiSegment&&h.multiSegment?(this.unfinishedMultiSegment=a.chunkNumber<a.chunkCount,this.unfinishedMultiSegment||u.delete(n)):u.delete(n),0===u.size)))break;d.recordUnknownSegments&&(a=J.findPosition(f,e),a.marker=s,this.unknownSegments.push(a)),e+=i+1}else if(q(s)){if(i=f.getUint16(e+2),218===s&&!1!==d.stopAfterSos)return;d.recordJpegSegments&&this.jpegSegments.push({offset:e,length:i,marker:s}),e+=i+1}return e}mergeMultiSegments(){if(!this.appSegments.some((e=>e.multiSegment)))return;let e=function(e,t){let s,i,n,r=new Map;for(let a=0;a<e.length;a++)s=e[a],i=s[t],r.has(i)?n=r.get(i):r.set(i,n=[]),n.push(s);return Array.from(r)}(this.appSegments,\"type\");this.mergedAppSegments=e.map((([e,t])=>{let s=y.get(e,this.options);if(s.handleMultiSegments){return{type:e,chunk:s.handleMultiSegments(t)}}return t[0]}))}getSegment(e){return this.appSegments.find((t=>t.type===e))}async getOrFindSegment(e){let t=this.getSegment(e);return void 0===t&&(await this.findAppSegments(0,[e]),t=this.getSegment(e)),t}}e(ee,\"type\",\"jpeg\"),m.set(\"jpeg\",ee);const te=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class se extends J{parseHeader(){var e=this.chunk.getUint16();18761===e?this.le=!0:19789===e&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,t,s=new Map){let{pick:i,skip:n}=this.options[t];i=new Set(i);let r=i.size>0,a=0===n.size,h=this.chunk.getUint16(e);e+=2;for(let f=0;f<h;f++){let h=this.chunk.getUint16(e);if(r){if(i.has(h)&&(s.set(h,this.parseTag(e,h,t)),i.delete(h),0===i.size))break}else!a&&n.has(h)||s.set(h,this.parseTag(e,h,t));e+=12}return s}parseTag(e,t,s){let{chunk:i}=this,n=i.getUint16(e+2),r=i.getUint32(e+4),a=te[n];if(a*r<=4?e+=8:e=i.getUint32(e+8),(n<1||n>13)&&l(`Invalid TIFF value type. block: ${s.toUpperCase()}, tag: ${t.toString(16)}, type: ${n}, offset ${e}`),e>i.byteLength&&l(`Invalid TIFF value offset. block: ${s.toUpperCase()}, tag: ${t.toString(16)}, type: ${n}, offset ${e} is outside of chunk size ${i.byteLength}`),1===n)return i.getUint8Array(e,r);if(2===n)return\"\"===(h=function(e){for(;e.endsWith(\"\\0\");)e=e.slice(0,-1);return e}(h=i.getString(e,r)).trim())?void 0:h;var h;if(7===n)return i.getUint8Array(e,r);if(1===r)return this.parseTagValue(n,e);{let t=new(function(e){switch(e){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(n))(r),s=a;for(let i=0;i<r;i++)t[i]=this.parseTagValue(n,e),e+=s;return t}}parseTagValue(e,t){let{chunk:s}=this;switch(e){case 1:return s.getUint8(t);case 3:return s.getUint16(t);case 4:return s.getUint32(t);case 5:return s.getUint32(t)/s.getUint32(t+4);case 6:return s.getInt8(t);case 8:return s.getInt16(t);case 9:return s.getInt32(t);case 10:return s.getInt32(t)/s.getInt32(t+4);case 11:return s.getFloat(t);case 12:return s.getDouble(t);case 13:return s.getUint32(t);default:l(`Invalid tiff type ${e}`)}}}class ie extends se{static canHandle(e,t){return 225===e.getUint8(t+1)&&1165519206===e.getUint32(t+4)&&0===e.getUint16(t+8)}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse(\"parseExifBlock\"),e.gps.enabled&&await this.safeParse(\"parseGpsBlock\"),e.interop.enabled&&await this.safeParse(\"parseInteropBlock\"),e.ifd1.enabled&&await this.safeParse(\"parseThumbnailBlock\"),this.createOutput()}safeParse(e){let t=this[e]();return void 0!==t.catch&&(t=t.catch(this.handleError)),t}findIfd0Offset(){void 0===this.ifd0Offset&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(void 0===this.ifd1Offset){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),t=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(t)}}parseBlock(e,t){let s=new Map;return this[t]=s,this.parseTags(e,t,s),s}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&l(\"Malformed EXIF data\"),!e.chunked&&this.ifd0Offset>e.byteLength&&l(`IFD0 offset points to outside of file.\\nthis.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&await e.ensureChunk(this.ifd0Offset,o(this.options));let t=this.parseBlock(this.ifd0Offset,\"ifd0\");return 0!==t.size?(this.exifOffset=t.get(34665),this.interopOffset=t.get(40965),this.gpsOffset=t.get(34853),this.xmp=t.get(700),this.iptc=t.get(33723),this.icc=t.get(34675),this.options.sanitize&&(t.delete(34665),t.delete(40965),t.delete(34853),t.delete(700),t.delete(33723),t.delete(34675)),t):void 0}async parseExifBlock(){if(this.exif)return;if(this.ifd0||await this.parseIfd0Block(),void 0===this.exifOffset)return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,o(this.options));let e=this.parseBlock(this.exifOffset,\"exif\");return this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,t){let s=e.get(t);s&&1===s.length&&e.set(t,s[0])}async parseGpsBlock(){if(this.gps)return;if(this.ifd0||await this.parseIfd0Block(),void 0===this.gpsOffset)return;let e=this.parseBlock(this.gpsOffset,\"gps\");return e&&e.has(2)&&e.has(4)&&(e.set(\"latitude\",ne(...e.get(2),e.get(1))),e.set(\"longitude\",ne(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),void 0!==this.interopOffset||this.exif||await this.parseExifBlock(),void 0!==this.interopOffset))return this.parseBlock(this.interopOffset,\"interop\")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,\"ifd1\"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),void 0===this.ifd1)return;let e=this.ifd1.get(513),t=this.ifd1.get(514);return this.chunk.getUint8Array(e,t)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,t,s,i={};for(t of P)if(e=this[t],!f(e))if(s=this.canTranslate?this.translateBlock(e,t):Object.fromEntries(e),this.options.mergeOutput){if(\"ifd1\"===t)continue;Object.assign(i,s)}else i[t]=s;return this.makerNote&&(i.makerNote=this.makerNote),this.userComment&&(i.userComment=this.userComment),i}assignToOutput(e,t){if(this.globalOptions.mergeOutput)Object.assign(e,t);else for(let[s,i]of Object.entries(t))this.assignObjectToOutput(e,s,i)}}function ne(e,t,s,i){var n=e+t/60+s/3600;return\"S\"!==i&&\"W\"!==i||(n*=-1),n}e(ie,\"type\",\"tiff\"),e(ie,\"headerLength\",10),y.set(\"tiff\",ie);var re=Object.freeze({__proto__:null,default:G,Exifr:H,fileParsers:m,segmentParsers:y,fileReaders:b,tagKeys:B,tagValues:V,tagRevivers:I,createDictionary:x,extendDictionary:C,fetchUrlAsArrayBuffer:S,readBlobAsArrayBuffer:A,chunkedProps:L,otherSegments:T,segments:z,tiffBlocks:P,segmentsAndBlocks:F,tiffExtractables:j,inheritables:E,allFormatters:M,Options:R,parse:Y});const ae={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},he=Object.assign({},ae,{firstChunkSize:4e4,gps:[1,2,3,4]});async function fe(e){let t=new H(he);await t.read(e);let s=await t.parse();if(s&&s.gps){let{latitude:e,longitude:t}=s.gps;return{latitude:e,longitude:t}}}const le=Object.assign({},ae,{tiff:!1,ifd1:!0,mergeOutput:!1});async function oe(e){let t=new H(le);await t.read(e);let s=await t.extractThumbnail();return s&&a?r.from(s):s}async function ue(e){let t=await this.thumbnail(e);if(void 0!==t){let e=new Blob([t]);return URL.createObjectURL(e)}}const de=Object.assign({},ae,{firstChunkSize:4e4,ifd0:[274]});async function ce(e){let t=new H(de);await t.read(e);let s=await t.parse();if(s&&s.ifd0)return s.ifd0[274]}const pe=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let ge=!0,me=!0;if(\"object\"==typeof navigator){let e=navigator.userAgent;if(e.includes(\"iPad\")||e.includes(\"iPhone\")){let t=e.match(/OS (\\d+)_(\\d+)/);if(t){let[,e,s]=t,i=Number(e)+.1*Number(s);ge=i<13.4,me=!1}}else if(e.includes(\"OS X 10\")){let[,t]=e.match(/OS X 10[_.](\\d+)/);ge=me=Number(t)<15}if(e.includes(\"Chrome/\")){let[,t]=e.match(/Chrome\\/(\\d+)/);ge=me=Number(t)<81}else if(e.includes(\"Firefox/\")){let[,t]=e.match(/Firefox\\/(\\d+)/);ge=me=Number(t)<77}}async function ye(e){let t=await ce(e);return Object.assign({canvas:ge,css:me},pe[t])}class be extends c{constructor(...t){super(...t),e(this,\"ranges\",new we),0!==this.byteLength&&this.ranges.add(0,this.byteLength)}_tryExtend(e,t,s){if(0===e&&0===this.byteLength&&s){let e=new DataView(s.buffer||s,s.byteOffset,s.byteLength);this._swapDataView(e)}else{let s=e+t;if(s>this.byteLength){let{dataView:e}=this._extend(s);this._swapDataView(e)}}}_extend(e){let t;t=a?r.allocUnsafe(e):new Uint8Array(e);let s=new DataView(t.buffer,t.byteOffset,t.byteLength);return t.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:t,dataView:s}}subarray(e,t,s=!1){return t=t||this._lengthToEnd(e),s&&this._tryExtend(e,t),this.ranges.add(e,t),super.subarray(e,t)}set(e,t,s=!1){s&&this._tryExtend(t,e.byteLength,e);let i=super.set(e,t);return this.ranges.add(t,i.byteLength),i}async ensureChunk(e,t){this.chunked&&(this.ranges.available(e,t)||await this.readChunk(e,t))}available(e,t){return this.ranges.available(e,t)}}class we{constructor(){e(this,\"list\",[])}get length(){return this.list.length}add(e,t,s=0){let i=e+t,n=this.list.filter((t=>ke(e,t.offset,i)||ke(e,t.end,i)));if(n.length>0){e=Math.min(e,...n.map((e=>e.offset))),i=Math.max(i,...n.map((e=>e.end))),t=i-e;let s=n.shift();s.offset=e,s.length=t,s.end=i,this.list=this.list.filter((e=>!n.includes(e)))}else this.list.push({offset:e,length:t,end:i})}available(e,t){let s=e+t;return this.list.some((t=>t.offset<=e&&s<=t.end))}}function ke(e,t,s){return e<=t&&t<=s}class Oe extends be{constructor(t,s){super(0),e(this,\"chunksRead\",0),this.input=t,this.options=s}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let t=this.options.chunkSize,s=await this.readChunk(e,t);return!!s&&s.byteLength===t}async readChunk(e,t){if(this.chunksRead++,0!==(t=this.safeWrapAddress(e,t)))return this._readChunk(e,t)}safeWrapAddress(e,t){return void 0!==this.size&&e+t>this.size?Math.max(0,this.size-e):t}get nextChunkOffset(){if(0!==this.ranges.list.length)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return void 0!==this.size&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}b.set(\"blob\",class extends Oe{async readWhole(){this.chunked=!1;let e=await A(this.input);this._swapArrayBuffer(e)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(e,t){let s=t?e+t:void 0,i=this.input.slice(e,s),n=await A(i);return this.set(n,e,!0)}});export default re;export{H as Exifr,R as Options,M as allFormatters,L as chunkedProps,x as createDictionary,C as extendDictionary,S as fetchUrlAsArrayBuffer,m as fileParsers,b as fileReaders,fe as gps,he as gpsOnlyOptions,E as inheritables,ce as orientation,de as orientationOnlyOptions,T as otherSegments,Y as parse,A as readBlobAsArrayBuffer,ge as rotateCanvas,me as rotateCss,ye as rotation,pe as rotations,y as segmentParsers,z as segments,F as segmentsAndBlocks,B as tagKeys,I as tagRevivers,V as tagValues,oe as thumbnail,le as thumbnailOnlyOptions,ue as thumbnailUrl,P as tiffBlocks,j as tiffExtractables};\n","export default {\n  strings: {\n    generatingThumbnails: 'Generating thumbnails...'\n  }\n};","import { UIPlugin } from '@uppy/core';\nimport dataURItoBlob from '@uppy/utils/lib/dataURItoBlob';\nimport isObjectURL from '@uppy/utils/lib/isObjectURL';\nimport isPreviewSupported from '@uppy/utils/lib/isPreviewSupported';\nimport { rotation } from 'exifr/dist/mini.esm.mjs';\nimport locale from './locale.js';\nconst packageJson = {\n  \"version\": \"3.0.2\"\n};\n/**\n * Save a <canvas> element's content to a Blob object.\n *\n * @param {HTMLCanvasElement} canvas\n * @returns {Promise}\n */\n\nfunction canvasToBlob(canvas, type, quality) {\n  try {\n    canvas.getContext('2d').getImageData(0, 0, 1, 1);\n  } catch (err) {\n    if (err.code === 18) {\n      return Promise.reject(new Error('cannot read image, probably an svg with external resources'));\n    }\n  }\n\n  if (canvas.toBlob) {\n    return new Promise(resolve => {\n      canvas.toBlob(resolve, type, quality);\n    }).then(blob => {\n      if (blob === null) {\n        throw new Error('cannot read image, probably an svg with external resources');\n      }\n\n      return blob;\n    });\n  }\n\n  return Promise.resolve().then(() => {\n    return dataURItoBlob(canvas.toDataURL(type, quality), {});\n  }).then(blob => {\n    if (blob === null) {\n      throw new Error('could not extract blob, probably an old browser');\n    }\n\n    return blob;\n  });\n}\n\nfunction rotateImage(image, translate) {\n  let w = image.width;\n  let h = image.height;\n\n  if (translate.deg === 90 || translate.deg === 270) {\n    w = image.height;\n    h = image.width;\n  }\n\n  const canvas = document.createElement('canvas');\n  canvas.width = w;\n  canvas.height = h;\n  const context = canvas.getContext('2d');\n  context.translate(w / 2, h / 2);\n\n  if (translate.canvas) {\n    context.rotate(translate.rad);\n    context.scale(translate.scaleX, translate.scaleY);\n  }\n\n  context.drawImage(image, -image.width / 2, -image.height / 2, image.width, image.height);\n  return canvas;\n}\n/**\n * Make sure the image doesnt exceed browser/device canvas limits.\n * For ios with 256 RAM and ie\n */\n\n\nfunction protect(image) {\n  // https://stackoverflow.com/questions/6081483/maximum-size-of-a-canvas-element\n  const ratio = image.width / image.height;\n  const maxSquare = 5000000; // ios max canvas square\n\n  const maxSize = 4096; // ie max canvas dimensions\n\n  let maxW = Math.floor(Math.sqrt(maxSquare * ratio));\n  let maxH = Math.floor(maxSquare / Math.sqrt(maxSquare * ratio));\n\n  if (maxW > maxSize) {\n    maxW = maxSize;\n    maxH = Math.round(maxW / ratio);\n  }\n\n  if (maxH > maxSize) {\n    maxH = maxSize;\n    maxW = Math.round(ratio * maxH);\n  }\n\n  if (image.width > maxW) {\n    const canvas = document.createElement('canvas');\n    canvas.width = maxW;\n    canvas.height = maxH;\n    canvas.getContext('2d').drawImage(image, 0, 0, maxW, maxH);\n    return canvas;\n  }\n\n  return image;\n}\n/**\n * The Thumbnail Generator plugin\n */\n\n\nexport default class ThumbnailGenerator extends UIPlugin {\n  constructor(uppy, opts) {\n    super(uppy, opts);\n\n    this.onFileAdded = file => {\n      if (!file.preview && file.data && isPreviewSupported(file.type) && !file.isRemote) {\n        this.addToQueue(file.id);\n      }\n    };\n\n    this.onCancelRequest = file => {\n      const index = this.queue.indexOf(file.id);\n\n      if (index !== -1) {\n        this.queue.splice(index, 1);\n      }\n    };\n\n    this.onFileRemoved = file => {\n      const index = this.queue.indexOf(file.id);\n\n      if (index !== -1) {\n        this.queue.splice(index, 1);\n      } // Clean up object URLs.\n\n\n      if (file.preview && isObjectURL(file.preview)) {\n        URL.revokeObjectURL(file.preview);\n      }\n    };\n\n    this.onRestored = () => {\n      const restoredFiles = this.uppy.getFiles().filter(file => file.isRestored);\n      restoredFiles.forEach(file => {\n        // Only add blob URLs; they are likely invalid after being restored.\n        if (!file.preview || isObjectURL(file.preview)) {\n          this.addToQueue(file.id);\n        }\n      });\n    };\n\n    this.onAllFilesRemoved = () => {\n      this.queue = [];\n    };\n\n    this.waitUntilAllProcessed = fileIDs => {\n      fileIDs.forEach(fileID => {\n        const file = this.uppy.getFile(fileID);\n        this.uppy.emit('preprocess-progress', file, {\n          mode: 'indeterminate',\n          message: this.i18n('generatingThumbnails')\n        });\n      });\n\n      const emitPreprocessCompleteForAll = () => {\n        fileIDs.forEach(fileID => {\n          const file = this.uppy.getFile(fileID);\n          this.uppy.emit('preprocess-complete', file);\n        });\n      };\n\n      return new Promise(resolve => {\n        if (this.queueProcessing) {\n          this.uppy.once('thumbnail:all-generated', () => {\n            emitPreprocessCompleteForAll();\n            resolve();\n          });\n        } else {\n          emitPreprocessCompleteForAll();\n          resolve();\n        }\n      });\n    };\n\n    this.type = 'modifier';\n    this.id = this.opts.id || 'ThumbnailGenerator';\n    this.title = 'Thumbnail Generator';\n    this.queue = [];\n    this.queueProcessing = false;\n    this.defaultThumbnailDimension = 200;\n    this.thumbnailType = this.opts.thumbnailType || 'image/jpeg';\n    this.defaultLocale = locale;\n    const defaultOptions = {\n      thumbnailWidth: null,\n      thumbnailHeight: null,\n      waitForThumbnailsBeforeUpload: false,\n      lazy: false\n    };\n    this.opts = { ...defaultOptions,\n      ...opts\n    };\n    this.i18nInit();\n\n    if (this.opts.lazy && this.opts.waitForThumbnailsBeforeUpload) {\n      throw new Error('ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.');\n    }\n  }\n  /**\n   * Create a thumbnail for the given Uppy file object.\n   *\n   * @param {{data: Blob}} file\n   * @param {number} targetWidth\n   * @param {number} targetHeight\n   * @returns {Promise}\n   */\n\n\n  createThumbnail(file, targetWidth, targetHeight) {\n    const originalUrl = URL.createObjectURL(file.data);\n    const onload = new Promise((resolve, reject) => {\n      const image = new Image();\n      image.src = originalUrl;\n      image.addEventListener('load', () => {\n        URL.revokeObjectURL(originalUrl);\n        resolve(image);\n      });\n      image.addEventListener('error', event => {\n        URL.revokeObjectURL(originalUrl);\n        reject(event.error || new Error('Could not create thumbnail'));\n      });\n    });\n    const orientationPromise = rotation(file.data).catch(() => 1);\n    return Promise.all([onload, orientationPromise]).then(_ref => {\n      let [image, orientation] = _ref;\n      const dimensions = this.getProportionalDimensions(image, targetWidth, targetHeight, orientation.deg);\n      const rotatedImage = rotateImage(image, orientation);\n      const resizedImage = this.resizeImage(rotatedImage, dimensions.width, dimensions.height);\n      return canvasToBlob(resizedImage, this.thumbnailType, 80);\n    }).then(blob => {\n      return URL.createObjectURL(blob);\n    });\n  }\n  /**\n   * Get the new calculated dimensions for the given image and a target width\n   * or height. If both width and height are given, only width is taken into\n   * account. If neither width nor height are given, the default dimension\n   * is used.\n   */\n\n\n  getProportionalDimensions(img, width, height, rotation) {\n    // eslint-disable-line no-shadow\n    let aspect = img.width / img.height;\n\n    if (rotation === 90 || rotation === 270) {\n      aspect = img.height / img.width;\n    }\n\n    if (width != null) {\n      return {\n        width,\n        height: Math.round(width / aspect)\n      };\n    }\n\n    if (height != null) {\n      return {\n        width: Math.round(height * aspect),\n        height\n      };\n    }\n\n    return {\n      width: this.defaultThumbnailDimension,\n      height: Math.round(this.defaultThumbnailDimension / aspect)\n    };\n  }\n  /**\n   * Resize an image to the target `width` and `height`.\n   *\n   * Returns a Canvas with the resized image on it.\n   */\n  // eslint-disable-next-line class-methods-use-this\n\n\n  resizeImage(image, targetWidth, targetHeight) {\n    // Resizing in steps refactored to use a solution from\n    // https://blog.uploadcare.com/image-resize-in-browsers-is-broken-e38eed08df01\n    let img = protect(image);\n    let steps = Math.ceil(Math.log2(img.width / targetWidth));\n\n    if (steps < 1) {\n      steps = 1;\n    }\n\n    let sW = targetWidth * 2 ** (steps - 1);\n    let sH = targetHeight * 2 ** (steps - 1);\n    const x = 2;\n\n    while (steps--) {\n      const canvas = document.createElement('canvas');\n      canvas.width = sW;\n      canvas.height = sH;\n      canvas.getContext('2d').drawImage(img, 0, 0, sW, sH);\n      img = canvas;\n      sW = Math.round(sW / x);\n      sH = Math.round(sH / x);\n    }\n\n    return img;\n  }\n  /**\n   * Set the preview URL for a file.\n   */\n\n\n  setPreviewURL(fileID, preview) {\n    this.uppy.setFileState(fileID, {\n      preview\n    });\n  }\n\n  addToQueue(item) {\n    this.queue.push(item);\n\n    if (this.queueProcessing === false) {\n      this.processQueue();\n    }\n  }\n\n  processQueue() {\n    this.queueProcessing = true;\n\n    if (this.queue.length > 0) {\n      const current = this.uppy.getFile(this.queue.shift());\n\n      if (!current) {\n        this.uppy.log('[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug', 'error');\n        return Promise.resolve();\n      }\n\n      return this.requestThumbnail(current).catch(() => {}) // eslint-disable-line node/handle-callback-err\n      .then(() => this.processQueue());\n    }\n\n    this.queueProcessing = false;\n    this.uppy.log('[ThumbnailGenerator] Emptied thumbnail queue');\n    this.uppy.emit('thumbnail:all-generated');\n    return Promise.resolve();\n  }\n\n  requestThumbnail(file) {\n    if (isPreviewSupported(file.type) && !file.isRemote) {\n      return this.createThumbnail(file, this.opts.thumbnailWidth, this.opts.thumbnailHeight).then(preview => {\n        this.setPreviewURL(file.id, preview);\n        this.uppy.log(`[ThumbnailGenerator] Generated thumbnail for ${file.id}`);\n        this.uppy.emit('thumbnail:generated', this.uppy.getFile(file.id), preview);\n      }).catch(err => {\n        this.uppy.log(`[ThumbnailGenerator] Failed thumbnail for ${file.id}:`, 'warning');\n        this.uppy.log(err, 'warning');\n        this.uppy.emit('thumbnail:error', this.uppy.getFile(file.id), err);\n      });\n    }\n\n    return Promise.resolve();\n  }\n\n  install() {\n    this.uppy.on('file-removed', this.onFileRemoved);\n    this.uppy.on('cancel-all', this.onAllFilesRemoved);\n\n    if (this.opts.lazy) {\n      this.uppy.on('thumbnail:request', this.onFileAdded);\n      this.uppy.on('thumbnail:cancel', this.onCancelRequest);\n    } else {\n      this.uppy.on('file-added', this.onFileAdded);\n      this.uppy.on('restored', this.onRestored);\n    }\n\n    if (this.opts.waitForThumbnailsBeforeUpload) {\n      this.uppy.addPreProcessor(this.waitUntilAllProcessed);\n    }\n  }\n\n  uninstall() {\n    this.uppy.off('file-removed', this.onFileRemoved);\n    this.uppy.off('cancel-all', this.onAllFilesRemoved);\n\n    if (this.opts.lazy) {\n      this.uppy.off('thumbnail:request', this.onFileAdded);\n      this.uppy.off('thumbnail:cancel', this.onCancelRequest);\n    } else {\n      this.uppy.off('file-added', this.onFileAdded);\n      this.uppy.off('restored', this.onRestored);\n    }\n\n    if (this.opts.waitForThumbnailsBeforeUpload) {\n      this.uppy.removePreProcessor(this.waitUntilAllProcessed);\n    }\n  }\n\n}\nThumbnailGenerator.VERSION = packageJson.version;","import isDOMElement from './isDOMElement.js';\n/**\n * Find one or more DOM elements.\n *\n * @param {string|Node} element\n * @returns {Node[]|null}\n */\n\nexport default function findAllDOMElements(element) {\n  if (typeof element === 'string') {\n    const elements = document.querySelectorAll(element);\n    return elements.length === 0 ? null : Array.from(elements);\n  }\n\n  if (typeof element === 'object' && isDOMElement(element)) {\n    return [element];\n  }\n\n  return null;\n}","/**\n * Converts list into array\n */\nexport default Array.from;","/**\n * Recursive function, calls the original callback() when the directory is entirely parsed.\n *\n * @param {FileSystemDirectoryReader} directoryReader\n * @param {Array} oldEntries\n * @param {Function} logDropError\n * @param {Function} callback - called with ([ all files and directories in that directoryReader ])\n */\nexport default function getFilesAndDirectoriesFromDirectory(directoryReader, oldEntries, logDropError, _ref) {\n  let {\n    onSuccess\n  } = _ref;\n  directoryReader.readEntries(entries => {\n    const newEntries = [...oldEntries, ...entries]; // According to the FileSystem API spec, getFilesAndDirectoriesFromDirectory()\n    // must be called until it calls the onSuccess with an empty array.\n\n    if (entries.length) {\n      queueMicrotask(() => {\n        getFilesAndDirectoriesFromDirectory(directoryReader, newEntries, logDropError, {\n          onSuccess\n        });\n      }); // Done iterating this particular directory\n    } else {\n      onSuccess(newEntries);\n    }\n  }, // Make sure we resolve on error anyway, it's fine if only one directory couldn't be parsed!\n  error => {\n    logDropError(error);\n    onSuccess(oldEntries);\n  });\n}","import getFilesAndDirectoriesFromDirectory from './getFilesAndDirectoriesFromDirectory.js';\n/**\n * Interop between deprecated webkitGetAsEntry and standard getAsFileSystemHandle.\n */\n\nfunction getAsFileSystemHandleFromEntry(entry, logDropError) {\n  if (entry == null) return entry;\n  return {\n    // eslint-disable-next-line no-nested-ternary\n    kind: entry.isFile ? 'file' : entry.isDirectory ? 'directory' : undefined,\n    name: entry.name,\n\n    getFile() {\n      return new Promise((resolve, reject) => entry.file(resolve, reject));\n    },\n\n    async *values() {\n      // If the file is a directory.\n      const directoryReader = entry.createReader();\n      const entries = await new Promise(resolve => {\n        getFilesAndDirectoriesFromDirectory(directoryReader, [], logDropError, {\n          onSuccess: dirEntries => resolve(dirEntries.map(file => getAsFileSystemHandleFromEntry(file, logDropError)))\n        });\n      });\n      yield* entries;\n    }\n\n  };\n}\n\nasync function* createPromiseToAddFileOrParseDirectory(entry, relativePath) {\n  // For each dropped item, - make sure it's a file/directory, and start deepening in!\n  if (entry.kind === 'file') {\n    const file = await entry.getFile();\n\n    if (file !== null) {\n      file.relativePath = relativePath ? `${relativePath}/${entry.name}` : null;\n      yield file;\n    }\n  } else if (entry.kind === 'directory') {\n    for await (const handle of entry.values()) {\n      yield* createPromiseToAddFileOrParseDirectory(handle, `${relativePath}/${entry.name}`);\n    }\n  }\n}\n\nexport default async function* getFilesFromDataTransfer(dataTransfer, logDropError) {\n  const entries = await Promise.all(Array.from(dataTransfer.items, async item => {\n    var _await$item$getAsFile;\n\n    const lastResortFile = item.getAsFile(); // Chromium bug, see https://github.com/transloadit/uppy/issues/3505.\n\n    const entry = (_await$item$getAsFile = await (item.getAsFileSystemHandle == null ? void 0 : item.getAsFileSystemHandle())) != null ? _await$item$getAsFile : getAsFileSystemHandleFromEntry(item.webkitGetAsEntry(), logDropError);\n    return {\n      lastResortFile,\n      entry\n    };\n  }));\n\n  for (const {\n    lastResortFile,\n    entry\n  } of entries) {\n    // :entry can be null when we drop the url e.g.\n    if (entry != null) {\n      try {\n        yield* createPromiseToAddFileOrParseDirectory(entry, '');\n      } catch (err) {\n        if (lastResortFile) {\n          yield lastResortFile;\n        } else {\n          logDropError(err);\n        }\n      }\n    }\n  }\n}","import toArray from '../../toArray.js'; // .files fallback, should be implemented in any browser\n\nexport default function fallbackApi(dataTransfer) {\n  const files = toArray(dataTransfer.files);\n  return Promise.resolve(files);\n}","import webkitGetAsEntryApi from './utils/webkitGetAsEntryApi/index.js';\nimport fallbackApi from './utils/fallbackApi.js';\n/**\n * Returns a promise that resolves to the array of dropped files (if a folder is\n * dropped, and browser supports folder parsing - promise resolves to the flat\n * array of all files in all directories).\n * Each file has .relativePath prop appended to it (e.g. \"/docs/Prague/ticket_from_prague_to_ufa.pdf\")\n * if browser supports it. Otherwise it's undefined.\n *\n * @param {DataTransfer} dataTransfer\n * @param {Function} logDropError - a function that's called every time some\n * folder or some file error out (e.g. because of the folder name being too long\n * on Windows). Notice that resulting promise will always be resolved anyway.\n *\n * @returns {Promise} - Array<File>\n */\n\nexport default async function getDroppedFiles(dataTransfer, _temp) {\n  let {\n    logDropError = () => {}\n  } = _temp === void 0 ? {} : _temp;\n\n  // Get all files from all subdirs. Works (at least) in Chrome, Mozilla, and Safari\n  try {\n    const accumulator = [];\n\n    for await (const file of webkitGetAsEntryApi(dataTransfer, logDropError)) {\n      accumulator.push(file);\n    }\n\n    return accumulator; // Otherwise just return all first-order files\n  } catch {\n    return fallbackApi(dataTransfer);\n  }\n}","var safeIsNaN = Number.isNaN ||\n    function ponyfill(value) {\n        return typeof value === 'number' && value !== value;\n    };\nfunction isEqual(first, second) {\n    if (first === second) {\n        return true;\n    }\n    if (safeIsNaN(first) && safeIsNaN(second)) {\n        return true;\n    }\n    return false;\n}\nfunction areInputsEqual(newInputs, lastInputs) {\n    if (newInputs.length !== lastInputs.length) {\n        return false;\n    }\n    for (var i = 0; i < newInputs.length; i++) {\n        if (!isEqual(newInputs[i], lastInputs[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoizeOne(resultFn, isEqual) {\n    if (isEqual === void 0) { isEqual = areInputsEqual; }\n    var cache = null;\n    function memoized() {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (cache && cache.lastThis === this && isEqual(newArgs, cache.lastArgs)) {\n            return cache.lastResult;\n        }\n        var lastResult = resultFn.apply(this, newArgs);\n        cache = {\n            lastResult: lastResult,\n            lastArgs: newArgs,\n            lastThis: this,\n        };\n        return lastResult;\n    }\n    memoized.clear = function clear() {\n        cache = null;\n    };\n    return memoized;\n}\n\nexport { memoizeOne as default };\n","export default ['a[href]:not([tabindex^=\"-\"]):not([inert]):not([aria-hidden])', 'area[href]:not([tabindex^=\"-\"]):not([inert]):not([aria-hidden])', 'input:not([disabled]):not([inert]):not([aria-hidden])', 'select:not([disabled]):not([inert]):not([aria-hidden])', 'textarea:not([disabled]):not([inert]):not([aria-hidden])', 'button:not([disabled]):not([inert]):not([aria-hidden])', 'iframe:not([tabindex^=\"-\"]):not([inert]):not([aria-hidden])', 'object:not([tabindex^=\"-\"]):not([inert]):not([aria-hidden])', 'embed:not([tabindex^=\"-\"]):not([inert]):not([aria-hidden])', '[contenteditable]:not([tabindex^=\"-\"]):not([inert]):not([aria-hidden])', '[tabindex]:not([tabindex^=\"-\"]):not([inert]):not([aria-hidden])'];","/**\n * @returns {HTMLElement} - either dashboard element, or the overlay that's most on top\n */\nexport default function getActiveOverlayEl(dashboardEl, activeOverlayType) {\n  if (activeOverlayType) {\n    const overlayEl = dashboardEl.querySelector(`[data-uppy-paneltype=\"${activeOverlayType}\"]`); // if an overlay is already mounted\n\n    if (overlayEl) return overlayEl;\n  }\n\n  return dashboardEl;\n}","import toArray from '@uppy/utils/lib/toArray';\nimport FOCUSABLE_ELEMENTS from '@uppy/utils/lib/FOCUSABLE_ELEMENTS';\nimport getActiveOverlayEl from './getActiveOverlayEl.js';\n\nfunction focusOnFirstNode(event, nodes) {\n  const node = nodes[0];\n\n  if (node) {\n    node.focus();\n    event.preventDefault();\n  }\n}\n\nfunction focusOnLastNode(event, nodes) {\n  const node = nodes[nodes.length - 1];\n\n  if (node) {\n    node.focus();\n    event.preventDefault();\n  }\n} // ___Why not just use (focusedItemIndex === -1)?\n//    Firefox thinks <ul> is focusable, but we don't have <ul>s in our FOCUSABLE_ELEMENTS. Which means that if we tab into\n//    the <ul>, code will think that we are not in the active overlay, and we should focusOnFirstNode() of the currently\n//    active overlay!\n//    [Practical check] if we use (focusedItemIndex === -1), instagram provider in firefox will never get focus on its pics\n//    in the <ul>.\n\n\nfunction isFocusInOverlay(activeOverlayEl) {\n  return activeOverlayEl.contains(document.activeElement);\n}\n\nfunction trapFocus(event, activeOverlayType, dashboardEl) {\n  const activeOverlayEl = getActiveOverlayEl(dashboardEl, activeOverlayType);\n  const focusableNodes = toArray(activeOverlayEl.querySelectorAll(FOCUSABLE_ELEMENTS));\n  const focusedItemIndex = focusableNodes.indexOf(document.activeElement); // If we pressed tab, and focus is not yet within the current overlay - focus on\n  // the first element within the current overlay.\n  // This is a safety measure (for when user returns from another tab e.g.), most\n  // plugins will try to focus on some important element as it loads.\n\n  if (!isFocusInOverlay(activeOverlayEl)) {\n    focusOnFirstNode(event, focusableNodes); // If we pressed shift + tab, and we're on the first element of a modal\n  } else if (event.shiftKey && focusedItemIndex === 0) {\n    focusOnLastNode(event, focusableNodes); // If we pressed tab, and we're on the last element of the modal\n  } else if (!event.shiftKey && focusedItemIndex === focusableNodes.length - 1) {\n    focusOnFirstNode(event, focusableNodes);\n  }\n} // Traps focus inside of the currently open overlay (e.g. Dashboard, or e.g. Instagram),\n// never lets focus disappear from the modal.\n\n\nexport { trapFocus as forModal }; // Traps focus inside of the currently open overlay, unless overlay is null - then let the user tab away.\n\nexport function forInline(event, activeOverlayType, dashboardEl) {\n  // ___When we're in the bare 'Drop files here, paste, browse or import from' screen\n  if (activeOverlayType === null) {// Do nothing and let the browser handle it, user can tab away from Uppy to other elements on the page\n    // ___When there is some overlay with 'Done' button\n  } else {\n    // Trap the focus inside this overlay!\n    // User can close the overlay (click 'Done') if they want to travel away from Uppy.\n    trapFocus(event, activeOverlayType, dashboardEl);\n  }\n}","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n","import debounce from 'lodash.debounce';\nimport FOCUSABLE_ELEMENTS from '@uppy/utils/lib/FOCUSABLE_ELEMENTS';\nimport getActiveOverlayEl from './getActiveOverlayEl.js';\n/*\n  Focuses on some element in the currently topmost overlay.\n\n  1. If there are some [data-uppy-super-focusable] elements rendered already - focuses\n     on the first superfocusable element, and leaves focus up to the control of\n     a user (until currently focused element disappears from the screen [which\n     can happen when overlay changes, or, e.g., when we click on a folder in googledrive]).\n  2. If there are no [data-uppy-super-focusable] elements yet (or ever) - focuses\n     on the first focusable element, but switches focus if superfocusable elements appear on next render.\n*/\n\nexport default function createSuperFocus() {\n  let lastFocusWasOnSuperFocusableEl = false;\n\n  const superFocus = (dashboardEl, activeOverlayType) => {\n    const overlayEl = getActiveOverlayEl(dashboardEl, activeOverlayType);\n    const isFocusInOverlay = overlayEl.contains(document.activeElement); // If focus is already in the topmost overlay, AND on last update we focused on the superfocusable\n    // element - then leave focus up to the user.\n    // [Practical check] without this line, typing in the search input in googledrive overlay won't work.\n\n    if (isFocusInOverlay && lastFocusWasOnSuperFocusableEl) return;\n    const superFocusableEl = overlayEl.querySelector('[data-uppy-super-focusable]'); // If we are already in the topmost overlay, AND there are no super focusable elements yet, - leave focus up to the user.\n    // [Practical check] without this line, if you are in an empty folder in google drive, and something's uploading in the\n    // bg, - focus will be jumping to Done all the time.\n\n    if (isFocusInOverlay && !superFocusableEl) return;\n\n    if (superFocusableEl) {\n      superFocusableEl.focus({\n        preventScroll: true\n      });\n      lastFocusWasOnSuperFocusableEl = true;\n    } else {\n      const firstEl = overlayEl.querySelector(FOCUSABLE_ELEMENTS);\n      firstEl == null ? void 0 : firstEl.focus({\n        preventScroll: true\n      });\n      lastFocusWasOnSuperFocusableEl = false;\n    }\n  }; // ___Why do we need to debounce?\n  //    1. To deal with animations: overlay changes via animations, which results in the DOM updating AFTER plugin.update()\n  //       already executed.\n  //    [Practical check] without debounce, if we open the Url overlay, and click 'Done', Dashboard won't get focused again.\n  //    [Practical check] if we delay 250ms instead of 260ms - IE11 won't get focused in same situation.\n  //    2. Performance: there can be many state update()s in a second, and this function is called every time.\n\n\n  return debounce(superFocus, 260);\n}","/**\n * Checks if the browser supports Drag & Drop (not supported on mobile devices, for example).\n *\n * @returns {boolean}\n */\nexport default function isDragDropSupported() {\n  const div = document.body;\n\n  if (!('draggable' in div) || !('ondragstart' in div && 'ondrop' in div)) {\n    return false;\n  }\n\n  if (!('FormData' in window)) {\n    return false;\n  }\n\n  if (!('FileReader' in window)) {\n    return false;\n  }\n\n  return true;\n}","import { h } from 'preact';\n\nfunction iconImage() {\n  return h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    width: \"25\",\n    height: \"25\",\n    viewBox: \"0 0 25 25\"\n  }, h(\"g\", {\n    fill: \"#686DE0\",\n    fillRule: \"evenodd\"\n  }, h(\"path\", {\n    d: \"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z\",\n    fillRule: \"nonzero\"\n  }), h(\"path\", {\n    d: \"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z\",\n    fillRule: \"nonzero\"\n  }), h(\"circle\", {\n    cx: \"7.5\",\n    cy: \"9.5\",\n    r: \"1.5\"\n  })));\n}\n\nfunction iconAudio() {\n  return h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"25\",\n    height: \"25\",\n    viewBox: \"0 0 25 25\"\n  }, h(\"path\", {\n    d: \"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z\",\n    fill: \"#049BCF\",\n    fillRule: \"nonzero\"\n  }));\n}\n\nfunction iconVideo() {\n  return h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"25\",\n    height: \"25\",\n    viewBox: \"0 0 25 25\"\n  }, h(\"path\", {\n    d: \"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z\",\n    fill: \"#19AF67\",\n    fillRule: \"nonzero\"\n  }));\n}\n\nfunction iconPDF() {\n  return h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"25\",\n    height: \"25\",\n    viewBox: \"0 0 25 25\"\n  }, h(\"path\", {\n    d: \"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z\",\n    fill: \"#E2514A\",\n    fillRule: \"nonzero\"\n  }));\n}\n\nfunction iconArchive() {\n  return h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    width: \"25\",\n    height: \"25\",\n    viewBox: \"0 0 25 25\"\n  }, h(\"path\", {\n    d: \"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z\",\n    fill: \"#00C469\",\n    fillRule: \"nonzero\"\n  }));\n}\n\nfunction iconFile() {\n  return h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"25\",\n    height: \"25\",\n    viewBox: \"0 0 25 25\"\n  }, h(\"g\", {\n    fill: \"#A7AFB7\",\n    fillRule: \"nonzero\"\n  }, h(\"path\", {\n    d: \"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z\"\n  }), h(\"path\", {\n    d: \"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z\"\n  })));\n}\n\nfunction iconText() {\n  return h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"25\",\n    height: \"25\",\n    viewBox: \"0 0 25 25\"\n  }, h(\"path\", {\n    d: \"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z\",\n    fill: \"#5A5E69\",\n    fillRule: \"nonzero\"\n  }));\n}\n\nexport default function getIconByMime(fileType) {\n  const defaultChoice = {\n    color: '#838999',\n    icon: iconFile()\n  };\n  if (!fileType) return defaultChoice;\n  const fileTypeGeneral = fileType.split('/')[0];\n  const fileTypeSpecific = fileType.split('/')[1]; // Text\n\n  if (fileTypeGeneral === 'text') {\n    return {\n      color: '#5a5e69',\n      icon: iconText()\n    };\n  } // Image\n\n\n  if (fileTypeGeneral === 'image') {\n    return {\n      color: '#686de0',\n      icon: iconImage()\n    };\n  } // Audio\n\n\n  if (fileTypeGeneral === 'audio') {\n    return {\n      color: '#068dbb',\n      icon: iconAudio()\n    };\n  } // Video\n\n\n  if (fileTypeGeneral === 'video') {\n    return {\n      color: '#19af67',\n      icon: iconVideo()\n    };\n  } // PDF\n\n\n  if (fileTypeGeneral === 'application' && fileTypeSpecific === 'pdf') {\n    return {\n      color: '#e25149',\n      icon: iconPDF()\n    };\n  } // Archive\n\n\n  const archiveTypes = ['zip', 'x-7z-compressed', 'x-rar-compressed', 'x-tar', 'x-gzip', 'x-apple-diskimage'];\n\n  if (fileTypeGeneral === 'application' && archiveTypes.indexOf(fileTypeSpecific) !== -1) {\n    return {\n      color: '#00C469',\n      icon: iconArchive()\n    };\n  }\n\n  return defaultChoice;\n}","import { h } from 'preact';\nimport getFileTypeIcon from \"../utils/getFileTypeIcon.js\";\nexport default function FilePreview(props) {\n  const {\n    file\n  } = props;\n\n  if (file.preview) {\n    return h(\"img\", {\n      className: \"uppy-Dashboard-Item-previewImg\",\n      alt: file.name,\n      src: file.preview\n    });\n  }\n\n  const {\n    color,\n    icon\n  } = getFileTypeIcon(file.type);\n  return h(\"div\", {\n    className: \"uppy-Dashboard-Item-previewIconWrap\"\n  }, h(\"span\", {\n    className: \"uppy-Dashboard-Item-previewIcon\",\n    style: {\n      color\n    }\n  }, icon), h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-Dashboard-Item-previewIconBg\",\n    width: \"58\",\n    height: \"76\",\n    viewBox: \"0 0 58 76\"\n  }, h(\"rect\", {\n    fill: \"#FFF\",\n    width: \"58\",\n    height: \"76\",\n    rx: \"3\",\n    fillRule: \"evenodd\"\n  })));\n}","module.exports = function isShallowEqual (a, b) {\n  if (a === b) return true\n  for (var i in a) if (!(i in b)) return false\n  for (var i in b) if (a[i] !== b[i]) return false\n  return true\n}\n","import { h } from 'preact';\n\nconst metaFieldIdToName = (metaFieldId, metaFields) => {\n  const field = metaFields.filter(f => f.id === metaFieldId);\n  return field[0].name;\n};\n\nexport default function renderMissingMetaFieldsError(props) {\n  const {\n    file,\n    toggleFileCard,\n    i18n,\n    metaFields\n  } = props;\n  const {\n    missingRequiredMetaFields\n  } = file;\n\n  if (!(missingRequiredMetaFields != null && missingRequiredMetaFields.length)) {\n    return null;\n  }\n\n  const metaFieldsString = missingRequiredMetaFields.map(missingMetaField => metaFieldIdToName(missingMetaField, metaFields)).join(', ');\n  return h(\"div\", {\n    className: \"uppy-Dashboard-Item-errorMessage\"\n  }, i18n('missingRequiredMetaFields', {\n    smart_count: missingRequiredMetaFields.length,\n    fields: metaFieldsString\n  }), ' ', h(\"button\", {\n    type: \"button\",\n    class: \"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn\",\n    onClick: () => toggleFileCard(true, file.id)\n  }, i18n('editFile')));\n}","import { h } from 'preact';\nimport FilePreview from \"../../FilePreview.js\";\nimport MetaErrorMessage from \"../MetaErrorMessage.js\";\nimport getFileTypeIcon from \"../../../utils/getFileTypeIcon.js\";\nexport default function FilePreviewAndLink(props) {\n  return h(\"div\", {\n    className: \"uppy-Dashboard-Item-previewInnerWrap\",\n    style: {\n      backgroundColor: getFileTypeIcon(props.file.type).color\n    }\n  }, props.showLinkToFileUploadResult && props.file.uploadURL && h(\"a\", {\n    className: \"uppy-Dashboard-Item-previewLink\",\n    href: props.file.uploadURL,\n    rel: \"noreferrer noopener\",\n    target: \"_blank\",\n    \"aria-label\": props.file.meta.name\n  }, h(\"span\", {\n    hidden: true\n  }, props.file.meta.name)), h(FilePreview, {\n    file: props.file\n  }), h(MetaErrorMessage, {\n    file: props.file,\n    i18n: props.i18n,\n    toggleFileCard: props.toggleFileCard,\n    metaFields: props.metaFields\n  }));\n}","import { h } from 'preact';\n\nfunction onPauseResumeCancelRetry(props) {\n  if (props.isUploaded) return;\n\n  if (props.error && !props.hideRetryButton) {\n    props.uppy.retryUpload(props.file.id);\n    return;\n  }\n\n  if (props.resumableUploads && !props.hidePauseResumeButton) {\n    props.uppy.pauseResume(props.file.id);\n  } else if (props.individualCancellation && !props.hideCancelButton) {\n    props.uppy.removeFile(props.file.id);\n  }\n}\n\nfunction progressIndicatorTitle(props) {\n  if (props.isUploaded) {\n    return props.i18n('uploadComplete');\n  }\n\n  if (props.error) {\n    return props.i18n('retryUpload');\n  }\n\n  if (props.resumableUploads) {\n    if (props.file.isPaused) {\n      return props.i18n('resumeUpload');\n    }\n\n    return props.i18n('pauseUpload');\n  }\n\n  if (props.individualCancellation) {\n    return props.i18n('cancelUpload');\n  }\n\n  return '';\n}\n\nfunction ProgressIndicatorButton(props) {\n  return h(\"div\", {\n    className: \"uppy-Dashboard-Item-progress\"\n  }, h(\"button\", {\n    className: \"uppy-u-reset uppy-Dashboard-Item-progressIndicator\",\n    type: \"button\",\n    \"aria-label\": progressIndicatorTitle(props),\n    title: progressIndicatorTitle(props),\n    onClick: () => onPauseResumeCancelRetry(props)\n  }, props.children));\n}\n\nfunction ProgressCircleContainer(_ref) {\n  let {\n    children\n  } = _ref;\n  return h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    width: \"70\",\n    height: \"70\",\n    viewBox: \"0 0 36 36\",\n    className: \"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle\"\n  }, children);\n}\n\nfunction ProgressCircle(_ref2) {\n  let {\n    progress\n  } = _ref2;\n  // circle length equals 2 * PI * R\n  const circleLength = 2 * Math.PI * 15;\n  return h(\"g\", null, h(\"circle\", {\n    className: \"uppy-Dashboard-Item-progressIcon--bg\",\n    r: \"15\",\n    cx: \"18\",\n    cy: \"18\",\n    \"stroke-width\": \"2\",\n    fill: \"none\"\n  }), h(\"circle\", {\n    className: \"uppy-Dashboard-Item-progressIcon--progress\",\n    r: \"15\",\n    cx: \"18\",\n    cy: \"18\",\n    transform: \"rotate(-90, 18, 18)\",\n    fill: \"none\",\n    \"stroke-width\": \"2\",\n    \"stroke-dasharray\": circleLength,\n    \"stroke-dashoffset\": circleLength - circleLength / 100 * progress\n  }));\n}\n\nexport default function FileProgress(props) {\n  // Nothing if upload has not started\n  if (!props.file.progress.uploadStarted) {\n    return null;\n  } // Green checkmark when complete\n\n\n  if (props.isUploaded) {\n    return h(\"div\", {\n      className: \"uppy-Dashboard-Item-progress\"\n    }, h(\"div\", {\n      className: \"uppy-Dashboard-Item-progressIndicator\"\n    }, h(ProgressCircleContainer, null, h(\"circle\", {\n      r: \"15\",\n      cx: \"18\",\n      cy: \"18\",\n      fill: \"#1bb240\"\n    }), h(\"polygon\", {\n      className: \"uppy-Dashboard-Item-progressIcon--check\",\n      transform: \"translate(2, 3)\",\n      points: \"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634\"\n    }))));\n  }\n\n  if (props.recoveredState) {\n    return undefined;\n  } // Retry button for error\n\n\n  if (props.error && !props.hideRetryButton) {\n    return (// eslint-disable-next-line react/jsx-props-no-spreading\n      h(ProgressIndicatorButton, props, h(\"svg\", {\n        \"aria-hidden\": \"true\",\n        focusable: \"false\",\n        className: \"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry\",\n        width: \"28\",\n        height: \"31\",\n        viewBox: \"0 0 16 19\"\n      }, h(\"path\", {\n        d: \"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z\"\n      }), h(\"path\", {\n        d: \"M7.9 3H10v2H7.9z\"\n      }), h(\"path\", {\n        d: \"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z\"\n      }), h(\"path\", {\n        d: \"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z\"\n      })))\n    );\n  } // Pause/resume button for resumable uploads\n\n\n  if (props.resumableUploads && !props.hidePauseResumeButton) {\n    return (// eslint-disable-next-line react/jsx-props-no-spreading\n      h(ProgressIndicatorButton, props, h(ProgressCircleContainer, null, h(ProgressCircle, {\n        progress: props.file.progress.percentage\n      }), props.file.isPaused ? h(\"polygon\", {\n        className: \"uppy-Dashboard-Item-progressIcon--play\",\n        transform: \"translate(3, 3)\",\n        points: \"12 20 12 10 20 15\"\n      }) : h(\"g\", {\n        className: \"uppy-Dashboard-Item-progressIcon--pause\",\n        transform: \"translate(14.5, 13)\"\n      }, h(\"rect\", {\n        x: \"0\",\n        y: \"0\",\n        width: \"2\",\n        height: \"10\",\n        rx: \"0\"\n      }), h(\"rect\", {\n        x: \"5\",\n        y: \"0\",\n        width: \"2\",\n        height: \"10\",\n        rx: \"0\"\n      }))))\n    );\n  } // Cancel button for non-resumable uploads if individualCancellation is supported (not bundled)\n\n\n  if (!props.resumableUploads && props.individualCancellation && !props.hideCancelButton) {\n    return (// eslint-disable-next-line react/jsx-props-no-spreading\n      h(ProgressIndicatorButton, props, h(ProgressCircleContainer, null, h(ProgressCircle, {\n        progress: props.file.progress.percentage\n      }), h(\"polygon\", {\n        className: \"cancel\",\n        transform: \"translate(2, 2)\",\n        points: \"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12\"\n      })))\n    );\n  } // Just progress when buttons are disabled\n\n\n  return h(\"div\", {\n    className: \"uppy-Dashboard-Item-progress\"\n  }, h(\"div\", {\n    className: \"uppy-Dashboard-Item-progressIndicator\"\n  }, h(ProgressCircleContainer, null, h(ProgressCircle, {\n    progress: props.file.progress.percentage\n  }))));\n}","// Adapted from https://github.com/Flet/prettier-bytes/\n// Changing 1000 bytes to 1024, so we can keep uppercase KB vs kB\n// ISC License (c) Dan Flettre https://github.com/Flet/prettier-bytes/blob/master/LICENSE\nmodule.exports = function prettierBytes (num) {\n  if (typeof num !== 'number' || isNaN(num)) {\n    throw new TypeError('Expected a number, got ' + typeof num)\n  }\n\n  var neg = num < 0\n  var units = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\n\n  if (neg) {\n    num = -num\n  }\n\n  if (num < 1) {\n    return (neg ? '-' : '') + num + ' B'\n  }\n\n  var exponent = Math.min(Math.floor(Math.log(num) / Math.log(1024)), units.length - 1)\n  num = Number(num / Math.pow(1024, exponent))\n  var unit = units[exponent]\n\n  if (num >= 10 || num % 1 === 0) {\n    // Do not show decimals when the number is two-digit, or if the number has no\n    // decimal component.\n    return (neg ? '-' : '') + num.toFixed(0) + ' ' + unit\n  } else {\n    return (neg ? '-' : '') + num.toFixed(1) + ' ' + unit\n  }\n}\n","/**\n * Truncates a string to the given number of chars (maxLength) by inserting '...' in the middle of that string.\n * Partially taken from https://stackoverflow.com/a/5723274/3192470.\n *\n * @param {string} string - string to be truncated\n * @param {number} maxLength - maximum size of the resulting string\n * @returns {string}\n */\nconst separator = '...';\nexport default function truncateString(string, maxLength) {\n  // Return the empty string if maxLength is zero\n  if (maxLength === 0) return ''; // Return original string if it's already shorter than maxLength\n\n  if (string.length <= maxLength) return string; // Return truncated substring appended of the ellipsis char if string can't be meaningfully truncated\n\n  if (maxLength <= separator.length + 1) return `${string.slice(0, maxLength - 1)}`;\n  const charsToShow = maxLength - separator.length;\n  const frontChars = Math.ceil(charsToShow / 2);\n  const backChars = Math.floor(charsToShow / 2);\n  return string.slice(0, frontChars) + separator + string.slice(-backChars);\n}","import { h, Fragment } from 'preact';\nimport prettierBytes from '@transloadit/prettier-bytes';\nimport truncateString from '@uppy/utils/lib/truncateString';\nimport MetaErrorMessage from \"../MetaErrorMessage.js\";\n\nconst renderFileName = props => {\n  const {\n    author,\n    name\n  } = props.file.meta;\n\n  function getMaxNameLength() {\n    if (props.containerWidth <= 352) {\n      return 35;\n    }\n\n    if (props.containerWidth <= 576) {\n      return 60;\n    } // When `author` is present, we want to make sure\n    // the file name fits on one line so we can place\n    // the author on the second line.\n\n\n    return author ? 20 : 30;\n  }\n\n  return h(\"div\", {\n    className: \"uppy-Dashboard-Item-name\",\n    title: name\n  }, truncateString(name, getMaxNameLength()));\n};\n\nconst renderAuthor = props => {\n  const {\n    author\n  } = props.file.meta;\n  const {\n    providerName\n  } = props.file.remote;\n  const dot = `\\u00B7`;\n\n  if (!author) {\n    return null;\n  }\n\n  return h(\"div\", {\n    className: \"uppy-Dashboard-Item-author\"\n  }, h(\"a\", {\n    href: `${author.url}?utm_source=Companion&utm_medium=referral`,\n    target: \"_blank\",\n    rel: \"noopener noreferrer\"\n  }, truncateString(author.name, 13)), providerName ? h(Fragment, null, ` ${dot} `, providerName, ` ${dot} `) : null);\n};\n\nconst renderFileSize = props => props.file.size && h(\"div\", {\n  className: \"uppy-Dashboard-Item-statusSize\"\n}, prettierBytes(props.file.size));\n\nconst ReSelectButton = props => props.file.isGhost && h(\"span\", null, ' \\u2022 ', h(\"button\", {\n  className: \"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect\",\n  type: \"button\",\n  onClick: props.toggleAddFilesPanel\n}, props.i18n('reSelect')));\n\nconst ErrorButton = _ref => {\n  let {\n    file,\n    onClick\n  } = _ref;\n\n  if (file.error) {\n    return h(\"button\", {\n      className: \"uppy-u-reset uppy-Dashboard-Item-errorDetails\",\n      \"aria-label\": file.error,\n      \"data-microtip-position\": \"bottom\",\n      \"data-microtip-size\": \"medium\",\n      onClick: onClick,\n      type: \"button\"\n    }, \"?\");\n  }\n\n  return null;\n};\n\nexport default function FileInfo(props) {\n  const {\n    file\n  } = props;\n  return h(\"div\", {\n    className: \"uppy-Dashboard-Item-fileInfo\",\n    \"data-uppy-file-source\": file.source\n  }, h(\"div\", {\n    className: \"uppy-Dashboard-Item-fileName\"\n  }, renderFileName(props), h(ErrorButton, {\n    file: props.file // eslint-disable-next-line no-alert\n    ,\n    onClick: () => alert(props.file.error) // TODO: move to a custom alert implementation\n\n  })), h(\"div\", {\n    className: \"uppy-Dashboard-Item-status\"\n  }, renderAuthor(props), renderFileSize(props), ReSelectButton(props)), h(MetaErrorMessage, {\n    file: props.file,\n    i18n: props.i18n,\n    toggleFileCard: props.toggleFileCard,\n    metaFields: props.metaFields\n  }));\n}","import { h } from 'preact';\nimport copyToClipboard from '../../../utils/copyToClipboard.js';\n\nfunction EditButton(_ref) {\n  let {\n    file,\n    uploadInProgressOrComplete,\n    metaFields,\n    canEditFile,\n    i18n,\n    onClick\n  } = _ref;\n\n  if (!uploadInProgressOrComplete && metaFields && metaFields.length > 0 || !uploadInProgressOrComplete && canEditFile(file)) {\n    return h(\"button\", {\n      className: \"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit\",\n      type: \"button\",\n      \"aria-label\": i18n('editFileWithFilename', {\n        file: file.meta.name\n      }),\n      title: i18n('editFileWithFilename', {\n        file: file.meta.name\n      }),\n      onClick: () => onClick()\n    }, h(\"svg\", {\n      \"aria-hidden\": \"true\",\n      focusable: \"false\",\n      className: \"uppy-c-icon\",\n      width: \"14\",\n      height: \"14\",\n      viewBox: \"0 0 14 14\"\n    }, h(\"g\", {\n      fillRule: \"evenodd\"\n    }, h(\"path\", {\n      d: \"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z\",\n      fillRule: \"nonzero\"\n    }), h(\"rect\", {\n      x: \"1\",\n      y: \"12.293\",\n      width: \"11\",\n      height: \"1\",\n      rx: \".5\"\n    }), h(\"path\", {\n      fillRule: \"nonzero\",\n      d: \"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z\"\n    }))));\n  }\n\n  return null;\n}\n\nfunction RemoveButton(_ref2) {\n  let {\n    i18n,\n    onClick,\n    file\n  } = _ref2;\n  return h(\"button\", {\n    className: \"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove\",\n    type: \"button\",\n    \"aria-label\": i18n('removeFile', {\n      file: file.meta.name\n    }),\n    title: i18n('removeFile', {\n      file: file.meta.name\n    }),\n    onClick: () => onClick()\n  }, h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"18\",\n    height: \"18\",\n    viewBox: \"0 0 18 18\"\n  }, h(\"path\", {\n    d: \"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z\"\n  }), h(\"path\", {\n    fill: \"#FFF\",\n    d: \"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z\"\n  })));\n}\n\nconst copyLinkToClipboard = (event, props) => {\n  copyToClipboard(props.file.uploadURL, props.i18n('copyLinkToClipboardFallback')).then(() => {\n    props.uppy.log('Link copied to clipboard.');\n    props.uppy.info(props.i18n('copyLinkToClipboardSuccess'), 'info', 3000);\n  }).catch(props.uppy.log) // avoid losing focus\n  .then(() => event.target.focus({\n    preventScroll: true\n  }));\n};\n\nfunction CopyLinkButton(props) {\n  const {\n    i18n\n  } = props;\n  return h(\"button\", {\n    className: \"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink\",\n    type: \"button\",\n    \"aria-label\": i18n('copyLink'),\n    title: i18n('copyLink'),\n    onClick: event => copyLinkToClipboard(event, props)\n  }, h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"14\",\n    height: \"14\",\n    viewBox: \"0 0 14 12\"\n  }, h(\"path\", {\n    d: \"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z\"\n  })));\n}\n\nexport default function Buttons(props) {\n  const {\n    uppy,\n    file,\n    uploadInProgressOrComplete,\n    canEditFile,\n    metaFields,\n    showLinkToFileUploadResult,\n    showRemoveButton,\n    i18n,\n    toggleFileCard,\n    openFileEditor\n  } = props;\n\n  const editAction = () => {\n    if (metaFields && metaFields.length > 0) {\n      toggleFileCard(true, file.id);\n    } else {\n      openFileEditor(file);\n    }\n  };\n\n  return h(\"div\", {\n    className: \"uppy-Dashboard-Item-actionWrapper\"\n  }, h(EditButton, {\n    i18n: i18n,\n    file: file,\n    uploadInProgressOrComplete: uploadInProgressOrComplete,\n    canEditFile: canEditFile,\n    metaFields: metaFields,\n    onClick: editAction\n  }), showLinkToFileUploadResult && file.uploadURL ? h(CopyLinkButton, {\n    file: file,\n    uppy: uppy,\n    i18n: i18n\n  }) : null, showRemoveButton ? h(RemoveButton, {\n    i18n: i18n,\n    file: file,\n    uppy: uppy,\n    onClick: () => props.uppy.removeFile(file.id, 'removed-by-user')\n  }) : null);\n}","/**\n * Copies text to clipboard by creating an almost invisible textarea,\n * adding text there, then running execCommand('copy').\n * Falls back to prompt() when the easy way fails (hello, Safari!)\n * From http://stackoverflow.com/a/30810322\n *\n * @param {string} textToCopy\n * @param {string} fallbackString\n * @returns {Promise}\n */\nexport default function copyToClipboard(textToCopy, fallbackString) {\n  if (fallbackString === void 0) {\n    fallbackString = 'Copy the URL below';\n  }\n\n  return new Promise(resolve => {\n    const textArea = document.createElement('textarea');\n    textArea.setAttribute('style', {\n      position: 'fixed',\n      top: 0,\n      left: 0,\n      width: '2em',\n      height: '2em',\n      padding: 0,\n      border: 'none',\n      outline: 'none',\n      boxShadow: 'none',\n      background: 'transparent'\n    });\n    textArea.value = textToCopy;\n    document.body.appendChild(textArea);\n    textArea.select();\n\n    const magicCopyFailed = () => {\n      document.body.removeChild(textArea); // eslint-disable-next-line no-alert\n\n      window.prompt(fallbackString, textToCopy);\n      resolve();\n    };\n\n    try {\n      const successful = document.execCommand('copy');\n\n      if (!successful) {\n        return magicCopyFailed('copy command unavailable');\n      }\n\n      document.body.removeChild(textArea);\n      return resolve();\n    } catch (err) {\n      document.body.removeChild(textArea);\n      return magicCopyFailed(err);\n    }\n  });\n}","import { h, Component } from 'preact';\nimport classNames from 'classnames';\nimport shallowEqual from 'is-shallow-equal';\nimport FilePreviewAndLink from \"./FilePreviewAndLink/index.js\";\nimport FileProgress from \"./FileProgress/index.js\";\nimport FileInfo from \"./FileInfo/index.js\";\nimport Buttons from \"./Buttons/index.js\";\nexport default class FileItem extends Component {\n  componentDidMount() {\n    const {\n      file\n    } = this.props;\n\n    if (!file.preview) {\n      this.props.handleRequestThumbnail(file);\n    }\n  }\n\n  shouldComponentUpdate(nextProps) {\n    return !shallowEqual(this.props, nextProps);\n  } // VirtualList mounts FileItems again and they emit `thumbnail:request`\n  // Otherwise thumbnails are broken or missing after Golden Retriever restores files\n\n\n  componentDidUpdate() {\n    const {\n      file\n    } = this.props;\n\n    if (!file.preview) {\n      this.props.handleRequestThumbnail(file);\n    }\n  }\n\n  componentWillUnmount() {\n    const {\n      file\n    } = this.props;\n\n    if (!file.preview) {\n      this.props.handleCancelThumbnail(file);\n    }\n  }\n\n  render() {\n    const {\n      file\n    } = this.props;\n    const isProcessing = file.progress.preprocess || file.progress.postprocess;\n    const isUploaded = file.progress.uploadComplete && !isProcessing && !file.error;\n    const uploadInProgressOrComplete = file.progress.uploadStarted || isProcessing;\n    const uploadInProgress = file.progress.uploadStarted && !file.progress.uploadComplete || isProcessing;\n    const error = file.error || false; // File that Golden Retriever was able to partly restore (only meta, not blob),\n    // users still need to re-add it, so its a ghost\n\n    const {\n      isGhost\n    } = file;\n    let showRemoveButton = this.props.individualCancellation ? !isUploaded : !uploadInProgress && !isUploaded;\n\n    if (isUploaded && this.props.showRemoveButtonAfterComplete) {\n      showRemoveButton = true;\n    }\n\n    const dashboardItemClass = classNames({\n      'uppy-Dashboard-Item': true,\n      'is-inprogress': uploadInProgress && !this.props.recoveredState,\n      'is-processing': isProcessing,\n      'is-complete': isUploaded,\n      'is-error': !!error,\n      'is-resumable': this.props.resumableUploads,\n      'is-noIndividualCancellation': !this.props.individualCancellation,\n      'is-ghost': isGhost\n    });\n    return h(\"div\", {\n      className: dashboardItemClass,\n      id: `uppy_${file.id}`,\n      role: this.props.role\n    }, h(\"div\", {\n      className: \"uppy-Dashboard-Item-preview\"\n    }, h(FilePreviewAndLink, {\n      file: file,\n      showLinkToFileUploadResult: this.props.showLinkToFileUploadResult,\n      i18n: this.props.i18n,\n      toggleFileCard: this.props.toggleFileCard,\n      metaFields: this.props.metaFields\n    }), h(FileProgress, {\n      uppy: this.props.uppy,\n      file: file,\n      error: error,\n      isUploaded: isUploaded,\n      hideRetryButton: this.props.hideRetryButton,\n      hideCancelButton: this.props.hideCancelButton,\n      hidePauseResumeButton: this.props.hidePauseResumeButton,\n      recoveredState: this.props.recoveredState,\n      showRemoveButtonAfterComplete: this.props.showRemoveButtonAfterComplete,\n      resumableUploads: this.props.resumableUploads,\n      individualCancellation: this.props.individualCancellation,\n      i18n: this.props.i18n\n    })), h(\"div\", {\n      className: \"uppy-Dashboard-Item-fileInfoAndButtons\"\n    }, h(FileInfo, {\n      file: file,\n      id: this.props.id,\n      acquirers: this.props.acquirers,\n      containerWidth: this.props.containerWidth,\n      i18n: this.props.i18n,\n      toggleAddFilesPanel: this.props.toggleAddFilesPanel,\n      toggleFileCard: this.props.toggleFileCard,\n      metaFields: this.props.metaFields\n    }), h(Buttons, {\n      file: file,\n      metaFields: this.props.metaFields,\n      showLinkToFileUploadResult: this.props.showLinkToFileUploadResult,\n      showRemoveButton: showRemoveButton,\n      canEditFile: this.props.canEditFile,\n      uploadInProgressOrComplete: uploadInProgressOrComplete,\n      toggleFileCard: this.props.toggleFileCard,\n      openFileEditor: this.props.openFileEditor,\n      uppy: this.props.uppy,\n      i18n: this.props.i18n\n    })));\n  }\n\n}","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n/**\n * Adapted from preact-virtual-list: https://github.com/developit/preact-virtual-list\n *\n *  2016 Jason Miller\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n * Adaptations:\n * - Added role=presentation to helper elements\n * - Tweaked styles for Uppy's Dashboard use case\n */\nimport { h, Component } from 'preact';\nconst STYLE_INNER = {\n  position: 'relative',\n  // Disabled for our use case: the wrapper elements around FileList already deal with overflow,\n  // and this additional property would hide things that we want to show.\n  //\n  // overflow: 'hidden',\n  width: '100%',\n  minHeight: '100%'\n};\nconst STYLE_CONTENT = {\n  position: 'absolute',\n  top: 0,\n  left: 0,\n  // Because the `top` value gets set to some offset, this `height` being 100% would make the scrollbar\n  // stretch far beyond the content. For our use case, the content div actually can get its height from\n  // the elements inside it, so we don't need to specify a `height` property at all.\n  //\n  // height: '100%',\n  width: '100%',\n  overflow: 'visible'\n};\n\nclass VirtualList extends Component {\n  constructor(props) {\n    super(props); // The currently focused node, used to retain focus when the visible rows change.\n    // To avoid update loops, this should not cause state updates, so it's kept as a plain property.\n\n    this.handleScroll = () => {\n      this.setState({\n        offset: this.base.scrollTop\n      });\n    };\n\n    this.handleResize = () => {\n      this.resize();\n    };\n\n    this.focusElement = null;\n    this.state = {\n      offset: 0,\n      height: 0\n    };\n  }\n\n  componentDidMount() {\n    this.resize();\n    window.addEventListener('resize', this.handleResize);\n  } // TODO: refactor to stable lifecycle method\n  // eslint-disable-next-line\n\n\n  componentWillUpdate() {\n    if (this.base.contains(document.activeElement)) {\n      this.focusElement = document.activeElement;\n    }\n  }\n\n  componentDidUpdate() {\n    // Maintain focus when rows are added and removed.\n    if (this.focusElement && this.focusElement.parentNode && document.activeElement !== this.focusElement) {\n      this.focusElement.focus();\n    }\n\n    this.focusElement = null;\n    this.resize();\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.handleResize);\n  }\n\n  resize() {\n    const {\n      height\n    } = this.state;\n\n    if (height !== this.base.offsetHeight) {\n      this.setState({\n        height: this.base.offsetHeight\n      });\n    }\n  }\n\n  render(_ref) {\n    let {\n      data,\n      rowHeight,\n      renderRow,\n      overscanCount = 10,\n      ...props\n    } = _ref;\n    const {\n      offset,\n      height\n    } = this.state; // first visible row index\n\n    let start = Math.floor(offset / rowHeight); // actual number of visible rows (without overscan)\n\n    let visibleRowCount = Math.floor(height / rowHeight); // Overscan: render blocks of rows modulo an overscan row count\n    // This dramatically reduces DOM writes during scrolling\n\n    if (overscanCount) {\n      start = Math.max(0, start - start % overscanCount);\n      visibleRowCount += overscanCount;\n    } // last visible + overscan row index + padding to allow keyboard focus to travel past the visible area\n\n\n    const end = start + visibleRowCount + 4; // data slice currently in viewport plus overscan items\n\n    const selection = data.slice(start, end);\n    const styleInner = { ...STYLE_INNER,\n      height: data.length * rowHeight\n    };\n    const styleContent = { ...STYLE_CONTENT,\n      top: start * rowHeight\n    }; // The `role=\"presentation\"` attributes ensure that these wrapper elements are not treated as list\n    // items by accessibility and outline tools.\n\n    return (// eslint-disable-next-line react/jsx-props-no-spreading\n      h(\"div\", _extends({\n        onScroll: this.handleScroll\n      }, props), h(\"div\", {\n        role: \"presentation\",\n        style: styleInner\n      }, h(\"div\", {\n        role: \"presentation\",\n        style: styleContent\n      }, selection.map(renderRow))))\n    );\n  }\n\n}\n\nexport default VirtualList;","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport classNames from 'classnames';\nimport { h } from 'preact';\nimport FileItem from \"./FileItem/index.js\";\nimport VirtualList from \"./VirtualList.js\";\n\nfunction chunks(list, size) {\n  const chunked = [];\n  let currentChunk = [];\n  list.forEach(item => {\n    if (currentChunk.length < size) {\n      currentChunk.push(item);\n    } else {\n      chunked.push(currentChunk);\n      currentChunk = [item];\n    }\n  });\n  if (currentChunk.length) chunked.push(currentChunk);\n  return chunked;\n}\n\nexport default (props => {\n  const noFiles = props.totalFileCount === 0;\n  const dashboardFilesClass = classNames('uppy-Dashboard-files', {\n    'uppy-Dashboard-files--noFiles': noFiles\n  }); // It's not great that this is hardcoded!\n  // It's ESPECIALLY not great that this is checking against `itemsPerRow`!\n\n  const rowHeight = props.itemsPerRow === 1 // Mobile\n  ? 71 // 190px height + 2 * 5px margin\n  : 200;\n  const fileProps = {\n    // FIXME This is confusing, it's actually the Dashboard's plugin ID\n    id: props.id,\n    error: props.error,\n    // TODO move this to context\n    i18n: props.i18n,\n    uppy: props.uppy,\n    // features\n    acquirers: props.acquirers,\n    resumableUploads: props.resumableUploads,\n    individualCancellation: props.individualCancellation,\n    // visual options\n    hideRetryButton: props.hideRetryButton,\n    hidePauseResumeButton: props.hidePauseResumeButton,\n    hideCancelButton: props.hideCancelButton,\n    showLinkToFileUploadResult: props.showLinkToFileUploadResult,\n    showRemoveButtonAfterComplete: props.showRemoveButtonAfterComplete,\n    isWide: props.isWide,\n    metaFields: props.metaFields,\n    recoveredState: props.recoveredState,\n    // callbacks\n    toggleFileCard: props.toggleFileCard,\n    handleRequestThumbnail: props.handleRequestThumbnail,\n    handleCancelThumbnail: props.handleCancelThumbnail\n  };\n\n  const sortByGhostComesFirst = (file1, file2) => {\n    return props.files[file2].isGhost - props.files[file1].isGhost;\n  }; // Sort files by file.isGhost, ghost files first, only if recoveredState is present\n\n\n  const files = Object.keys(props.files);\n  if (props.recoveredState) files.sort(sortByGhostComesFirst);\n  const rows = chunks(files, props.itemsPerRow);\n\n  const renderRow = row => // The `role=\"presentation` attribute ensures that the list items are properly\n  // associated with the `VirtualList` element.\n  // We use the first file ID as the keythis should not change across scroll rerenders\n  h(\"div\", {\n    role: \"presentation\",\n    key: row[0]\n  }, row.map(fileID => h(FileItem, _extends({\n    key: fileID,\n    uppy: props.uppy\n  }, fileProps, {\n    // eslint-disable-line react/jsx-props-no-spreading\n    role: \"listitem\",\n    openFileEditor: props.openFileEditor,\n    canEditFile: props.canEditFile,\n    toggleAddFilesPanel: props.toggleAddFilesPanel,\n    file: props.files[fileID]\n  }))));\n\n  return h(VirtualList, {\n    class: dashboardFilesClass,\n    role: \"list\",\n    data: rows,\n    renderRow: renderRow,\n    rowHeight: rowHeight\n  });\n});","let _Symbol$for;\n\nimport { h, Component, Fragment } from 'preact';\n_Symbol$for = Symbol.for('uppy test: disable unused locale key warning');\n\nclass AddFiles extends Component {\n  constructor() {\n    super(...arguments);\n\n    this.triggerFileInputClick = () => {\n      this.fileInput.click();\n    };\n\n    this.triggerFolderInputClick = () => {\n      this.folderInput.click();\n    };\n\n    this.triggerVideoCameraInputClick = () => {\n      this.mobileVideoFileInput.click();\n    };\n\n    this.triggerPhotoCameraInputClick = () => {\n      this.mobilePhotoFileInput.click();\n    };\n\n    this.onFileInputChange = event => {\n      this.props.handleInputChange(event); // We clear the input after a file is selected, because otherwise\n      // change event is not fired in Chrome and Safari when a file\n      // with the same name is selected.\n      // ___Why not use value=\"\" on <input/> instead?\n      //    Because if we use that method of clearing the input,\n      //    Chrome will not trigger change if we drop the same file twice (Issue #768).\n\n      event.target.value = null; // eslint-disable-line no-param-reassign\n    };\n\n    this.renderHiddenInput = (isFolder, refCallback) => {\n      return h(\"input\", {\n        className: \"uppy-Dashboard-input\",\n        hidden: true,\n        \"aria-hidden\": \"true\",\n        tabIndex: -1,\n        webkitdirectory: isFolder,\n        type: \"file\",\n        name: \"files[]\",\n        multiple: this.props.maxNumberOfFiles !== 1,\n        onChange: this.onFileInputChange,\n        accept: this.props.allowedFileTypes,\n        ref: refCallback\n      });\n    };\n\n    this.renderHiddenCameraInput = (type, nativeCameraFacingMode, refCallback) => {\n      const typeToAccept = {\n        photo: 'image/*',\n        video: 'video/*'\n      };\n      const accept = typeToAccept[type];\n      return h(\"input\", {\n        className: \"uppy-Dashboard-input\",\n        hidden: true,\n        \"aria-hidden\": \"true\",\n        tabIndex: -1,\n        type: \"file\",\n        name: `camera-${type}`,\n        onChange: this.onFileInputChange,\n        capture: nativeCameraFacingMode,\n        accept: accept,\n        ref: refCallback\n      });\n    };\n\n    this.renderMyDeviceAcquirer = () => {\n      return h(\"div\", {\n        className: \"uppy-DashboardTab\",\n        role: \"presentation\",\n        \"data-uppy-acquirer-id\": \"MyDevice\"\n      }, h(\"button\", {\n        type: \"button\",\n        className: \"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn\",\n        role: \"tab\",\n        tabIndex: 0,\n        \"data-uppy-super-focusable\": true,\n        onClick: this.triggerFileInputClick\n      }, h(\"svg\", {\n        \"aria-hidden\": \"true\",\n        focusable: \"false\",\n        width: \"32\",\n        height: \"32\",\n        viewBox: \"0 0 32 32\"\n      }, h(\"g\", {\n        fill: \"none\",\n        fillRule: \"evenodd\"\n      }, h(\"rect\", {\n        className: \"uppy-ProviderIconBg\",\n        width: \"32\",\n        height: \"32\",\n        rx: \"16\",\n        fill: \"#2275D7\"\n      }), h(\"path\", {\n        d: \"M21.973 21.152H9.863l-1.108-5.087h14.464l-1.246 5.087zM9.935 11.37h3.958l.886 1.444a.673.673 0 0 0 .585.316h6.506v1.37H9.935v-3.13zm14.898 3.44a.793.793 0 0 0-.616-.31h-.978v-2.126c0-.379-.275-.613-.653-.613H15.75l-.886-1.445a.673.673 0 0 0-.585-.316H9.232c-.378 0-.667.209-.667.587V14.5h-.782a.793.793 0 0 0-.61.303.795.795 0 0 0-.155.663l1.45 6.633c.078.36.396.618.764.618h13.354c.36 0 .674-.246.76-.595l1.631-6.636a.795.795 0 0 0-.144-.675z\",\n        fill: \"#FFF\"\n      }))), h(\"div\", {\n        className: \"uppy-DashboardTab-name\"\n      }, this.props.i18n('myDevice'))));\n    };\n\n    this.renderPhotoCamera = () => {\n      return h(\"div\", {\n        className: \"uppy-DashboardTab\",\n        role: \"presentation\",\n        \"data-uppy-acquirer-id\": \"MobilePhotoCamera\"\n      }, h(\"button\", {\n        type: \"button\",\n        className: \"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn\",\n        role: \"tab\",\n        tabIndex: 0,\n        \"data-uppy-super-focusable\": true,\n        onClick: this.triggerPhotoCameraInputClick\n      }, h(\"svg\", {\n        \"aria-hidden\": \"true\",\n        focusable: \"false\",\n        width: \"32\",\n        height: \"32\",\n        viewBox: \"0 0 32 32\"\n      }, h(\"g\", {\n        fill: \"none\",\n        fillRule: \"evenodd\"\n      }, h(\"rect\", {\n        className: \"uppy-ProviderIconBg\",\n        fill: \"#03BFEF\",\n        width: \"32\",\n        height: \"32\",\n        rx: \"16\"\n      }), h(\"path\", {\n        d: \"M22 11c1.133 0 2 .867 2 2v7.333c0 1.134-.867 2-2 2H10c-1.133 0-2-.866-2-2V13c0-1.133.867-2 2-2h2.333l1.134-1.733C13.6 9.133 13.8 9 14 9h4c.2 0 .4.133.533.267L19.667 11H22zm-6 1.533a3.764 3.764 0 0 0-3.8 3.8c0 2.129 1.672 3.801 3.8 3.801s3.8-1.672 3.8-3.8c0-2.13-1.672-3.801-3.8-3.801zm0 6.261c-1.395 0-2.46-1.066-2.46-2.46 0-1.395 1.065-2.461 2.46-2.461s2.46 1.066 2.46 2.46c0 1.395-1.065 2.461-2.46 2.461z\",\n        fill: \"#FFF\",\n        fillRule: \"nonzero\"\n      }))), h(\"div\", {\n        className: \"uppy-DashboardTab-name\"\n      }, this.props.i18n('takePictureBtn'))));\n    };\n\n    this.renderVideoCamera = () => {\n      return h(\"div\", {\n        className: \"uppy-DashboardTab\",\n        role: \"presentation\",\n        \"data-uppy-acquirer-id\": \"MobileVideoCamera\"\n      }, h(\"button\", {\n        type: \"button\",\n        className: \"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn\",\n        role: \"tab\",\n        tabIndex: 0,\n        \"data-uppy-super-focusable\": true,\n        onClick: this.triggerVideoCameraInputClick\n      }, h(\"svg\", {\n        \"aria-hidden\": \"true\",\n        width: \"32\",\n        height: \"32\",\n        viewBox: \"0 0 32 32\"\n      }, h(\"rect\", {\n        fill: \"#1abc9c\",\n        width: \"32\",\n        height: \"32\",\n        rx: \"16\"\n      }), h(\"path\", {\n        fill: \"#FFF\",\n        fillRule: \"nonzero\",\n        d: \"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z \"\n      })), h(\"div\", {\n        className: \"uppy-DashboardTab-name\"\n      }, this.props.i18n('recordVideoBtn'))));\n    };\n\n    this.renderBrowseButton = (text, onClickFn) => {\n      const numberOfAcquirers = this.props.acquirers.length;\n      return h(\"button\", {\n        type: \"button\",\n        className: \"uppy-u-reset uppy-c-btn uppy-Dashboard-browse\",\n        onClick: onClickFn,\n        \"data-uppy-super-focusable\": numberOfAcquirers === 0\n      }, text);\n    };\n\n    this.renderDropPasteBrowseTagline = () => {\n      const numberOfAcquirers = this.props.acquirers.length;\n      const browseFiles = this.renderBrowseButton(this.props.i18n('browseFiles'), this.triggerFileInputClick);\n      const browseFolders = this.renderBrowseButton(this.props.i18n('browseFolders'), this.triggerFolderInputClick); // in order to keep the i18n CamelCase and options lower (as are defaults) we will want to transform a lower\n      // to Camel\n\n      const lowerFMSelectionType = this.props.fileManagerSelectionType;\n      const camelFMSelectionType = lowerFMSelectionType.charAt(0).toUpperCase() + lowerFMSelectionType.slice(1);\n      return h(\"div\", {\n        class: \"uppy-Dashboard-AddFiles-title\"\n      }, // eslint-disable-next-line no-nested-ternary\n      this.props.disableLocalFiles ? this.props.i18n('importFiles') : numberOfAcquirers > 0 ? this.props.i18nArray(`dropPasteImport${camelFMSelectionType}`, {\n        browseFiles,\n        browseFolders,\n        browse: browseFiles\n      }) : this.props.i18nArray(`dropPaste${camelFMSelectionType}`, {\n        browseFiles,\n        browseFolders,\n        browse: browseFiles\n      }));\n    };\n\n    this.renderAcquirer = acquirer => {\n      return h(\"div\", {\n        className: \"uppy-DashboardTab\",\n        role: \"presentation\",\n        \"data-uppy-acquirer-id\": acquirer.id\n      }, h(\"button\", {\n        type: \"button\",\n        className: \"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn\",\n        role: \"tab\",\n        tabIndex: 0,\n        \"data-cy\": acquirer.id,\n        \"aria-controls\": `uppy-DashboardContent-panel--${acquirer.id}`,\n        \"aria-selected\": this.props.activePickerPanel.id === acquirer.id,\n        \"data-uppy-super-focusable\": true,\n        onClick: () => this.props.showPanel(acquirer.id)\n      }, acquirer.icon(), h(\"div\", {\n        className: \"uppy-DashboardTab-name\"\n      }, acquirer.name)));\n    };\n\n    this.renderAcquirers = acquirers => {\n      // Group last two buttons, so we dont end up with\n      // just one button on a new line\n      const acquirersWithoutLastTwo = [...acquirers];\n      const lastTwoAcquirers = acquirersWithoutLastTwo.splice(acquirers.length - 2, acquirers.length);\n      return h(Fragment, null, acquirersWithoutLastTwo.map(acquirer => this.renderAcquirer(acquirer)), h(\"span\", {\n        role: \"presentation\",\n        style: {\n          'white-space': 'nowrap'\n        }\n      }, lastTwoAcquirers.map(acquirer => this.renderAcquirer(acquirer))));\n    };\n\n    this.renderSourcesList = (acquirers, disableLocalFiles) => {\n      const {\n        showNativePhotoCameraButton,\n        showNativeVideoCameraButton\n      } = this.props;\n      return h(\"div\", {\n        className: \"uppy-Dashboard-AddFiles-list\",\n        role: \"tablist\"\n      }, !disableLocalFiles && this.renderMyDeviceAcquirer(), !disableLocalFiles && showNativePhotoCameraButton && this.renderPhotoCamera(), !disableLocalFiles && showNativeVideoCameraButton && this.renderVideoCamera(), acquirers.length > 0 && this.renderAcquirers(acquirers));\n    };\n  }\n\n  [_Symbol$for]() {\n    // Those are actually used in `renderDropPasteBrowseTagline` method.\n    this.props.i18nArray('dropPasteBoth');\n    this.props.i18nArray('dropPasteFiles');\n    this.props.i18nArray('dropPasteFolders');\n    this.props.i18nArray('dropPasteImportBoth');\n    this.props.i18nArray('dropPasteImportFiles');\n    this.props.i18nArray('dropPasteImportFolders');\n  }\n\n  renderPoweredByUppy() {\n    const {\n      i18nArray\n    } = this.props;\n    const uppyBranding = h(\"span\", null, h(\"svg\", {\n      \"aria-hidden\": \"true\",\n      focusable: \"false\",\n      className: \"uppy-c-icon uppy-Dashboard-poweredByIcon\",\n      width: \"11\",\n      height: \"11\",\n      viewBox: \"0 0 11 11\"\n    }, h(\"path\", {\n      d: \"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z\",\n      fillRule: \"evenodd\"\n    })), h(\"span\", {\n      className: \"uppy-Dashboard-poweredByUppy\"\n    }, \"Uppy\"));\n    const linkText = i18nArray('poweredBy', {\n      uppy: uppyBranding\n    });\n    return h(\"a\", {\n      tabIndex: \"-1\",\n      href: \"https://uppy.io\",\n      rel: \"noreferrer noopener\",\n      target: \"_blank\",\n      className: \"uppy-Dashboard-poweredBy\"\n    }, linkText);\n  }\n\n  render() {\n    const {\n      showNativePhotoCameraButton,\n      showNativeVideoCameraButton,\n      nativeCameraFacingMode\n    } = this.props;\n    return h(\"div\", {\n      className: \"uppy-Dashboard-AddFiles\"\n    }, this.renderHiddenInput(false, ref => {\n      this.fileInput = ref;\n    }), this.renderHiddenInput(true, ref => {\n      this.folderInput = ref;\n    }), showNativePhotoCameraButton && this.renderHiddenCameraInput('photo', nativeCameraFacingMode, ref => {\n      this.mobilePhotoFileInput = ref;\n    }), showNativeVideoCameraButton && this.renderHiddenCameraInput('video', nativeCameraFacingMode, ref => {\n      this.mobileVideoFileInput = ref;\n    }), this.renderDropPasteBrowseTagline(), this.renderSourcesList(this.props.acquirers, this.props.disableLocalFiles), h(\"div\", {\n      className: \"uppy-Dashboard-AddFiles-info\"\n    }, this.props.note && h(\"div\", {\n      className: \"uppy-Dashboard-note\"\n    }, this.props.note), this.props.proudlyDisplayPoweredByUppy && this.renderPoweredByUppy(this.props)));\n  }\n\n}\n\nexport default AddFiles;","import { h } from 'preact';\nimport classNames from 'classnames';\nimport AddFiles from \"./AddFiles.js\";\n\nconst AddFilesPanel = props => {\n  return h(\"div\", {\n    className: classNames('uppy-Dashboard-AddFilesPanel', props.className),\n    \"data-uppy-panelType\": \"AddFiles\",\n    \"aria-hidden\": props.showAddFilesPanel\n  }, h(\"div\", {\n    className: \"uppy-DashboardContent-bar\"\n  }, h(\"div\", {\n    className: \"uppy-DashboardContent-title\",\n    role: \"heading\",\n    \"aria-level\": \"1\"\n  }, props.i18n('addingMoreFiles')), h(\"button\", {\n    className: \"uppy-DashboardContent-back\",\n    type: \"button\",\n    onClick: () => props.toggleAddFilesPanel(false)\n  }, props.i18n('back'))), h(AddFiles, props));\n};\n\nexport default AddFilesPanel;","// ignore drop/paste events if they are not in input or textarea \n// otherwise when Url plugin adds drop/paste listeners to this.el,\n// draging UI elements or pasting anything into any field triggers those events \n// Url treats them as URLs that need to be imported\nfunction ignoreEvent(ev) {\n  const {\n    tagName\n  } = ev.target;\n\n  if (tagName === 'INPUT' || tagName === 'TEXTAREA') {\n    ev.stopPropagation();\n    return;\n  }\n\n  ev.preventDefault();\n  ev.stopPropagation();\n}\n\nexport default ignoreEvent;","import { h } from 'preact';\nimport classNames from 'classnames';\nimport ignoreEvent from '../utils/ignoreEvent.js';\n\nfunction PickerPanelContent(_ref) {\n  let {\n    activePickerPanel,\n    className,\n    hideAllPanels,\n    i18n,\n    state,\n    uppy\n  } = _ref;\n  return h(\"div\", {\n    className: classNames('uppy-DashboardContent-panel', className),\n    role: \"tabpanel\",\n    \"data-uppy-panelType\": \"PickerPanel\",\n    id: `uppy-DashboardContent-panel--${activePickerPanel.id}`,\n    onDragOver: ignoreEvent,\n    onDragLeave: ignoreEvent,\n    onDrop: ignoreEvent,\n    onPaste: ignoreEvent\n  }, h(\"div\", {\n    className: \"uppy-DashboardContent-bar\"\n  }, h(\"div\", {\n    className: \"uppy-DashboardContent-title\",\n    role: \"heading\",\n    \"aria-level\": \"1\"\n  }, i18n('importFrom', {\n    name: activePickerPanel.name\n  })), h(\"button\", {\n    className: \"uppy-DashboardContent-back\",\n    type: \"button\",\n    onClick: hideAllPanels\n  }, i18n('cancel'))), h(\"div\", {\n    className: \"uppy-DashboardContent-panelBody\"\n  }, uppy.getPlugin(activePickerPanel.id).render(state)));\n}\n\nexport default PickerPanelContent;","import { h } from 'preact';\nimport classNames from 'classnames';\n\nfunction EditorPanel(props) {\n  const file = props.files[props.fileCardFor];\n  return h(\"div\", {\n    className: classNames('uppy-DashboardContent-panel', props.className),\n    role: \"tabpanel\",\n    \"data-uppy-panelType\": \"FileEditor\",\n    id: \"uppy-DashboardContent-panel--editor\"\n  }, h(\"div\", {\n    className: \"uppy-DashboardContent-bar\"\n  }, h(\"div\", {\n    className: \"uppy-DashboardContent-title\",\n    role: \"heading\",\n    \"aria-level\": \"1\"\n  }, props.i18nArray('editing', {\n    file: h(\"span\", {\n      className: \"uppy-DashboardContent-titleFile\"\n    }, file.meta ? file.meta.name : file.name)\n  })), h(\"button\", {\n    className: \"uppy-DashboardContent-back\",\n    type: \"button\",\n    onClick: props.hideAllPanels\n  }, props.i18n('cancel')), h(\"button\", {\n    className: \"uppy-DashboardContent-save\",\n    type: \"button\",\n    onClick: props.saveFileEditor\n  }, props.i18n('save'))), h(\"div\", {\n    className: \"uppy-DashboardContent-panelBody\"\n  }, props.editors.map(target => {\n    return props.uppy.getPlugin(target.id).render(props.state);\n  })));\n}\n\nexport default EditorPanel;","import { h } from 'preact';\nconst uploadStates = {\n  STATE_ERROR: 'error',\n  STATE_WAITING: 'waiting',\n  STATE_PREPROCESSING: 'preprocessing',\n  STATE_UPLOADING: 'uploading',\n  STATE_POSTPROCESSING: 'postprocessing',\n  STATE_COMPLETE: 'complete',\n  STATE_PAUSED: 'paused'\n};\n\nfunction getUploadingState(isAllErrored, isAllComplete, isAllPaused, files) {\n  if (files === void 0) {\n    files = {};\n  }\n\n  if (isAllErrored) {\n    return uploadStates.STATE_ERROR;\n  }\n\n  if (isAllComplete) {\n    return uploadStates.STATE_COMPLETE;\n  }\n\n  if (isAllPaused) {\n    return uploadStates.STATE_PAUSED;\n  }\n\n  let state = uploadStates.STATE_WAITING;\n  const fileIDs = Object.keys(files);\n\n  for (let i = 0; i < fileIDs.length; i++) {\n    const {\n      progress\n    } = files[fileIDs[i]]; // If ANY files are being uploaded right now, show the uploading state.\n\n    if (progress.uploadStarted && !progress.uploadComplete) {\n      return uploadStates.STATE_UPLOADING;\n    } // If files are being preprocessed AND postprocessed at this time, we show the\n    // preprocess state. If any files are being uploaded we show uploading.\n\n\n    if (progress.preprocess && state !== uploadStates.STATE_UPLOADING) {\n      state = uploadStates.STATE_PREPROCESSING;\n    } // If NO files are being preprocessed or uploaded right now, but some files are\n    // being postprocessed, show the postprocess state.\n\n\n    if (progress.postprocess && state !== uploadStates.STATE_UPLOADING && state !== uploadStates.STATE_PREPROCESSING) {\n      state = uploadStates.STATE_POSTPROCESSING;\n    }\n  }\n\n  return state;\n}\n\nfunction UploadStatus(_ref) {\n  let {\n    files,\n    i18n,\n    isAllComplete,\n    isAllErrored,\n    isAllPaused,\n    inProgressNotPausedFiles,\n    newFiles,\n    processingFiles\n  } = _ref;\n  const uploadingState = getUploadingState(isAllErrored, isAllComplete, isAllPaused, files);\n\n  switch (uploadingState) {\n    case 'uploading':\n      return i18n('uploadingXFiles', {\n        smart_count: inProgressNotPausedFiles.length\n      });\n\n    case 'preprocessing':\n    case 'postprocessing':\n      return i18n('processingXFiles', {\n        smart_count: processingFiles.length\n      });\n\n    case 'paused':\n      return i18n('uploadPaused');\n\n    case 'waiting':\n      return i18n('xFilesSelected', {\n        smart_count: newFiles.length\n      });\n\n    case 'complete':\n      return i18n('uploadComplete');\n\n    default:\n  }\n}\n\nfunction PanelTopBar(props) {\n  const {\n    i18n,\n    isAllComplete,\n    hideCancelButton,\n    maxNumberOfFiles,\n    toggleAddFilesPanel,\n    uppy\n  } = props;\n  let {\n    allowNewUpload\n  } = props; // TODO maybe this should be done in ../Dashboard.jsx, then just pass that down as `allowNewUpload`\n\n  if (allowNewUpload && maxNumberOfFiles) {\n    // eslint-disable-next-line react/destructuring-assignment\n    allowNewUpload = props.totalFileCount < props.maxNumberOfFiles;\n  }\n\n  return h(\"div\", {\n    className: \"uppy-DashboardContent-bar\"\n  }, !isAllComplete && !hideCancelButton ? h(\"button\", {\n    className: \"uppy-DashboardContent-back\",\n    type: \"button\",\n    onClick: () => uppy.cancelAll()\n  }, i18n('cancel')) : h(\"div\", null), h(\"div\", {\n    className: \"uppy-DashboardContent-title\",\n    role: \"heading\",\n    \"aria-level\": \"1\"\n  }, h(UploadStatus, props)), allowNewUpload ? h(\"button\", {\n    className: \"uppy-DashboardContent-addMore\",\n    type: \"button\",\n    \"aria-label\": i18n('addMoreFiles'),\n    title: i18n('addMoreFiles'),\n    onClick: () => toggleAddFilesPanel(true)\n  }, h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"15\",\n    height: \"15\",\n    viewBox: \"0 0 15 15\"\n  }, h(\"path\", {\n    d: \"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z\"\n  })), h(\"span\", {\n    className: \"uppy-DashboardContent-addMoreCaption\"\n  }, i18n('addMore'))) : h(\"div\", null));\n}\n\nexport default PanelTopBar;","import { h, Component } from 'preact';\nimport classNames from 'classnames';\nimport { nanoid } from 'nanoid/non-secure';\nimport getFileTypeIcon from \"../../utils/getFileTypeIcon.js\";\nimport ignoreEvent from '../../utils/ignoreEvent.js';\nimport FilePreview from \"../FilePreview.js\";\n\nclass FileCard extends Component {\n  constructor(props) {\n    super(props);\n    this.form = document.createElement('form');\n\n    this.updateMeta = (newVal, name) => {\n      this.setState(_ref => {\n        let {\n          formState\n        } = _ref;\n        return {\n          formState: { ...formState,\n            [name]: newVal\n          }\n        };\n      });\n    };\n\n    this.handleSave = e => {\n      e.preventDefault();\n      const fileID = this.props.fileCardFor;\n      this.props.saveFileCard(this.state.formState, fileID);\n    };\n\n    this.handleCancel = () => {\n      const file = this.props.files[this.props.fileCardFor];\n      this.props.uppy.emit('file-editor:cancel', file);\n      this.props.toggleFileCard(false);\n    };\n\n    this.saveOnEnter = ev => {\n      if (ev.keyCode === 13) {\n        ev.stopPropagation();\n        ev.preventDefault();\n        const file = this.props.files[this.props.fileCardFor];\n        this.props.saveFileCard(this.state.formState, file.id);\n      }\n    };\n\n    this.renderMetaFields = () => {\n      const metaFields = this.getMetaFields() || [];\n      const fieldCSSClasses = {\n        text: 'uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input'\n      };\n      return metaFields.map(field => {\n        const id = `uppy-Dashboard-FileCard-input-${field.id}`;\n        const required = this.props.requiredMetaFields.includes(field.id);\n        return h(\"fieldset\", {\n          key: field.id,\n          className: \"uppy-Dashboard-FileCard-fieldset\"\n        }, h(\"label\", {\n          className: \"uppy-Dashboard-FileCard-label\",\n          htmlFor: id\n        }, field.name), field.render !== undefined ? field.render({\n          value: this.state.formState[field.id],\n          onChange: newVal => this.updateMeta(newVal, field.id),\n          fieldCSSClasses,\n          required,\n          form: this.form.id\n        }, h) : h(\"input\", {\n          className: fieldCSSClasses.text,\n          id: id,\n          form: this.form.id,\n          type: field.type || 'text',\n          required: required,\n          value: this.state.formState[field.id],\n          placeholder: field.placeholder // If `form` attribute is not supported, we need to capture pressing Enter to avoid bubbling in case Uppy is\n          // embedded inside a <form>.\n          ,\n          onKeyUp: 'form' in HTMLInputElement.prototype ? undefined : this.saveOnEnter,\n          onKeyDown: 'form' in HTMLInputElement.prototype ? undefined : this.saveOnEnter,\n          onKeyPress: 'form' in HTMLInputElement.prototype ? undefined : this.saveOnEnter,\n          onInput: ev => this.updateMeta(ev.target.value, field.id),\n          \"data-uppy-super-focusable\": true\n        }));\n      });\n    };\n\n    const _file = this.props.files[this.props.fileCardFor];\n\n    const _metaFields = this.getMetaFields() || [];\n\n    const storedMetaData = {};\n\n    _metaFields.forEach(field => {\n      storedMetaData[field.id] = _file.meta[field.id] || '';\n    });\n\n    this.state = {\n      formState: storedMetaData\n    };\n    this.form.id = nanoid();\n  } // TODO(aduh95): move this to `UNSAFE_componentWillMount` when updating to Preact X+.\n\n\n  componentWillMount() {\n    // eslint-disable-line react/no-deprecated\n    this.form.addEventListener('submit', this.handleSave);\n    document.body.appendChild(this.form);\n  }\n\n  componentWillUnmount() {\n    this.form.removeEventListener('submit', this.handleSave);\n    document.body.removeChild(this.form);\n  }\n\n  getMetaFields() {\n    return typeof this.props.metaFields === 'function' ? this.props.metaFields(this.props.files[this.props.fileCardFor]) : this.props.metaFields;\n  }\n\n  render() {\n    const file = this.props.files[this.props.fileCardFor];\n    const showEditButton = this.props.canEditFile(file);\n    return h(\"div\", {\n      className: classNames('uppy-Dashboard-FileCard', this.props.className),\n      \"data-uppy-panelType\": \"FileCard\",\n      onDragOver: ignoreEvent,\n      onDragLeave: ignoreEvent,\n      onDrop: ignoreEvent,\n      onPaste: ignoreEvent\n    }, h(\"div\", {\n      className: \"uppy-DashboardContent-bar\"\n    }, h(\"div\", {\n      className: \"uppy-DashboardContent-title\",\n      role: \"heading\",\n      \"aria-level\": \"1\"\n    }, this.props.i18nArray('editing', {\n      file: h(\"span\", {\n        className: \"uppy-DashboardContent-titleFile\"\n      }, file.meta ? file.meta.name : file.name)\n    })), h(\"button\", {\n      className: \"uppy-DashboardContent-back\",\n      type: \"button\",\n      form: this.form.id,\n      title: this.props.i18n('finishEditingFile'),\n      onClick: this.handleCancel\n    }, this.props.i18n('cancel'))), h(\"div\", {\n      className: \"uppy-Dashboard-FileCard-inner\"\n    }, h(\"div\", {\n      className: \"uppy-Dashboard-FileCard-preview\",\n      style: {\n        backgroundColor: getFileTypeIcon(file.type).color\n      }\n    }, h(FilePreview, {\n      file: file\n    }), showEditButton && h(\"button\", {\n      type: \"button\",\n      className: \"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit\",\n      onClick: event => {\n        // When opening the image editor we want to save any meta fields changes.\n        // Otherwise it's confusing for the user to click save in the editor,\n        // but the changes here are discarded. This bypasses validation,\n        // but we are okay with that.\n        this.handleSave(event);\n        this.props.openFileEditor(file);\n      },\n      form: this.form.id\n    }, this.props.i18n('editFile'))), h(\"div\", {\n      className: \"uppy-Dashboard-FileCard-info\"\n    }, this.renderMetaFields()), h(\"div\", {\n      className: \"uppy-Dashboard-FileCard-actions\"\n    }, h(\"button\", {\n      className: \"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn\" // If `form` attribute is supported, we want a submit button to trigger the form validation.\n      // Otherwise, fallback to a classic button with a onClick event handler.\n      ,\n      type: 'form' in HTMLButtonElement.prototype ? 'submit' : 'button',\n      onClick: 'form' in HTMLButtonElement.prototype ? undefined : this.handleSave,\n      form: this.form.id\n    }, this.props.i18n('saveChanges')), h(\"button\", {\n      className: \"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn\",\n      type: \"button\",\n      onClick: this.handleCancel,\n      form: this.form.id\n    }, this.props.i18n('cancel')))));\n  }\n\n}\n\nexport default FileCard;","import { cloneElement, Component, toChildArray } from 'preact';\nimport classNames from 'classnames';\nconst transitionName = 'uppy-transition-slideDownUp';\nconst duration = 250;\n/**\n * Vertical slide transition.\n *\n * This can take a _single_ child component, which _must_ accept a `className` prop.\n *\n * Currently this is specific to the `uppy-transition-slideDownUp` transition,\n * but it should be simple to extend this for any type of single-element\n * transition by setting the CSS name and duration as props.\n */\n\nclass Slide extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      cachedChildren: null,\n      className: ''\n    };\n  } // TODO: refactor to stable lifecycle method\n  // eslint-disable-next-line\n\n\n  componentWillUpdate(nextProps) {\n    const {\n      cachedChildren\n    } = this.state;\n    const child = toChildArray(nextProps.children)[0];\n    if (cachedChildren === child) return null;\n    const patch = {\n      cachedChildren: child\n    }; // Enter transition\n\n    if (child && !cachedChildren) {\n      patch.className = `${transitionName}-enter`;\n      cancelAnimationFrame(this.animationFrame);\n      clearTimeout(this.leaveTimeout);\n      this.leaveTimeout = undefined;\n      this.animationFrame = requestAnimationFrame(() => {\n        // Force it to render before we add the active class\n        // this.base.getBoundingClientRect()\n        this.setState({\n          className: `${transitionName}-enter ${transitionName}-enter-active`\n        });\n        this.enterTimeout = setTimeout(() => {\n          this.setState({\n            className: ''\n          });\n        }, duration);\n      });\n    } // Leave transition\n\n\n    if (cachedChildren && !child && this.leaveTimeout === undefined) {\n      patch.cachedChildren = cachedChildren;\n      patch.className = `${transitionName}-leave`;\n      cancelAnimationFrame(this.animationFrame);\n      clearTimeout(this.enterTimeout);\n      this.enterTimeout = undefined;\n      this.animationFrame = requestAnimationFrame(() => {\n        this.setState({\n          className: `${transitionName}-leave ${transitionName}-leave-active`\n        });\n        this.leaveTimeout = setTimeout(() => {\n          this.setState({\n            cachedChildren: null,\n            className: ''\n          });\n        }, duration);\n      });\n    } // eslint-disable-next-line\n\n\n    this.setState(patch);\n  }\n\n  render() {\n    const {\n      cachedChildren,\n      className\n    } = this.state;\n\n    if (!cachedChildren) {\n      return null;\n    }\n\n    return cloneElement(cachedChildren, {\n      className: classNames(className, cachedChildren.props.className)\n    });\n  }\n\n}\n\nexport default Slide;","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { h } from 'preact';\nimport classNames from 'classnames';\nimport isDragDropSupported from '@uppy/utils/lib/isDragDropSupported';\nimport FileList from \"./FileList.js\";\nimport AddFiles from \"./AddFiles.js\";\nimport AddFilesPanel from \"./AddFilesPanel.js\";\nimport PickerPanelContent from \"./PickerPanelContent.js\";\nimport EditorPanel from \"./EditorPanel.js\";\nimport PanelTopBar from \"./PickerPanelTopBar.js\";\nimport FileCard from \"./FileCard/index.js\";\nimport Slide from \"./Slide.js\"; // http://dev.edenspiekermann.com/2016/02/11/introducing-accessible-modal-dialog\n// https://github.com/ghosh/micromodal\n\nconst WIDTH_XL = 900;\nconst WIDTH_LG = 700;\nconst WIDTH_MD = 576;\nconst HEIGHT_MD = 400;\nexport default function Dashboard(props) {\n  const noFiles = props.totalFileCount === 0;\n  const isSizeMD = props.containerWidth > WIDTH_MD;\n  const dashboardClassName = classNames({\n    'uppy-Dashboard': true,\n    'uppy-Dashboard--isDisabled': props.disabled,\n    'uppy-Dashboard--animateOpenClose': props.animateOpenClose,\n    'uppy-Dashboard--isClosing': props.isClosing,\n    'uppy-Dashboard--isDraggingOver': props.isDraggingOver,\n    'uppy-Dashboard--modal': !props.inline,\n    'uppy-size--md': props.containerWidth > WIDTH_MD,\n    'uppy-size--lg': props.containerWidth > WIDTH_LG,\n    'uppy-size--xl': props.containerWidth > WIDTH_XL,\n    'uppy-size--height-md': props.containerHeight > HEIGHT_MD,\n    'uppy-Dashboard--isAddFilesPanelVisible': props.showAddFilesPanel,\n    'uppy-Dashboard--isInnerWrapVisible': props.areInsidesReadyToBeVisible\n  }); // Important: keep these in sync with the percent width values in `src/components/FileItem/index.scss`.\n\n  let itemsPerRow = 1; // mobile\n\n  if (props.containerWidth > WIDTH_XL) {\n    itemsPerRow = 5;\n  } else if (props.containerWidth > WIDTH_LG) {\n    itemsPerRow = 4;\n  } else if (props.containerWidth > WIDTH_MD) {\n    itemsPerRow = 3;\n  }\n\n  const showFileList = props.showSelectedFiles && !noFiles;\n  const numberOfFilesForRecovery = props.recoveredState ? Object.keys(props.recoveredState.files).length : null;\n  const numberOfGhosts = props.files ? Object.keys(props.files).filter(fileID => props.files[fileID].isGhost).length : null;\n\n  const renderRestoredText = () => {\n    if (numberOfGhosts > 0) {\n      return props.i18n('recoveredXFiles', {\n        smart_count: numberOfGhosts\n      });\n    }\n\n    return props.i18n('recoveredAllFiles');\n  };\n\n  const dashboard = h(\"div\", {\n    className: dashboardClassName,\n    \"data-uppy-theme\": props.theme,\n    \"data-uppy-num-acquirers\": props.acquirers.length,\n    \"data-uppy-drag-drop-supported\": !props.disableLocalFiles && isDragDropSupported(),\n    \"aria-hidden\": props.inline ? 'false' : props.isHidden,\n    \"aria-disabled\": props.disabled,\n    \"aria-label\": !props.inline ? props.i18n('dashboardWindowTitle') : props.i18n('dashboardTitle'),\n    onPaste: props.handlePaste,\n    onDragOver: props.handleDragOver,\n    onDragLeave: props.handleDragLeave,\n    onDrop: props.handleDrop\n  }, h(\"div\", {\n    \"aria-hidden\": \"true\",\n    className: \"uppy-Dashboard-overlay\",\n    tabIndex: -1,\n    onClick: props.handleClickOutside\n  }), h(\"div\", {\n    className: \"uppy-Dashboard-inner\",\n    \"aria-modal\": !props.inline && 'true',\n    role: !props.inline && 'dialog',\n    style: {\n      width: props.inline && props.width ? props.width : '',\n      height: props.inline && props.height ? props.height : ''\n    }\n  }, !props.inline ? h(\"button\", {\n    className: \"uppy-u-reset uppy-Dashboard-close\",\n    type: \"button\",\n    \"aria-label\": props.i18n('closeModal'),\n    title: props.i18n('closeModal'),\n    onClick: props.closeModal\n  }, h(\"span\", {\n    \"aria-hidden\": \"true\"\n  }, \"\\xD7\")) : null, h(\"div\", {\n    className: \"uppy-Dashboard-innerWrap\"\n  }, h(\"div\", {\n    className: \"uppy-Dashboard-dropFilesHereHint\"\n  }, props.i18n('dropHint')), showFileList && h(PanelTopBar, props), numberOfFilesForRecovery && h(\"div\", {\n    className: \"uppy-Dashboard-serviceMsg\"\n  }, h(\"svg\", {\n    className: \"uppy-Dashboard-serviceMsg-icon\",\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    width: \"21\",\n    height: \"16\",\n    viewBox: \"0 0 24 19\"\n  }, h(\"g\", {\n    transform: \"translate(0 -1)\",\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, h(\"path\", {\n    d: \"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z\",\n    fill: \"#FFD300\"\n  }), h(\"path\", {\n    fill: \"#000\",\n    d: \"M11 6h2l-.3 8h-1.4z\"\n  }), h(\"circle\", {\n    fill: \"#000\",\n    cx: \"12\",\n    cy: \"17\",\n    r: \"1\"\n  }))), h(\"strong\", {\n    className: \"uppy-Dashboard-serviceMsg-title\"\n  }, props.i18n('sessionRestored')), h(\"div\", {\n    className: \"uppy-Dashboard-serviceMsg-text\"\n  }, renderRestoredText())), showFileList ? h(FileList // eslint-disable-next-line react/jsx-props-no-spreading\n  , _extends({}, props, {\n    itemsPerRow: itemsPerRow\n  })) : // eslint-disable-next-line react/jsx-props-no-spreading\n  h(AddFiles, _extends({}, props, {\n    isSizeMD: isSizeMD\n  })), h(Slide, null, props.showAddFilesPanel ? h(AddFilesPanel, _extends({\n    key: \"AddFiles\"\n  }, props, {\n    isSizeMD: isSizeMD\n  })) : null), h(Slide, null, props.fileCardFor ? h(FileCard, _extends({\n    key: \"FileCard\"\n  }, props)) : null), h(Slide, null, props.activePickerPanel ? h(PickerPanelContent, _extends({\n    key: \"Picker\"\n  }, props)) : null), h(Slide, null, props.showFileEditor ? h(EditorPanel, _extends({\n    key: \"Editor\"\n  }, props)) : null), h(\"div\", {\n    className: \"uppy-Dashboard-progressindicators\"\n  }, props.progressindicators.map(target => {\n    return props.uppy.getPlugin(target.id).render(props.state);\n  })))));\n  return dashboard;\n}","export default {\n  strings: {\n    // When `inline: false`, used as the screen reader label for the button that closes the modal.\n    closeModal: 'Close Modal',\n    // Used as the screen reader label for the plus (+) button that shows the Add more files screen\n    addMoreFiles: 'Add more files',\n    addingMoreFiles: 'Adding more files',\n    // Used as the header for import panels, e.g., Import from Google Drive.\n    importFrom: 'Import from %{name}',\n    // When `inline: false`, used as the screen reader label for the dashboard modal.\n    dashboardWindowTitle: 'Uppy Dashboard Window (Press escape to close)',\n    // When `inline: true`, used as the screen reader label for the dashboard area.\n    dashboardTitle: 'Uppy Dashboard',\n    // Shown in the Informer when a link to a file was copied to the clipboard.\n    copyLinkToClipboardSuccess: 'Link copied to clipboard.',\n    // Used when a link cannot be copied automatically  the user has to select the text from the\n    // input element below this string.\n    copyLinkToClipboardFallback: 'Copy the URL below',\n    // Used as the hover title and screen reader label for buttons that copy a file link.\n    copyLink: 'Copy link',\n    back: 'Back',\n    // Used as the screen reader label for buttons that remove a file.\n    removeFile: 'Remove file',\n    // Used as the screen reader label for buttons that open the metadata editor panel for a file.\n    editFile: 'Edit file',\n    // Shown in the panel header for the metadata editor. Rendered as Editing image.png.\n    editing: 'Editing %{file}',\n    // Used as the screen reader label for the button that saves metadata edits and returns to the\n    // file list view.\n    finishEditingFile: 'Finish editing file',\n    saveChanges: 'Save changes',\n    // Used as the label for the tab button that opens the system file selection dialog.\n    myDevice: 'My Device',\n    dropHint: 'Drop your files here',\n    // Used as the hover text and screen reader label for file progress indicators when\n    // they have been fully uploaded.\n    uploadComplete: 'Upload complete',\n    uploadPaused: 'Upload paused',\n    // Used as the hover text and screen reader label for the buttons to resume paused uploads.\n    resumeUpload: 'Resume upload',\n    // Used as the hover text and screen reader label for the buttons to pause uploads.\n    pauseUpload: 'Pause upload',\n    // Used as the hover text and screen reader label for the buttons to retry failed uploads.\n    retryUpload: 'Retry upload',\n    // Used as the hover text and screen reader label for the buttons to cancel uploads.\n    cancelUpload: 'Cancel upload',\n    // Used in a title, how many files are currently selected\n    xFilesSelected: {\n      0: '%{smart_count} file selected',\n      1: '%{smart_count} files selected'\n    },\n    uploadingXFiles: {\n      0: 'Uploading %{smart_count} file',\n      1: 'Uploading %{smart_count} files'\n    },\n    processingXFiles: {\n      0: 'Processing %{smart_count} file',\n      1: 'Processing %{smart_count} files'\n    },\n    // The \"powered by Uppy\" link at the bottom of the Dashboard.\n    poweredBy: 'Powered by %{uppy}',\n    addMore: 'Add more',\n    editFileWithFilename: 'Edit file %{file}',\n    save: 'Save',\n    cancel: 'Cancel',\n    dropPasteFiles: 'Drop files here or %{browseFiles}',\n    dropPasteFolders: 'Drop files here or %{browseFolders}',\n    dropPasteBoth: 'Drop files here, %{browseFiles} or %{browseFolders}',\n    dropPasteImportFiles: 'Drop files here, %{browseFiles} or import from:',\n    dropPasteImportFolders: 'Drop files here, %{browseFolders} or import from:',\n    dropPasteImportBoth: 'Drop files here, %{browseFiles}, %{browseFolders} or import from:',\n    importFiles: 'Import files from:',\n    browseFiles: 'browse files',\n    browseFolders: 'browse folders',\n    recoveredXFiles: {\n      0: 'We could not fully recover 1 file. Please re-select it and resume the upload.',\n      1: 'We could not fully recover %{smart_count} files. Please re-select them and resume the upload.'\n    },\n    recoveredAllFiles: 'We restored all files. You can now resume the upload.',\n    sessionRestored: 'Session restored',\n    reSelect: 'Re-select',\n    missingRequiredMetaFields: {\n      0: 'Missing required meta field: %{fields}.',\n      1: 'Missing required meta fields: %{fields}.'\n    },\n    // Used for native device camera buttons on mobile\n    takePictureBtn: 'Take Picture',\n    recordVideoBtn: 'Record Video'\n  }\n};","function _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\n\nvar id = 0;\n\nfunction _classPrivateFieldLooseKey(name) { return \"__private_\" + id++ + \"_\" + name; }\n\nimport { h } from 'preact';\nimport { UIPlugin } from '@uppy/core';\nimport StatusBar from '@uppy/status-bar';\nimport Informer from '@uppy/informer';\nimport ThumbnailGenerator from '@uppy/thumbnail-generator';\nimport findAllDOMElements from '@uppy/utils/lib/findAllDOMElements';\nimport toArray from '@uppy/utils/lib/toArray';\nimport getDroppedFiles from '@uppy/utils/lib/getDroppedFiles';\nimport { nanoid } from 'nanoid/non-secure';\nimport memoizeOne from 'memoize-one';\nimport FOCUSABLE_ELEMENTS from '@uppy/utils/lib/FOCUSABLE_ELEMENTS';\nimport * as trapFocus from './utils/trapFocus.js';\nimport createSuperFocus from './utils/createSuperFocus.js';\nimport DashboardUI from \"./components/Dashboard.js\";\nconst packageJson = {\n  \"version\": \"3.1.0\"\n};\nimport locale from './locale.js';\nconst memoize = memoizeOne.default || memoizeOne;\nconst TAB_KEY = 9;\nconst ESC_KEY = 27;\n\nfunction createPromise() {\n  const o = {};\n  o.promise = new Promise((resolve, reject) => {\n    o.resolve = resolve;\n    o.reject = reject;\n  });\n  return o;\n}\n\nfunction defaultPickerIcon() {\n  return h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    width: \"30\",\n    height: \"30\",\n    viewBox: \"0 0 30 30\"\n  }, h(\"path\", {\n    d: \"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z\"\n  }));\n}\n/**\n * Dashboard UI with previews, metadata editing, tabs for various services and more\n */\n\n\nvar _openFileEditorWhenFilesAdded = /*#__PURE__*/_classPrivateFieldLooseKey(\"openFileEditorWhenFilesAdded\");\n\nvar _attachRenderFunctionToTarget = /*#__PURE__*/_classPrivateFieldLooseKey(\"attachRenderFunctionToTarget\");\n\nvar _isTargetSupported = /*#__PURE__*/_classPrivateFieldLooseKey(\"isTargetSupported\");\n\nvar _getAcquirers = /*#__PURE__*/_classPrivateFieldLooseKey(\"getAcquirers\");\n\nvar _getProgressIndicators = /*#__PURE__*/_classPrivateFieldLooseKey(\"getProgressIndicators\");\n\nvar _getEditors = /*#__PURE__*/_classPrivateFieldLooseKey(\"getEditors\");\n\nexport default class Dashboard extends UIPlugin {\n  constructor(uppy, _opts) {\n    var _this;\n\n    super(uppy, _opts);\n    _this = this;\n\n    this.removeTarget = plugin => {\n      const pluginState = this.getPluginState(); // filter out the one we want to remove\n\n      const newTargets = pluginState.targets.filter(target => target.id !== plugin.id);\n      this.setPluginState({\n        targets: newTargets\n      });\n    };\n\n    this.addTarget = plugin => {\n      const callerPluginId = plugin.id || plugin.constructor.name;\n      const callerPluginName = plugin.title || callerPluginId;\n      const callerPluginType = plugin.type;\n\n      if (callerPluginType !== 'acquirer' && callerPluginType !== 'progressindicator' && callerPluginType !== 'editor') {\n        const msg = 'Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor';\n        this.uppy.log(msg, 'error');\n        return undefined;\n      }\n\n      const target = {\n        id: callerPluginId,\n        name: callerPluginName,\n        type: callerPluginType\n      };\n      const state = this.getPluginState();\n      const newTargets = state.targets.slice();\n      newTargets.push(target);\n      this.setPluginState({\n        targets: newTargets\n      });\n      return this.el;\n    };\n\n    this.hideAllPanels = () => {\n      const state = this.getPluginState();\n      const update = {\n        activePickerPanel: false,\n        showAddFilesPanel: false,\n        activeOverlayType: null,\n        fileCardFor: null,\n        showFileEditor: false\n      };\n\n      if (state.activePickerPanel === update.activePickerPanel && state.showAddFilesPanel === update.showAddFilesPanel && state.showFileEditor === update.showFileEditor && state.activeOverlayType === update.activeOverlayType) {\n        // avoid doing a state update if nothing changed\n        return;\n      }\n\n      this.setPluginState(update);\n    };\n\n    this.showPanel = id => {\n      const {\n        targets\n      } = this.getPluginState();\n      const activePickerPanel = targets.filter(target => {\n        return target.type === 'acquirer' && target.id === id;\n      })[0];\n      this.setPluginState({\n        activePickerPanel,\n        activeOverlayType: 'PickerPanel'\n      });\n      this.uppy.emit('dashboard:show-panel', id);\n    };\n\n    this.canEditFile = file => {\n      const {\n        targets\n      } = this.getPluginState();\n\n      const editors = _classPrivateFieldLooseBase(this, _getEditors)[_getEditors](targets);\n\n      return editors.some(target => this.uppy.getPlugin(target.id).canEditFile(file));\n    };\n\n    this.openFileEditor = file => {\n      const {\n        targets\n      } = this.getPluginState();\n\n      const editors = _classPrivateFieldLooseBase(this, _getEditors)[_getEditors](targets);\n\n      this.setPluginState({\n        showFileEditor: true,\n        fileCardFor: file.id || null,\n        activeOverlayType: 'FileEditor'\n      });\n      editors.forEach(editor => {\n        this.uppy.getPlugin(editor.id).selectFile(file);\n      });\n    };\n\n    this.saveFileEditor = () => {\n      const {\n        targets\n      } = this.getPluginState();\n\n      const editors = _classPrivateFieldLooseBase(this, _getEditors)[_getEditors](targets);\n\n      editors.forEach(editor => {\n        this.uppy.getPlugin(editor.id).save();\n      });\n      this.hideAllPanels();\n    };\n\n    this.openModal = () => {\n      const {\n        promise,\n        resolve\n      } = createPromise(); // save scroll position\n\n      this.savedScrollPosition = window.pageYOffset; // save active element, so we can restore focus when modal is closed\n\n      this.savedActiveElement = document.activeElement;\n\n      if (this.opts.disablePageScrollWhenModalOpen) {\n        document.body.classList.add('uppy-Dashboard-isFixed');\n      }\n\n      if (this.opts.animateOpenClose && this.getPluginState().isClosing) {\n        const handler = () => {\n          this.setPluginState({\n            isHidden: false\n          });\n          this.el.removeEventListener('animationend', handler, false);\n          resolve();\n        };\n\n        this.el.addEventListener('animationend', handler, false);\n      } else {\n        this.setPluginState({\n          isHidden: false\n        });\n        resolve();\n      }\n\n      if (this.opts.browserBackButtonClose) {\n        this.updateBrowserHistory();\n      } // handle ESC and TAB keys in modal dialog\n\n\n      document.addEventListener('keydown', this.handleKeyDownInModal);\n      this.uppy.emit('dashboard:modal-open');\n      return promise;\n    };\n\n    this.closeModal = function (opts) {\n      if (opts === void 0) {\n        opts = {};\n      }\n\n      const {\n        // Whether the modal is being closed by the user (`true`) or by other means (e.g. browser back button)\n        manualClose = true\n      } = opts;\n\n      const {\n        isHidden,\n        isClosing\n      } = _this.getPluginState();\n\n      if (isHidden || isClosing) {\n        // short-circuit if animation is ongoing\n        return undefined;\n      }\n\n      const {\n        promise,\n        resolve\n      } = createPromise();\n\n      if (_this.opts.disablePageScrollWhenModalOpen) {\n        document.body.classList.remove('uppy-Dashboard-isFixed');\n      }\n\n      if (_this.opts.animateOpenClose) {\n        _this.setPluginState({\n          isClosing: true\n        });\n\n        const handler = () => {\n          _this.setPluginState({\n            isHidden: true,\n            isClosing: false\n          });\n\n          _this.superFocus.cancel();\n\n          _this.savedActiveElement.focus();\n\n          _this.el.removeEventListener('animationend', handler, false);\n\n          resolve();\n        };\n\n        _this.el.addEventListener('animationend', handler, false);\n      } else {\n        _this.setPluginState({\n          isHidden: true\n        });\n\n        _this.superFocus.cancel();\n\n        _this.savedActiveElement.focus();\n\n        resolve();\n      } // handle ESC and TAB keys in modal dialog\n\n\n      document.removeEventListener('keydown', _this.handleKeyDownInModal);\n\n      if (manualClose) {\n        if (_this.opts.browserBackButtonClose) {\n          var _history$state;\n\n          // Make sure that the latest entry in the history state is our modal name\n          // eslint-disable-next-line no-restricted-globals\n          if ((_history$state = history.state) != null && _history$state[_this.modalName]) {\n            // Go back in history to clear out the entry we created (ultimately closing the modal)\n            // eslint-disable-next-line no-restricted-globals\n            history.back();\n          }\n        }\n      }\n\n      _this.uppy.emit('dashboard:modal-closed');\n\n      return promise;\n    };\n\n    this.isModalOpen = () => {\n      return !this.getPluginState().isHidden || false;\n    };\n\n    this.requestCloseModal = () => {\n      if (this.opts.onRequestCloseModal) {\n        return this.opts.onRequestCloseModal();\n      }\n\n      return this.closeModal();\n    };\n\n    this.setDarkModeCapability = isDarkModeOn => {\n      const {\n        capabilities\n      } = this.uppy.getState();\n      this.uppy.setState({\n        capabilities: { ...capabilities,\n          darkMode: isDarkModeOn\n        }\n      });\n    };\n\n    this.handleSystemDarkModeChange = event => {\n      const isDarkModeOnNow = event.matches;\n      this.uppy.log(`[Dashboard] Dark mode is ${isDarkModeOnNow ? 'on' : 'off'}`);\n      this.setDarkModeCapability(isDarkModeOnNow);\n    };\n\n    this.toggleFileCard = (show, fileID) => {\n      const file = this.uppy.getFile(fileID);\n\n      if (show) {\n        this.uppy.emit('dashboard:file-edit-start', file);\n      } else {\n        this.uppy.emit('dashboard:file-edit-complete', file);\n      }\n\n      this.setPluginState({\n        fileCardFor: show ? fileID : null,\n        activeOverlayType: show ? 'FileCard' : null\n      });\n    };\n\n    this.toggleAddFilesPanel = show => {\n      this.setPluginState({\n        showAddFilesPanel: show,\n        activeOverlayType: show ? 'AddFiles' : null\n      });\n    };\n\n    this.addFiles = files => {\n      const descriptors = files.map(file => ({\n        source: this.id,\n        name: file.name,\n        type: file.type,\n        data: file,\n        meta: {\n          // path of the file relative to the ancestor directory the user selected.\n          // e.g. 'docs/Old Prague/airbnb.pdf'\n          relativePath: file.relativePath || file.webkitRelativePath || null\n        }\n      }));\n\n      try {\n        this.uppy.addFiles(descriptors);\n      } catch (err) {\n        this.uppy.log(err);\n      }\n    };\n\n    this.startListeningToResize = () => {\n      // Watch for Dashboard container (`.uppy-Dashboard-inner`) resize\n      // and update containerWidth/containerHeight in plugin state accordingly.\n      // Emits first event on initialization.\n      this.resizeObserver = new ResizeObserver(entries => {\n        const uppyDashboardInnerEl = entries[0];\n        const {\n          width,\n          height\n        } = uppyDashboardInnerEl.contentRect;\n        this.uppy.log(`[Dashboard] resized: ${width} / ${height}`, 'debug');\n        this.setPluginState({\n          containerWidth: width,\n          containerHeight: height,\n          areInsidesReadyToBeVisible: true\n        });\n      });\n      this.resizeObserver.observe(this.el.querySelector('.uppy-Dashboard-inner')); // If ResizeObserver fails to emit an event telling us what size to use - default to the mobile view\n\n      this.makeDashboardInsidesVisibleAnywayTimeout = setTimeout(() => {\n        const pluginState = this.getPluginState();\n        const isModalAndClosed = !this.opts.inline && pluginState.isHidden;\n\n        if ( // if ResizeObserver hasn't yet fired,\n        !pluginState.areInsidesReadyToBeVisible // and it's not due to the modal being closed\n        && !isModalAndClosed) {\n          this.uppy.log(\"[Dashboard] resize event didn't fire on time: defaulted to mobile layout\", 'debug');\n          this.setPluginState({\n            areInsidesReadyToBeVisible: true\n          });\n        }\n      }, 1000);\n    };\n\n    this.stopListeningToResize = () => {\n      this.resizeObserver.disconnect();\n      clearTimeout(this.makeDashboardInsidesVisibleAnywayTimeout);\n    };\n\n    this.recordIfFocusedOnUppyRecently = event => {\n      if (this.el.contains(event.target)) {\n        this.ifFocusedOnUppyRecently = true;\n      } else {\n        this.ifFocusedOnUppyRecently = false; // ___Why run this.superFocus.cancel here when it already runs in superFocusOnEachUpdate?\n        //    Because superFocus is debounced, when we move from Uppy to some other element on the page,\n        //    previously run superFocus sometimes hits and moves focus back to Uppy.\n\n        this.superFocus.cancel();\n      }\n    };\n\n    this.disableAllFocusableElements = disable => {\n      const focusableNodes = toArray(this.el.querySelectorAll(FOCUSABLE_ELEMENTS));\n\n      if (disable) {\n        focusableNodes.forEach(node => {\n          // save previous tabindex in a data-attribute, to restore when enabling\n          const currentTabIndex = node.getAttribute('tabindex');\n\n          if (currentTabIndex) {\n            node.dataset.inertTabindex = currentTabIndex; // eslint-disable-line no-param-reassign\n          }\n\n          node.setAttribute('tabindex', '-1');\n        });\n      } else {\n        focusableNodes.forEach(node => {\n          if ('inertTabindex' in node.dataset) {\n            node.setAttribute('tabindex', node.dataset.inertTabindex);\n          } else {\n            node.removeAttribute('tabindex');\n          }\n        });\n      }\n\n      this.dashboardIsDisabled = disable;\n    };\n\n    this.updateBrowserHistory = () => {\n      var _history$state2;\n\n      // Ensure history state does not already contain our modal name to avoid double-pushing\n      // eslint-disable-next-line no-restricted-globals\n      if (!((_history$state2 = history.state) != null && _history$state2[this.modalName])) {\n        // Push to history so that the page is not lost on browser back button press\n        // eslint-disable-next-line no-restricted-globals\n        history.pushState({ // eslint-disable-next-line no-restricted-globals\n          ...history.state,\n          [this.modalName]: true\n        }, '');\n      } // Listen for back button presses\n\n\n      window.addEventListener('popstate', this.handlePopState, false);\n    };\n\n    this.handlePopState = event => {\n      var _event$state;\n\n      // Close the modal if the history state no longer contains our modal name\n      if (this.isModalOpen() && (!event.state || !event.state[this.modalName])) {\n        this.closeModal({\n          manualClose: false\n        });\n      } // When the browser back button is pressed and uppy is now the latest entry\n      // in the history but the modal is closed, fix the history by removing the\n      // uppy history entry.\n      // This occurs when another entry is added into the history state while the\n      // modal is open, and then the modal gets manually closed.\n      // Solves PR #575 (https://github.com/transloadit/uppy/pull/575)\n\n\n      if (!this.isModalOpen() && (_event$state = event.state) != null && _event$state[this.modalName]) {\n        // eslint-disable-next-line no-restricted-globals\n        history.back();\n      }\n    };\n\n    this.handleKeyDownInModal = event => {\n      // close modal on esc key press\n      if (event.keyCode === ESC_KEY) this.requestCloseModal(event); // trap focus on tab key press\n\n      if (event.keyCode === TAB_KEY) trapFocus.forModal(event, this.getPluginState().activeOverlayType, this.el);\n    };\n\n    this.handleClickOutside = () => {\n      if (this.opts.closeModalOnClickOutside) this.requestCloseModal();\n    };\n\n    this.handlePaste = event => {\n      // Let any acquirer plugin (Url/Webcam/etc.) handle pastes to the root\n      this.uppy.iteratePlugins(plugin => {\n        if (plugin.type === 'acquirer') {\n          // Every Plugin with .type acquirer can define handleRootPaste(event)\n          plugin.handleRootPaste == null ? void 0 : plugin.handleRootPaste(event);\n        }\n      }); // Add all dropped files\n\n      const files = toArray(event.clipboardData.files);\n\n      if (files.length > 0) {\n        this.uppy.log('[Dashboard] Files pasted');\n        this.addFiles(files);\n      }\n    };\n\n    this.handleInputChange = event => {\n      event.preventDefault();\n      const files = toArray(event.target.files);\n\n      if (files.length > 0) {\n        this.uppy.log('[Dashboard] Files selected through input');\n        this.addFiles(files);\n      }\n    };\n\n    this.handleDragOver = event => {\n      var _this$opts$onDragOver, _this$opts;\n\n      event.preventDefault();\n      event.stopPropagation(); // Check if some plugin can handle the datatransfer without files \n      // for instance, the Url plugin can import a url\n\n      const canSomePluginHandleRootDrop = () => {\n        let somePluginCanHandleRootDrop = true;\n        this.uppy.iteratePlugins(plugin => {\n          if (plugin.canHandleRootDrop != null && plugin.canHandleRootDrop(event)) {\n            somePluginCanHandleRootDrop = true;\n          }\n        });\n        return somePluginCanHandleRootDrop;\n      }; // Check if the \"type\" of the datatransfer object includes files\n\n\n      const doesEventHaveFiles = () => {\n        const {\n          types\n        } = event.dataTransfer;\n        return types.some(type => type === 'Files');\n      }; // Deny drop, if no plugins can handle datatransfer, there are no files,\n      // or when opts.disabled is set, or new uploads are not allowed\n\n\n      const somePluginCanHandleRootDrop = canSomePluginHandleRootDrop(event);\n      const hasFiles = doesEventHaveFiles(event);\n\n      if (!somePluginCanHandleRootDrop && !hasFiles || this.opts.disabled // opts.disableLocalFiles should only be taken into account if no plugins\n      // can handle the datatransfer\n      || this.opts.disableLocalFiles && (hasFiles || !somePluginCanHandleRootDrop) || !this.uppy.getState().allowNewUpload) {\n        event.dataTransfer.dropEffect = 'none'; // eslint-disable-line no-param-reassign\n\n        clearTimeout(this.removeDragOverClassTimeout);\n        return;\n      } // Add a small (+) icon on drop\n      // (and prevent browsers from interpreting this as files being _moved_ into the\n      // browser, https://github.com/transloadit/uppy/issues/1978).\n\n\n      event.dataTransfer.dropEffect = 'copy'; // eslint-disable-line no-param-reassign\n\n      clearTimeout(this.removeDragOverClassTimeout);\n      this.setPluginState({\n        isDraggingOver: true\n      });\n      (_this$opts$onDragOver = (_this$opts = this.opts).onDragOver) == null ? void 0 : _this$opts$onDragOver.call(_this$opts, event);\n    };\n\n    this.handleDragLeave = event => {\n      var _this$opts$onDragLeav, _this$opts2;\n\n      event.preventDefault();\n      event.stopPropagation();\n      clearTimeout(this.removeDragOverClassTimeout); // Timeout against flickering, this solution is taken from drag-drop library.\n      // Solution with 'pointer-events: none' didn't work across browsers.\n\n      this.removeDragOverClassTimeout = setTimeout(() => {\n        this.setPluginState({\n          isDraggingOver: false\n        });\n      }, 50);\n      (_this$opts$onDragLeav = (_this$opts2 = this.opts).onDragLeave) == null ? void 0 : _this$opts$onDragLeav.call(_this$opts2, event);\n    };\n\n    this.handleDrop = async event => {\n      var _this$opts$onDrop, _this$opts3;\n\n      event.preventDefault();\n      event.stopPropagation();\n      clearTimeout(this.removeDragOverClassTimeout);\n      this.setPluginState({\n        isDraggingOver: false\n      }); // Let any acquirer plugin (Url/Webcam/etc.) handle drops to the root\n\n      this.uppy.iteratePlugins(plugin => {\n        if (plugin.type === 'acquirer') {\n          // Every Plugin with .type acquirer can define handleRootDrop(event)\n          plugin.handleRootDrop == null ? void 0 : plugin.handleRootDrop(event);\n        }\n      }); // Add all dropped files\n\n      let executedDropErrorOnce = false;\n\n      const logDropError = error => {\n        this.uppy.log(error, 'error'); // In practice all drop errors are most likely the same,\n        // so let's just show one to avoid overwhelming the user\n\n        if (!executedDropErrorOnce) {\n          this.uppy.info(error.message, 'error');\n          executedDropErrorOnce = true;\n        }\n      }; // Add all dropped files\n\n\n      const files = await getDroppedFiles(event.dataTransfer, {\n        logDropError\n      });\n\n      if (files.length > 0) {\n        this.uppy.log('[Dashboard] Files dropped');\n        this.addFiles(files);\n      }\n\n      (_this$opts$onDrop = (_this$opts3 = this.opts).onDrop) == null ? void 0 : _this$opts$onDrop.call(_this$opts3, event);\n    };\n\n    this.handleRequestThumbnail = file => {\n      if (!this.opts.waitForThumbnailsBeforeUpload) {\n        this.uppy.emit('thumbnail:request', file);\n      }\n    };\n\n    this.handleCancelThumbnail = file => {\n      if (!this.opts.waitForThumbnailsBeforeUpload) {\n        this.uppy.emit('thumbnail:cancel', file);\n      }\n    };\n\n    this.handleKeyDownInInline = event => {\n      // Trap focus on tab key press.\n      if (event.keyCode === TAB_KEY) trapFocus.forInline(event, this.getPluginState().activeOverlayType, this.el);\n    };\n\n    this.handlePasteOnBody = event => {\n      const isFocusInOverlay = this.el.contains(document.activeElement);\n\n      if (isFocusInOverlay) {\n        this.handlePaste(event);\n      }\n    };\n\n    this.handleComplete = _ref => {\n      let {\n        failed\n      } = _ref;\n\n      if (this.opts.closeAfterFinish && failed.length === 0) {\n        // All uploads are done\n        this.requestCloseModal();\n      }\n    };\n\n    this.handleCancelRestore = () => {\n      this.uppy.emit('restore-canceled');\n    };\n\n    Object.defineProperty(this, _openFileEditorWhenFilesAdded, {\n      writable: true,\n      value: files => {\n        const firstFile = files[0];\n\n        if (this.canEditFile(firstFile)) {\n          this.openFileEditor(firstFile);\n        }\n      }\n    });\n\n    this.initEvents = () => {\n      // Modal open button\n      if (this.opts.trigger && !this.opts.inline) {\n        const showModalTrigger = findAllDOMElements(this.opts.trigger);\n\n        if (showModalTrigger) {\n          showModalTrigger.forEach(trigger => trigger.addEventListener('click', this.openModal));\n        } else {\n          this.uppy.log('Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself', 'warning');\n        }\n      }\n\n      this.startListeningToResize();\n      document.addEventListener('paste', this.handlePasteOnBody);\n      this.uppy.on('plugin-remove', this.removeTarget);\n      this.uppy.on('file-added', this.hideAllPanels);\n      this.uppy.on('dashboard:modal-closed', this.hideAllPanels);\n      this.uppy.on('file-editor:complete', this.hideAllPanels);\n      this.uppy.on('complete', this.handleComplete); // ___Why fire on capture?\n      //    Because this.ifFocusedOnUppyRecently needs to change before onUpdate() fires.\n\n      document.addEventListener('focus', this.recordIfFocusedOnUppyRecently, true);\n      document.addEventListener('click', this.recordIfFocusedOnUppyRecently, true);\n\n      if (this.opts.inline) {\n        this.el.addEventListener('keydown', this.handleKeyDownInInline);\n      }\n\n      if (this.opts.autoOpenFileEditor) {\n        this.uppy.on('files-added', _classPrivateFieldLooseBase(this, _openFileEditorWhenFilesAdded)[_openFileEditorWhenFilesAdded]);\n      }\n    };\n\n    this.removeEvents = () => {\n      const showModalTrigger = findAllDOMElements(this.opts.trigger);\n\n      if (!this.opts.inline && showModalTrigger) {\n        showModalTrigger.forEach(trigger => trigger.removeEventListener('click', this.openModal));\n      }\n\n      this.stopListeningToResize();\n      document.removeEventListener('paste', this.handlePasteOnBody);\n      window.removeEventListener('popstate', this.handlePopState, false);\n      this.uppy.off('plugin-remove', this.removeTarget);\n      this.uppy.off('file-added', this.hideAllPanels);\n      this.uppy.off('dashboard:modal-closed', this.hideAllPanels);\n      this.uppy.off('file-editor:complete', this.hideAllPanels);\n      this.uppy.off('complete', this.handleComplete);\n      document.removeEventListener('focus', this.recordIfFocusedOnUppyRecently);\n      document.removeEventListener('click', this.recordIfFocusedOnUppyRecently);\n\n      if (this.opts.inline) {\n        this.el.removeEventListener('keydown', this.handleKeyDownInInline);\n      }\n\n      if (this.opts.autoOpenFileEditor) {\n        this.uppy.off('files-added', _classPrivateFieldLooseBase(this, _openFileEditorWhenFilesAdded)[_openFileEditorWhenFilesAdded]);\n      }\n    };\n\n    this.superFocusOnEachUpdate = () => {\n      const isFocusInUppy = this.el.contains(document.activeElement); // When focus is lost on the page (== focus is on body for most browsers, or focus is null for IE11)\n\n      const isFocusNowhere = document.activeElement === document.body || document.activeElement === null;\n      const isInformerHidden = this.uppy.getState().info.length === 0;\n      const isModal = !this.opts.inline;\n\n      if ( // If update is connected to showing the Informer - let the screen reader calmly read it.\n      isInformerHidden && ( // If we are in a modal - always superfocus without concern for other elements\n      // on the page (user is unlikely to want to interact with the rest of the page)\n      isModal // If we are already inside of Uppy, or\n      || isFocusInUppy // If we are not focused on anything BUT we have already, at least once, focused on uppy\n      //   1. We focus when isFocusNowhere, because when the element we were focused\n      //      on disappears (e.g. an overlay), - focus gets lost. If user is typing\n      //      something somewhere else on the page, - focus won't be 'nowhere'.\n      //   2. We only focus when focus is nowhere AND this.ifFocusedOnUppyRecently,\n      //      to avoid focus jumps if we do something else on the page.\n      //   [Practical check] Without '&& this.ifFocusedOnUppyRecently', in Safari, in inline mode,\n      //                     when file is uploading, - navigate via tab to the checkbox,\n      //                     try to press space multiple times. Focus will jump to Uppy.\n      || isFocusNowhere && this.ifFocusedOnUppyRecently)) {\n        this.superFocus(this.el, this.getPluginState().activeOverlayType);\n      } else {\n        this.superFocus.cancel();\n      }\n    };\n\n    this.afterUpdate = () => {\n      if (this.opts.disabled && !this.dashboardIsDisabled) {\n        this.disableAllFocusableElements(true);\n        return;\n      }\n\n      if (!this.opts.disabled && this.dashboardIsDisabled) {\n        this.disableAllFocusableElements(false);\n      }\n\n      this.superFocusOnEachUpdate();\n    };\n\n    this.saveFileCard = (meta, fileID) => {\n      this.uppy.setFileMeta(fileID, meta);\n      this.toggleFileCard(false, fileID);\n    };\n\n    Object.defineProperty(this, _attachRenderFunctionToTarget, {\n      writable: true,\n      value: target => {\n        const plugin = this.uppy.getPlugin(target.id);\n        return { ...target,\n          icon: plugin.icon || this.opts.defaultPickerIcon,\n          render: plugin.render\n        };\n      }\n    });\n    Object.defineProperty(this, _isTargetSupported, {\n      writable: true,\n      value: target => {\n        const plugin = this.uppy.getPlugin(target.id); // If the plugin does not provide a `supported` check, assume the plugin works everywhere.\n\n        if (typeof plugin.isSupported !== 'function') {\n          return true;\n        }\n\n        return plugin.isSupported();\n      }\n    });\n    Object.defineProperty(this, _getAcquirers, {\n      writable: true,\n      value: memoize(targets => {\n        return targets.filter(target => target.type === 'acquirer' && _classPrivateFieldLooseBase(this, _isTargetSupported)[_isTargetSupported](target)).map(_classPrivateFieldLooseBase(this, _attachRenderFunctionToTarget)[_attachRenderFunctionToTarget]);\n      })\n    });\n    Object.defineProperty(this, _getProgressIndicators, {\n      writable: true,\n      value: memoize(targets => {\n        return targets.filter(target => target.type === 'progressindicator').map(_classPrivateFieldLooseBase(this, _attachRenderFunctionToTarget)[_attachRenderFunctionToTarget]);\n      })\n    });\n    Object.defineProperty(this, _getEditors, {\n      writable: true,\n      value: memoize(targets => {\n        return targets.filter(target => target.type === 'editor').map(_classPrivateFieldLooseBase(this, _attachRenderFunctionToTarget)[_attachRenderFunctionToTarget]);\n      })\n    });\n\n    this.render = state => {\n      const pluginState = this.getPluginState();\n      const {\n        files,\n        capabilities,\n        allowNewUpload\n      } = state;\n      const {\n        newFiles,\n        uploadStartedFiles,\n        completeFiles,\n        erroredFiles,\n        inProgressFiles,\n        inProgressNotPausedFiles,\n        processingFiles,\n        isUploadStarted,\n        isAllComplete,\n        isAllErrored,\n        isAllPaused\n      } = this.uppy.getObjectOfFilesPerState();\n\n      const acquirers = _classPrivateFieldLooseBase(this, _getAcquirers)[_getAcquirers](pluginState.targets);\n\n      const progressindicators = _classPrivateFieldLooseBase(this, _getProgressIndicators)[_getProgressIndicators](pluginState.targets);\n\n      const editors = _classPrivateFieldLooseBase(this, _getEditors)[_getEditors](pluginState.targets);\n\n      let theme;\n\n      if (this.opts.theme === 'auto') {\n        theme = capabilities.darkMode ? 'dark' : 'light';\n      } else {\n        theme = this.opts.theme;\n      }\n\n      if (['files', 'folders', 'both'].indexOf(this.opts.fileManagerSelectionType) < 0) {\n        this.opts.fileManagerSelectionType = 'files'; // eslint-disable-next-line no-console\n\n        console.warn(`Unsupported option for \"fileManagerSelectionType\". Using default of \"${this.opts.fileManagerSelectionType}\".`);\n      }\n\n      return DashboardUI({\n        state,\n        isHidden: pluginState.isHidden,\n        files,\n        newFiles,\n        uploadStartedFiles,\n        completeFiles,\n        erroredFiles,\n        inProgressFiles,\n        inProgressNotPausedFiles,\n        processingFiles,\n        isUploadStarted,\n        isAllComplete,\n        isAllErrored,\n        isAllPaused,\n        totalFileCount: Object.keys(files).length,\n        totalProgress: state.totalProgress,\n        allowNewUpload,\n        acquirers,\n        theme,\n        disabled: this.opts.disabled,\n        disableLocalFiles: this.opts.disableLocalFiles,\n        direction: this.opts.direction,\n        activePickerPanel: pluginState.activePickerPanel,\n        showFileEditor: pluginState.showFileEditor,\n        saveFileEditor: this.saveFileEditor,\n        disableAllFocusableElements: this.disableAllFocusableElements,\n        animateOpenClose: this.opts.animateOpenClose,\n        isClosing: pluginState.isClosing,\n        progressindicators,\n        editors,\n        autoProceed: this.uppy.opts.autoProceed,\n        id: this.id,\n        closeModal: this.requestCloseModal,\n        handleClickOutside: this.handleClickOutside,\n        handleInputChange: this.handleInputChange,\n        handlePaste: this.handlePaste,\n        inline: this.opts.inline,\n        showPanel: this.showPanel,\n        hideAllPanels: this.hideAllPanels,\n        i18n: this.i18n,\n        i18nArray: this.i18nArray,\n        uppy: this.uppy,\n        note: this.opts.note,\n        recoveredState: state.recoveredState,\n        metaFields: pluginState.metaFields,\n        resumableUploads: capabilities.resumableUploads || false,\n        individualCancellation: capabilities.individualCancellation,\n        isMobileDevice: capabilities.isMobileDevice,\n        fileCardFor: pluginState.fileCardFor,\n        toggleFileCard: this.toggleFileCard,\n        toggleAddFilesPanel: this.toggleAddFilesPanel,\n        showAddFilesPanel: pluginState.showAddFilesPanel,\n        saveFileCard: this.saveFileCard,\n        openFileEditor: this.openFileEditor,\n        canEditFile: this.canEditFile,\n        width: this.opts.width,\n        height: this.opts.height,\n        showLinkToFileUploadResult: this.opts.showLinkToFileUploadResult,\n        fileManagerSelectionType: this.opts.fileManagerSelectionType,\n        proudlyDisplayPoweredByUppy: this.opts.proudlyDisplayPoweredByUppy,\n        hideCancelButton: this.opts.hideCancelButton,\n        hideRetryButton: this.opts.hideRetryButton,\n        hidePauseResumeButton: this.opts.hidePauseResumeButton,\n        showRemoveButtonAfterComplete: this.opts.showRemoveButtonAfterComplete,\n        containerWidth: pluginState.containerWidth,\n        containerHeight: pluginState.containerHeight,\n        areInsidesReadyToBeVisible: pluginState.areInsidesReadyToBeVisible,\n        isTargetDOMEl: this.isTargetDOMEl,\n        parentElement: this.el,\n        allowedFileTypes: this.uppy.opts.restrictions.allowedFileTypes,\n        maxNumberOfFiles: this.uppy.opts.restrictions.maxNumberOfFiles,\n        requiredMetaFields: this.uppy.opts.restrictions.requiredMetaFields,\n        showSelectedFiles: this.opts.showSelectedFiles,\n        showNativePhotoCameraButton: this.opts.showNativePhotoCameraButton,\n        showNativeVideoCameraButton: this.opts.showNativeVideoCameraButton,\n        nativeCameraFacingMode: this.opts.nativeCameraFacingMode,\n        handleCancelRestore: this.handleCancelRestore,\n        handleRequestThumbnail: this.handleRequestThumbnail,\n        handleCancelThumbnail: this.handleCancelThumbnail,\n        // drag props\n        isDraggingOver: pluginState.isDraggingOver,\n        handleDragOver: this.handleDragOver,\n        handleDragLeave: this.handleDragLeave,\n        handleDrop: this.handleDrop\n      });\n    };\n\n    this.discoverProviderPlugins = () => {\n      this.uppy.iteratePlugins(plugin => {\n        if (plugin && !plugin.target && plugin.opts && plugin.opts.target === this.constructor) {\n          this.addTarget(plugin);\n        }\n      });\n    };\n\n    this.install = () => {\n      // Set default state for Dashboard\n      this.setPluginState({\n        isHidden: true,\n        fileCardFor: null,\n        activeOverlayType: null,\n        showAddFilesPanel: false,\n        activePickerPanel: false,\n        showFileEditor: false,\n        metaFields: this.opts.metaFields,\n        targets: [],\n        // We'll make them visible once .containerWidth is determined\n        areInsidesReadyToBeVisible: false,\n        isDraggingOver: false\n      });\n      const {\n        inline,\n        closeAfterFinish\n      } = this.opts;\n\n      if (inline && closeAfterFinish) {\n        throw new Error('[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.');\n      }\n\n      const {\n        allowMultipleUploads,\n        allowMultipleUploadBatches\n      } = this.uppy.opts;\n\n      if ((allowMultipleUploads || allowMultipleUploadBatches) && closeAfterFinish) {\n        this.uppy.log('[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true', 'warning');\n      }\n\n      const {\n        target\n      } = this.opts;\n\n      if (target) {\n        this.mount(target, this);\n      }\n\n      const plugins = this.opts.plugins || [];\n      plugins.forEach(pluginID => {\n        const plugin = this.uppy.getPlugin(pluginID);\n\n        if (plugin) {\n          plugin.mount(this, plugin);\n        }\n      });\n\n      if (!this.opts.disableStatusBar) {\n        this.uppy.use(StatusBar, {\n          id: `${this.id}:StatusBar`,\n          target: this,\n          hideUploadButton: this.opts.hideUploadButton,\n          hideRetryButton: this.opts.hideRetryButton,\n          hidePauseResumeButton: this.opts.hidePauseResumeButton,\n          hideCancelButton: this.opts.hideCancelButton,\n          showProgressDetails: this.opts.showProgressDetails,\n          hideAfterFinish: this.opts.hideProgressAfterFinish,\n          locale: this.opts.locale,\n          doneButtonHandler: this.opts.doneButtonHandler\n        });\n      }\n\n      if (!this.opts.disableInformer) {\n        this.uppy.use(Informer, {\n          id: `${this.id}:Informer`,\n          target: this\n        });\n      }\n\n      if (!this.opts.disableThumbnailGenerator) {\n        this.uppy.use(ThumbnailGenerator, {\n          id: `${this.id}:ThumbnailGenerator`,\n          thumbnailWidth: this.opts.thumbnailWidth,\n          thumbnailHeight: this.opts.thumbnailHeight,\n          thumbnailType: this.opts.thumbnailType,\n          waitForThumbnailsBeforeUpload: this.opts.waitForThumbnailsBeforeUpload,\n          // If we don't block on thumbnails, we can lazily generate them\n          lazy: !this.opts.waitForThumbnailsBeforeUpload\n        });\n      } // Dark Mode / theme\n\n\n      this.darkModeMediaQuery = typeof window !== 'undefined' && window.matchMedia ? window.matchMedia('(prefers-color-scheme: dark)') : null;\n      const isDarkModeOnFromTheStart = this.darkModeMediaQuery ? this.darkModeMediaQuery.matches : false;\n      this.uppy.log(`[Dashboard] Dark mode is ${isDarkModeOnFromTheStart ? 'on' : 'off'}`);\n      this.setDarkModeCapability(isDarkModeOnFromTheStart);\n\n      if (this.opts.theme === 'auto') {\n        this.darkModeMediaQuery.addListener(this.handleSystemDarkModeChange);\n      }\n\n      this.discoverProviderPlugins();\n      this.initEvents();\n    };\n\n    this.uninstall = () => {\n      if (!this.opts.disableInformer) {\n        const informer = this.uppy.getPlugin(`${this.id}:Informer`); // Checking if this plugin exists, in case it was removed by uppy-core\n        // before the Dashboard was.\n\n        if (informer) this.uppy.removePlugin(informer);\n      }\n\n      if (!this.opts.disableStatusBar) {\n        const statusBar = this.uppy.getPlugin(`${this.id}:StatusBar`);\n        if (statusBar) this.uppy.removePlugin(statusBar);\n      }\n\n      if (!this.opts.disableThumbnailGenerator) {\n        const thumbnail = this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);\n        if (thumbnail) this.uppy.removePlugin(thumbnail);\n      }\n\n      const plugins = this.opts.plugins || [];\n      plugins.forEach(pluginID => {\n        const plugin = this.uppy.getPlugin(pluginID);\n        if (plugin) plugin.unmount();\n      });\n\n      if (this.opts.theme === 'auto') {\n        this.darkModeMediaQuery.removeListener(this.handleSystemDarkModeChange);\n      }\n\n      this.unmount();\n      this.removeEvents();\n    };\n\n    this.id = this.opts.id || 'Dashboard';\n    this.title = 'Dashboard';\n    this.type = 'orchestrator';\n    this.modalName = `uppy-Dashboard-${nanoid()}`;\n    this.defaultLocale = locale; // set default options, must be kept in sync with packages/@uppy/react/src/DashboardModal.js\n\n    const defaultOptions = {\n      target: 'body',\n      metaFields: [],\n      trigger: null,\n      inline: false,\n      width: 750,\n      height: 550,\n      thumbnailWidth: 280,\n      thumbnailType: 'image/jpeg',\n      waitForThumbnailsBeforeUpload: false,\n      defaultPickerIcon,\n      showLinkToFileUploadResult: false,\n      showProgressDetails: false,\n      hideUploadButton: false,\n      hideCancelButton: false,\n      hideRetryButton: false,\n      hidePauseResumeButton: false,\n      hideProgressAfterFinish: false,\n      doneButtonHandler: () => {\n        this.uppy.cancelAll();\n        this.requestCloseModal();\n      },\n      note: null,\n      closeModalOnClickOutside: false,\n      closeAfterFinish: false,\n      disableStatusBar: false,\n      disableInformer: false,\n      disableThumbnailGenerator: false,\n      disablePageScrollWhenModalOpen: true,\n      animateOpenClose: true,\n      fileManagerSelectionType: 'files',\n      proudlyDisplayPoweredByUppy: true,\n      onRequestCloseModal: () => this.closeModal(),\n      showSelectedFiles: true,\n      showRemoveButtonAfterComplete: false,\n      browserBackButtonClose: false,\n      showNativePhotoCameraButton: false,\n      showNativeVideoCameraButton: false,\n      theme: 'light',\n      autoOpenFileEditor: false,\n      disabled: false,\n      disableLocalFiles: false\n    }; // merge default options with the ones set by user\n\n    this.opts = { ...defaultOptions,\n      ..._opts\n    };\n    this.i18nInit();\n    this.superFocus = createSuperFocus();\n    this.ifFocusedOnUppyRecently = false; // Timeouts\n\n    this.makeDashboardInsidesVisibleAnywayTimeout = null;\n    this.removeDragOverClassTimeout = null;\n  }\n\n}\nDashboard.VERSION = packageJson.version;","import { EMPTY_ARR } from \"./constants\";\n\n/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\t// @ts-ignore We change the type of `obj` to be `O & P`\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\nexport const slice = EMPTY_ARR.slice;\n","import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {import('./internal').Options}\n */\nconst options = {\n\t_catchError\n};\n\nexport default options;\n","import { slice } from './util';\nimport options from './options';\n\nlet vnodeId = 0;\n\n/**\n * Create an virtual node (used for JSX)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * constructor for this virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the virtual node\n * @returns {import('./internal').VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type == 'function' && type.defaultProps != null) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === undefined) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(type, normalizedProps, key, ref, null);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref, original) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t// _nextDom must be initialized to undefined b/c it will eventually\n\t\t// be set to dom.nextSibling which can return `null` and it is important\n\t\t// to be able to distinguish between an uninitialized _nextDom and\n\t\t// a _nextDom that has been set to `null`\n\t\t_nextDom: undefined,\n\t\t_component: null,\n\t\t_hydrating: null,\n\t\tconstructor: undefined,\n\t\t_original: original == null ? ++vnodeId : original\n\t};\n\n\t// Only invoke the vnode hook if this was *not* a direct copy:\n\tif (original == null && options.vnode != null) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn { current: null };\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is import('./internal').VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != null && vnode.constructor === undefined;\n","import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function Component(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @this {import('./internal').Component}\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nComponent.prototype.setState = function(update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState != null && this._nextState !== this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\t// Some libraries like `immer` mark the current state as readonly,\n\t\t// preventing us from mutating it, so we need to clone it. See #2716\n\t\tupdate = update(assign({}, s), this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == null) return;\n\n\tif (this._vnode) {\n\t\tif (callback) {\n\t\t\tthis._stateCallbacks.push(callback);\n\t\t}\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @this {import('./internal').Component}\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nComponent.prototype.forceUpdate = function(callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {import('./index').ComponentChildren | void}\n */\nComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == null) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._parent._children.indexOf(vnode) + 1)\n\t\t\t: null;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != null && sibling._dom != null) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type == 'function' ? getDomSibling(vnode) : null;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet vnode = component._vnode,\n\t\toldDom = vnode._dom,\n\t\tparentDom = component._parentDom;\n\n\tif (parentDom) {\n\t\tlet commitQueue = [];\n\t\tconst oldVNode = assign({}, vnode);\n\t\toldVNode._original = vnode._original + 1;\n\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tvnode,\n\t\t\toldVNode,\n\t\t\tcomponent._globalContext,\n\t\t\tparentDom.ownerSVGElement !== undefined,\n\t\t\tvnode._hydrating != null ? [oldDom] : null,\n\t\t\tcommitQueue,\n\t\t\toldDom == null ? getDomSibling(vnode) : oldDom,\n\t\t\tvnode._hydrating\n\t\t);\n\t\tcommitRoot(commitQueue, vnode);\n\n\t\tif (vnode._dom != oldDom) {\n\t\t\tupdateParentDomPointers(vnode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != null && vnode._component != null) {\n\t\tvnode._dom = vnode._component.base = null;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != null && child._dom != null) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet rerenderQueue = [];\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty &&\n\t\t\t(c._dirty = true) &&\n\t\t\trerenderQueue.push(c) &&\n\t\t\t!process._rerenderCount++) ||\n\t\tprevDebounce !== options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || setTimeout)(process);\n\t}\n}\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet queue;\n\twhile ((process._rerenderCount = rerenderQueue.length)) {\n\t\tqueue = rerenderQueue.sort((a, b) => a._vnode._depth - b._vnode._depth);\n\t\trerenderQueue = [];\n\t\t// Don't update `renderCount` yet. Keep its value non-zero to prevent unnecessary\n\t\t// process() calls from getting scheduled while `queue` is still being consumed.\n\t\tqueue.some(c => {\n\t\t\tif (c._dirty) renderComponent(c);\n\t\t});\n\t}\n}\n\nprocess._rerenderCount = 0;\n","export const EMPTY_OBJ = {};\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n","import { diff, unmount, applyRef } from './index';\nimport { createVNode, Fragment } from '../create-element';\nimport { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { getDomSibling } from '../component';\n\n/**\n * Diff the children of a virtual node\n * @param {import('../internal').PreactElement} parentDom The DOM element whose\n * children are being diffed\n * @param {import('../internal').ComponentChildren[]} renderResult\n * @param {import('../internal').VNode} newParentVNode The new virtual\n * node whose children should be diff'ed against oldParentVNode\n * @param {import('../internal').VNode} oldParentVNode The old virtual\n * node whose children should be diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by getChildContext\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n */\nexport function diffChildren(\n\tparentDom,\n\trenderResult,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet i, j, oldVNode, childVNode, newDom, firstChildDom, refs;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet oldChildrenLength = oldChildren.length;\n\n\tnewParentVNode._children = [];\n\tfor (i = 0; i < renderResult.length; i++) {\n\t\tchildVNode = renderResult[i];\n\n\t\tif (childVNode == null || typeof childVNode == 'boolean') {\n\t\t\tchildVNode = newParentVNode._children[i] = null;\n\t\t}\n\t\t// If this newVNode is being reused (e.g. <div>{reuse}{reuse}</div>) in the same diff,\n\t\t// or we are rendering a component (e.g. setState) copy the oldVNodes so it can have\n\t\t// it's own DOM & etc. pointers\n\t\telse if (\n\t\t\ttypeof childVNode == 'string' ||\n\t\t\ttypeof childVNode == 'number' ||\n\t\t\t// eslint-disable-next-line valid-typeof\n\t\t\ttypeof childVNode == 'bigint'\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tnull,\n\t\t\t\tchildVNode,\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tchildVNode\n\t\t\t);\n\t\t} else if (Array.isArray(childVNode)) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tFragment,\n\t\t\t\t{ children: childVNode },\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tnull\n\t\t\t);\n\t\t} else if (childVNode._depth > 0) {\n\t\t\t// VNode is already in use, clone it. This can happen in the following\n\t\t\t// scenario:\n\t\t\t//   const reuse = <div />\n\t\t\t//   <div>{reuse}<span />{reuse}</div>\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tchildVNode.type,\n\t\t\t\tchildVNode.props,\n\t\t\t\tchildVNode.key,\n\t\t\t\tchildVNode.ref ? childVNode.ref : null,\n\t\t\t\tchildVNode._original\n\t\t\t);\n\t\t} else {\n\t\t\tchildVNode = newParentVNode._children[i] = childVNode;\n\t\t}\n\n\t\t// Terser removes the `continue` here and wraps the loop body\n\t\t// in a `if (childVNode) { ... } condition\n\t\tif (childVNode == null) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tchildVNode._parent = newParentVNode;\n\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\t// Check if we find a corresponding element in oldChildren.\n\t\t// If found, delete the array item by setting to `undefined`.\n\t\t// We use `undefined`, as `null` is reserved for empty placeholders\n\t\t// (holes).\n\t\toldVNode = oldChildren[i];\n\n\t\tif (\n\t\t\toldVNode === null ||\n\t\t\t(oldVNode &&\n\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\tchildVNode.type === oldVNode.type)\n\t\t) {\n\t\t\toldChildren[i] = undefined;\n\t\t} else {\n\t\t\t// Either oldVNode === undefined or oldChildrenLength > 0,\n\t\t\t// so after this loop oldVNode == null or oldVNode is a valid value.\n\t\t\tfor (j = 0; j < oldChildrenLength; j++) {\n\t\t\t\toldVNode = oldChildren[j];\n\t\t\t\t// If childVNode is unkeyed, we only match similarly unkeyed nodes, otherwise we match by key.\n\t\t\t\t// We always match by type (in either case).\n\t\t\t\tif (\n\t\t\t\t\toldVNode &&\n\t\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\t\tchildVNode.type === oldVNode.type\n\t\t\t\t) {\n\t\t\t\t\toldChildren[j] = undefined;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\toldVNode = null;\n\t\t\t}\n\t\t}\n\n\t\toldVNode = oldVNode || EMPTY_OBJ;\n\n\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tchildVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tisSvg,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\toldDom,\n\t\t\tisHydrating\n\t\t);\n\n\t\tnewDom = childVNode._dom;\n\n\t\tif ((j = childVNode.ref) && oldVNode.ref != j) {\n\t\t\tif (!refs) refs = [];\n\t\t\tif (oldVNode.ref) refs.push(oldVNode.ref, null, childVNode);\n\t\t\trefs.push(j, childVNode._component || newDom, childVNode);\n\t\t}\n\n\t\tif (newDom != null) {\n\t\t\tif (firstChildDom == null) {\n\t\t\t\tfirstChildDom = newDom;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\ttypeof childVNode.type == 'function' &&\n\t\t\t\tchildVNode._children === oldVNode._children\n\t\t\t) {\n\t\t\t\tchildVNode._nextDom = oldDom = reorderChildren(\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldDom,\n\t\t\t\t\tparentDom\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldVNode,\n\t\t\t\t\toldChildren,\n\t\t\t\t\tnewDom,\n\t\t\t\t\toldDom\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (typeof newParentVNode.type == 'function') {\n\t\t\t\t// Because the newParentVNode is Fragment-like, we need to set it's\n\t\t\t\t// _nextDom property to the nextSibling of its last child DOM node.\n\t\t\t\t//\n\t\t\t\t// `oldDom` contains the correct value here because if the last child\n\t\t\t\t// is a Fragment-like, then oldDom has already been set to that child's _nextDom.\n\t\t\t\t// If the last child is a DOM VNode, then oldDom will be set to that DOM\n\t\t\t\t// node's nextSibling.\n\t\t\t\tnewParentVNode._nextDom = oldDom;\n\t\t\t}\n\t\t} else if (\n\t\t\toldDom &&\n\t\t\toldVNode._dom == oldDom &&\n\t\t\toldDom.parentNode != parentDom\n\t\t) {\n\t\t\t// The above condition is to handle null placeholders. See test in placeholder.test.js:\n\t\t\t// `efficiently replace null placeholders in parent rerenders`\n\t\t\toldDom = getDomSibling(oldVNode);\n\t\t}\n\t}\n\n\tnewParentVNode._dom = firstChildDom;\n\n\t// Remove remaining oldChildren if there are any.\n\tfor (i = oldChildrenLength; i--; ) {\n\t\tif (oldChildren[i] != null) {\n\t\t\tunmount(oldChildren[i], oldChildren[i]);\n\t\t}\n\t}\n\n\t// Set refs only after unmount\n\tif (refs) {\n\t\tfor (i = 0; i < refs.length; i++) {\n\t\t\tapplyRef(refs[i], refs[++i], refs[++i]);\n\t\t}\n\t}\n}\n\nfunction reorderChildren(childVNode, oldDom, parentDom) {\n\t// Note: VNodes in nested suspended trees may be missing _children.\n\tlet c = childVNode._children;\n\tlet tmp = 0;\n\tfor (; c && tmp < c.length; tmp++) {\n\t\tlet vnode = c[tmp];\n\t\tif (vnode) {\n\t\t\t// We typically enter this code path on sCU bailout, where we copy\n\t\t\t// oldVNode._children to newVNode._children. If that is the case, we need\n\t\t\t// to update the old children's _parent pointer to point to the newVNode\n\t\t\t// (childVNode here).\n\t\t\tvnode._parent = childVNode;\n\n\t\t\tif (typeof vnode.type == 'function') {\n\t\t\t\toldDom = reorderChildren(vnode, oldDom, parentDom);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(parentDom, vnode, vnode, c, vnode._dom, oldDom);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn oldDom;\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {import('../index').ComponentChildren} children The unflattened\n * children of a virtual node\n * @returns {import('../internal').VNode[]}\n */\nexport function toChildArray(children, out) {\n\tout = out || [];\n\tif (children == null || typeof children == 'boolean') {\n\t} else if (Array.isArray(children)) {\n\t\tchildren.some(child => {\n\t\t\ttoChildArray(child, out);\n\t\t});\n\t} else {\n\t\tout.push(children);\n\t}\n\treturn out;\n}\n\nfunction placeChild(\n\tparentDom,\n\tchildVNode,\n\toldVNode,\n\toldChildren,\n\tnewDom,\n\toldDom\n) {\n\tlet nextDom;\n\tif (childVNode._nextDom !== undefined) {\n\t\t// Only Fragments or components that return Fragment like VNodes will\n\t\t// have a non-undefined _nextDom. Continue the diff from the sibling\n\t\t// of last DOM child of this child VNode\n\t\tnextDom = childVNode._nextDom;\n\n\t\t// Eagerly cleanup _nextDom. We don't need to persist the value because\n\t\t// it is only used by `diffChildren` to determine where to resume the diff after\n\t\t// diffing Components and Fragments. Once we store it the nextDOM local var, we\n\t\t// can clean up the property\n\t\tchildVNode._nextDom = undefined;\n\t} else if (\n\t\toldVNode == null ||\n\t\tnewDom != oldDom ||\n\t\tnewDom.parentNode == null\n\t) {\n\t\touter: if (oldDom == null || oldDom.parentNode !== parentDom) {\n\t\t\tparentDom.appendChild(newDom);\n\t\t\tnextDom = null;\n\t\t} else {\n\t\t\t// `j<oldChildrenLength; j+=2` is an alternative to `j++<oldChildrenLength/2`\n\t\t\tfor (\n\t\t\t\tlet sibDom = oldDom, j = 0;\n\t\t\t\t(sibDom = sibDom.nextSibling) && j < oldChildren.length;\n\t\t\t\tj += 2\n\t\t\t) {\n\t\t\t\tif (sibDom == newDom) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t}\n\t\t\tparentDom.insertBefore(newDom, oldDom);\n\t\t\tnextDom = oldDom;\n\t\t}\n\t}\n\n\t// If we have pre-calculated the nextDOM node, use it. Else calculate it now\n\t// Strictly check for `undefined` here cuz `null` is a valid value of `nextDom`.\n\t// See more detail in create-element.js:createVNode\n\tif (nextDom !== undefined) {\n\t\toldDom = nextDom;\n\t} else {\n\t\toldDom = newDom.nextSibling;\n\t}\n\n\treturn oldDom;\n}\n","import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\n/**\n * Diff the old and new properties of a VNode and apply changes to the DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to apply\n * changes to\n * @param {object} newProps The new props\n * @param {object} oldProps The old props\n * @param {boolean} isSvg Whether or not this node is an SVG node\n * @param {boolean} hydrate Whether or not we are in hydration mode\n */\nexport function diffProps(dom, newProps, oldProps, isSvg, hydrate) {\n\tlet i;\n\n\tfor (i in oldProps) {\n\t\tif (i !== 'children' && i !== 'key' && !(i in newProps)) {\n\t\t\tsetProperty(dom, i, null, oldProps[i], isSvg);\n\t\t}\n\t}\n\n\tfor (i in newProps) {\n\t\tif (\n\t\t\t(!hydrate || typeof newProps[i] == 'function') &&\n\t\t\ti !== 'children' &&\n\t\t\ti !== 'key' &&\n\t\t\ti !== 'value' &&\n\t\t\ti !== 'checked' &&\n\t\t\toldProps[i] !== newProps[i]\n\t\t) {\n\t\t\tsetProperty(dom, i, newProps[i], oldProps[i], isSvg);\n\t\t}\n\t}\n}\n\nfunction setStyle(style, key, value) {\n\tif (key[0] === '-') {\n\t\tstyle.setProperty(key, value);\n\t} else if (value == null) {\n\t\tstyle[key] = '';\n\t} else if (typeof value != 'number' || IS_NON_DIMENSIONAL.test(key)) {\n\t\tstyle[key] = value;\n\t} else {\n\t\tstyle[key] = value + 'px';\n\t}\n}\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node or not\n */\nexport function setProperty(dom, name, value, oldValue, isSvg) {\n\tlet useCapture;\n\n\to: if (name === 'style') {\n\t\tif (typeof value == 'string') {\n\t\t\tdom.style.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue == 'string') {\n\t\t\t\tdom.style.cssText = oldValue = '';\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (name in oldValue) {\n\t\t\t\t\tif (!(value && name in value)) {\n\t\t\t\t\t\tsetStyle(dom.style, name, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (name in value) {\n\t\t\t\t\tif (!oldValue || value[name] !== oldValue[name]) {\n\t\t\t\t\t\tsetStyle(dom.style, name, value[name]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] === 'o' && name[1] === 'n') {\n\t\tuseCapture = name !== (name = name.replace(/Capture$/, ''));\n\n\t\t// Infer correct casing for DOM built-in events:\n\t\tif (name.toLowerCase() in dom) name = name.toLowerCase().slice(2);\n\t\telse name = name.slice(2);\n\n\t\tif (!dom._listeners) dom._listeners = {};\n\t\tdom._listeners[name + useCapture] = value;\n\n\t\tif (value) {\n\t\t\tif (!oldValue) {\n\t\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\t\tdom.addEventListener(name, handler, useCapture);\n\t\t\t}\n\t\t} else {\n\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\tdom.removeEventListener(name, handler, useCapture);\n\t\t}\n\t} else if (name !== 'dangerouslySetInnerHTML') {\n\t\tif (isSvg) {\n\t\t\t// Normalize incorrect prop usage for SVG:\n\t\t\t// - xlink:href / xlinkHref --> href (xlink:href was removed from SVG and isn't needed)\n\t\t\t// - className --> class\n\t\t\tname = name.replace(/xlink(H|:h)/, 'h').replace(/sName$/, 's');\n\t\t} else if (\n\t\t\tname !== 'href' &&\n\t\t\tname !== 'list' &&\n\t\t\tname !== 'form' &&\n\t\t\t// Default value in browsers is `-1` and an empty string is\n\t\t\t// cast to `0` instead\n\t\t\tname !== 'tabIndex' &&\n\t\t\tname !== 'download' &&\n\t\t\tname in dom\n\t\t) {\n\t\t\ttry {\n\t\t\t\tdom[name] = value == null ? '' : value;\n\t\t\t\t// labelled break is 1b smaller here than a return statement (sorry)\n\t\t\t\tbreak o;\n\t\t\t} catch (e) {}\n\t\t}\n\n\t\t// ARIA-attributes have a different notion of boolean values.\n\t\t// The value `false` is different from the attribute not\n\t\t// existing on the DOM, so we can't remove it. For non-boolean\n\t\t// ARIA-attributes we could treat false as a removal, but the\n\t\t// amount of exceptions would cost us too many bytes. On top of\n\t\t// that other VDOM frameworks also always stringify `false`.\n\n\t\tif (typeof value === 'function') {\n\t\t\t// never serialize functions as attribute values\n\t\t} else if (value != null && (value !== false || name.indexOf('-') != -1)) {\n\t\t\tdom.setAttribute(name, value);\n\t\t} else {\n\t\t\tdom.removeAttribute(name);\n\t\t}\n\t}\n}\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n\tthis._listeners[e.type + false](options.event ? options.event(e) : e);\n}\n\nfunction eventProxyCapture(e) {\n\tthis._listeners[e.type + true](options.event ? options.event(e) : e);\n}\n","import { EMPTY_OBJ } from '../constants';\nimport { Component, getDomSibling } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren } from './children';\nimport { diffProps, setProperty } from './props';\nimport { assign, removeNode, slice } from '../util';\nimport options from '../options';\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {import('../internal').PreactElement} parentDom The parent of the DOM element\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by getChildContext\n * @param {boolean} isSvg Whether or not this element is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} [isHydrating] Whether or not we are in hydration\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor !== undefined) return null;\n\n\t// If the previous diff bailed out, resume creating/hydrating.\n\tif (oldVNode._hydrating != null) {\n\t\tisHydrating = oldVNode._hydrating;\n\t\toldDom = newVNode._dom = oldVNode._dom;\n\t\t// if we resume, we want the tree to be \"unlocked\"\n\t\tnewVNode._hydrating = null;\n\t\texcessDomChildren = [oldDom];\n\t}\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\ttry {\n\t\touter: if (typeof newType == 'function') {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\t\t// @ts-ignore The check above verifies that newType is suppose to be constructed\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\t// @ts-ignore Trust me, Component implements the interface we want\n\t\t\t\t\tnewVNode._component = c = new Component(newProps, componentContext);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = componentContext;\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (c._nextState == null) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\n\t\t\tif (newType.getDerivedStateFromProps != null) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tc.componentWillMount != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidMount != null) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t(!c._force &&\n\t\t\t\t\t\tc.shouldComponentUpdate != null &&\n\t\t\t\t\t\tc.shouldComponentUpdate(\n\t\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\t\tc._nextState,\n\t\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t\t) === false) ||\n\t\t\t\t\tnewVNode._original === oldVNode._original\n\t\t\t\t) {\n\t\t\t\t\tc.props = newProps;\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\t// More info about this here: https://gist.github.com/JoviDeCroock/bec5f2ce93544d2e6070ef8e0036e4e8\n\t\t\t\t\tif (newVNode._original !== oldVNode._original) c._dirty = false;\n\t\t\t\t\tc._vnode = newVNode;\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tnewVNode._children.forEach(vnode => {\n\t\t\t\t\t\tif (vnode) vnode._parent = newVNode;\n\t\t\t\t\t});\n\n\t\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t\t}\n\t\t\t\t\tc._stateCallbacks = [];\n\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != null) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidUpdate != null) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc._vnode = newVNode;\n\t\t\tc._parentDom = parentDom;\n\n\t\t\tlet renderHook = options._render,\n\t\t\t\tcount = 0;\n\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\tc.state = c._nextState;\n\t\t\t\tc._dirty = false;\n\n\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t}\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t} else {\n\t\t\t\tdo {\n\t\t\t\t\tc._dirty = false;\n\t\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\t\t// Handle setState called in render, see #2553\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t} while (c._dirty && ++count < 25);\n\t\t\t}\n\n\t\t\t// Handle setState called in render, see #2553\n\t\t\tc.state = c._nextState;\n\n\t\t\tif (c.getChildContext != null) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (!isNew && c.getSnapshotBeforeUpdate != null) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != null && tmp.type === Fragment && tmp.key == null;\n\t\t\tlet renderResult = isTopLevelFragment ? tmp.props.children : tmp;\n\n\t\t\tdiffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tArray.isArray(renderResult) ? renderResult : [renderResult],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\t// We successfully rendered this VNode, unset any stored hydration/bailout state:\n\t\t\tnewVNode._hydrating = null;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = null;\n\t\t\t}\n\n\t\t\tc._force = false;\n\t\t} else if (\n\t\t\texcessDomChildren == null &&\n\t\t\tnewVNode._original === oldVNode._original\n\t\t) {\n\t\t\tnewVNode._children = oldVNode._children;\n\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t} else {\n\t\t\tnewVNode._dom = diffElementNodes(\n\t\t\t\toldVNode._dom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\tisHydrating\n\t\t\t);\n\t\t}\n\n\t\tif ((tmp = options.diffed)) tmp(newVNode);\n\t} catch (e) {\n\t\tnewVNode._original = null;\n\t\t// if hydrating or creating initial tree, bailout preserves DOM:\n\t\tif (isHydrating || excessDomChildren != null) {\n\t\t\tnewVNode._dom = oldDom;\n\t\t\tnewVNode._hydrating = !!isHydrating;\n\t\t\texcessDomChildren[excessDomChildren.indexOf(oldDom)] = null;\n\t\t\t// ^ could possibly be simplified to:\n\t\t\t// excessDomChildren.length = 0;\n\t\t}\n\t\toptions._catchError(e, newVNode, oldVNode);\n\t}\n}\n\n/**\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').VNode} root\n */\nexport function commitRoot(commitQueue, root) {\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\t// @ts-ignore Reuse the commitQueue variable here so the type changes\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\t// @ts-ignore See above ts-ignore on commitQueue\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {import('../internal').PreactElement} dom The DOM element representing\n * the virtual nodes being diffed\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {*} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @returns {import('../internal').PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating\n) {\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\tlet nodeType = newVNode.type;\n\tlet i = 0;\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tif (nodeType === 'svg') isSvg = true;\n\n\tif (excessDomChildren != null) {\n\t\tfor (; i < excessDomChildren.length; i++) {\n\t\t\tconst child = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\tif (\n\t\t\t\tchild &&\n\t\t\t\t'setAttribute' in child === !!nodeType &&\n\t\t\t\t(nodeType ? child.localName === nodeType : child.nodeType === 3)\n\t\t\t) {\n\t\t\t\tdom = child;\n\t\t\t\texcessDomChildren[i] = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == null) {\n\t\tif (nodeType === null) {\n\t\t\t// @ts-ignore createTextNode returns Text, we expect PreactElement\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tif (isSvg) {\n\t\t\tdom = document.createElementNS(\n\t\t\t\t'http://www.w3.org/2000/svg',\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType\n\t\t\t);\n\t\t} else {\n\t\t\tdom = document.createElement(\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType,\n\t\t\t\tnewProps.is && newProps\n\t\t\t);\n\t\t}\n\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = null;\n\t\t// we are creating a new node, so we can assume this is a new subtree (in case we are hydrating), this deopts the hydrate\n\t\tisHydrating = false;\n\t}\n\n\tif (nodeType === null) {\n\t\t// During hydration, we still have to split merged text from SSR'd HTML.\n\t\tif (oldProps !== newProps && (!isHydrating || dom.data !== newProps)) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else {\n\t\t// If excessDomChildren was not null, repopulate it with the current element's children:\n\t\texcessDomChildren = excessDomChildren && slice.call(dom.childNodes);\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\tlet oldHtml = oldProps.dangerouslySetInnerHTML;\n\t\tlet newHtml = newProps.dangerouslySetInnerHTML;\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tif (!isHydrating) {\n\t\t\t// But, if we are in a situation where we are using existing DOM (e.g. replaceNode)\n\t\t\t// we should read the existing DOM attributes to diff them\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\toldProps = {};\n\t\t\t\tfor (i = 0; i < dom.attributes.length; i++) {\n\t\t\t\t\toldProps[dom.attributes[i].name] = dom.attributes[i].value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (newHtml || oldHtml) {\n\t\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\t\tif (\n\t\t\t\t\t!newHtml ||\n\t\t\t\t\t((!oldHtml || newHtml.__html != oldHtml.__html) &&\n\t\t\t\t\t\tnewHtml.__html !== dom.innerHTML)\n\t\t\t\t) {\n\t\t\t\t\tdom.innerHTML = (newHtml && newHtml.__html) || '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdiffProps(dom, newProps, oldProps, isSvg, isHydrating);\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (newHtml) {\n\t\t\tnewVNode._children = [];\n\t\t} else {\n\t\t\ti = newVNode.props.children;\n\t\t\tdiffChildren(\n\t\t\t\tdom,\n\t\t\t\tArray.isArray(i) ? i : [i],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg && nodeType !== 'foreignObject',\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\texcessDomChildren\n\t\t\t\t\t? excessDomChildren[0]\n\t\t\t\t\t: oldVNode._children && getDomSibling(oldVNode, 0),\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\t// Remove children that are not part of any vnode.\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\t\t\tif (excessDomChildren[i] != null) removeNode(excessDomChildren[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// (as above, don't diff props during hydration)\n\t\tif (!isHydrating) {\n\t\t\tif (\n\t\t\t\t'value' in newProps &&\n\t\t\t\t(i = newProps.value) !== undefined &&\n\t\t\t\t// #2756 For the <progress>-element the initial value is 0,\n\t\t\t\t// despite the attribute not being present. When the attribute\n\t\t\t\t// is missing the progress bar is treated as indeterminate.\n\t\t\t\t// To fix that we'll always update it when it is 0 for progress elements\n\t\t\t\t(i !== dom.value ||\n\t\t\t\t\t(nodeType === 'progress' && !i) ||\n\t\t\t\t\t// This is only for IE 11 to fix <select> value not being updated.\n\t\t\t\t\t// To avoid a stale select value we need to set the option.value\n\t\t\t\t\t// again, which triggers IE11 to re-evaluate the select value\n\t\t\t\t\t(nodeType === 'option' && i !== oldProps.value))\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'value', i, oldProps.value, false);\n\t\t\t}\n\t\t\tif (\n\t\t\t\t'checked' in newProps &&\n\t\t\t\t(i = newProps.checked) !== undefined &&\n\t\t\t\ti !== dom.checked\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'checked', i, oldProps.checked, false);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {object|function} ref\n * @param {any} value\n * @param {import('../internal').VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') ref(value);\n\t\telse ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {import('../internal').VNode} vnode The virtual node to unmount\n * @param {import('../internal').VNode} parentVNode The parent of the VNode that\n * initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current === vnode._dom) {\n\t\t\tapplyRef(r, null, parentVNode);\n\t\t}\n\t}\n\n\tif ((r = vnode._component) != null) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = null;\n\t\tvnode._component = undefined;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) {\n\t\t\t\tunmount(\n\t\t\t\t\tr[i],\n\t\t\t\t\tparentVNode,\n\t\t\t\t\tskipRemove || typeof vnode.type !== 'function'\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!skipRemove && vnode._dom != null) {\n\t\tremoveNode(vnode._dom);\n\t}\n\n\t// Must be set to `undefined` to properly clean up `_nextDom`\n\t// for which `null` is a valid value. See comment in `create-element.js`\n\tvnode._parent = vnode._dom = vnode._nextDom = undefined;\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n","import { EMPTY_OBJ } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\nimport { slice } from './util';\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * render into\n * @param {import('./internal').PreactElement | object} [replaceNode] Optional: Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\tif (options._root) options._root(vnode, parentDom);\n\n\t// We abuse the `replaceNode` parameter in `hydrate()` to signal if we are in\n\t// hydration mode or not by passing the `hydrate` function instead of a DOM\n\t// element..\n\tlet isHydrating = typeof replaceNode === 'function';\n\n\t// To be able to support calling `render()` multiple times on the same\n\t// DOM node, we need to obtain a reference to the previous tree. We do\n\t// this by assigning a new `_children` property to DOM nodes which points\n\t// to the last rendered tree. By default this property is not present, which\n\t// means that we are mounting a new tree for the first time.\n\tlet oldVNode = isHydrating\n\t\t? null\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\n\tvnode = (\n\t\t(!isHydrating && replaceNode) ||\n\t\tparentDom\n\t)._children = createElement(Fragment, null, [vnode]);\n\n\t// List of effects that need to be called after diffing.\n\tlet commitQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t// Determine the new vnode tree and store it on the DOM element on\n\t\t// our custom `_children` property.\n\t\tvnode,\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.ownerSVGElement !== undefined,\n\t\t!isHydrating && replaceNode\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t? null\n\t\t\t: parentDom.firstChild\n\t\t\t? slice.call(parentDom.childNodes)\n\t\t\t: null,\n\t\tcommitQueue,\n\t\t!isHydrating && replaceNode\n\t\t\t? replaceNode\n\t\t\t: oldVNode\n\t\t\t? oldVNode._dom\n\t\t\t: parentDom.firstChild,\n\t\tisHydrating\n\t);\n\n\t// Flush all queued effects\n\tcommitRoot(commitQueue, vnode);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, hydrate);\n}\n","export default function has(object, key) {\n  return Object.prototype.hasOwnProperty.call(object, key);\n}","function _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\n\nvar id = 0;\n\nfunction _classPrivateFieldLooseKey(name) { return \"__private_\" + id++ + \"_\" + name; }\n\nimport has from './hasProperty.js';\n\nfunction insertReplacement(source, rx, replacement) {\n  const newParts = [];\n  source.forEach(chunk => {\n    // When the source contains multiple placeholders for interpolation,\n    // we should ignore chunks that are not strings, because those\n    // can be JSX objects and will be otherwise incorrectly turned into strings.\n    // Without this condition wed get this: [object Object] hello [object Object] my <button>\n    if (typeof chunk !== 'string') {\n      return newParts.push(chunk);\n    }\n\n    return rx[Symbol.split](chunk).forEach((raw, i, list) => {\n      if (raw !== '') {\n        newParts.push(raw);\n      } // Interlace with the `replacement` value\n\n\n      if (i < list.length - 1) {\n        newParts.push(replacement);\n      }\n    });\n  });\n  return newParts;\n}\n/**\n * Takes a string with placeholder variables like `%{smart_count} file selected`\n * and replaces it with values from options `{smart_count: 5}`\n *\n * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE\n * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299\n *\n * @param {string} phrase that needs interpolation, with placeholders\n * @param {object} options with values that will be used to replace placeholders\n * @returns {any[]} interpolated\n */\n\n\nfunction interpolate(phrase, options) {\n  const dollarRegex = /\\$/g;\n  const dollarBillsYall = '$$$$';\n  let interpolated = [phrase];\n  if (options == null) return interpolated;\n\n  for (const arg of Object.keys(options)) {\n    if (arg !== '_') {\n      // Ensure replacement value is escaped to prevent special $-prefixed\n      // regex replace tokens. the \"$$$$\" is needed because each \"$\" needs to\n      // be escaped with \"$\" itself, and we need two in the resulting output.\n      let replacement = options[arg];\n\n      if (typeof replacement === 'string') {\n        replacement = dollarRegex[Symbol.replace](replacement, dollarBillsYall);\n      } // We create a new `RegExp` each time instead of using a more-efficient\n      // string replace so that the same argument can be replaced multiple times\n      // in the same phrase.\n\n\n      interpolated = insertReplacement(interpolated, new RegExp(`%\\\\{${arg}\\\\}`, 'g'), replacement);\n    }\n  }\n\n  return interpolated;\n}\n/**\n * Translates strings with interpolation & pluralization support.\n * Extensible with custom dictionaries and pluralization functions.\n *\n * Borrows heavily from and inspired by Polyglot https://github.com/airbnb/polyglot.js,\n * basically a stripped-down version of it. Differences: pluralization functions are not hardcoded\n * and can be easily added among with dictionaries, nested objects are used for pluralization\n * as opposed to `||||` delimeter\n *\n * Usage example: `translator.translate('files_chosen', {smart_count: 3})`\n */\n\n\nvar _apply = /*#__PURE__*/_classPrivateFieldLooseKey(\"apply\");\n\nexport default class Translator {\n  /**\n   * @param {object|Array<object>} locales - locale or list of locales.\n   */\n  constructor(locales) {\n    Object.defineProperty(this, _apply, {\n      value: _apply2\n    });\n    this.locale = {\n      strings: {},\n\n      pluralize(n) {\n        if (n === 1) {\n          return 0;\n        }\n\n        return 1;\n      }\n\n    };\n\n    if (Array.isArray(locales)) {\n      locales.forEach(_classPrivateFieldLooseBase(this, _apply)[_apply], this);\n    } else {\n      _classPrivateFieldLooseBase(this, _apply)[_apply](locales);\n    }\n  }\n\n  /**\n   * Public translate method\n   *\n   * @param {string} key\n   * @param {object} options with values that will be used later to replace placeholders in string\n   * @returns {string} translated (and interpolated)\n   */\n  translate(key, options) {\n    return this.translateArray(key, options).join('');\n  }\n  /**\n   * Get a translation and return the translated and interpolated parts as an array.\n   *\n   * @param {string} key\n   * @param {object} options with values that will be used to replace placeholders\n   * @returns {Array} The translated and interpolated parts, in order.\n   */\n\n\n  translateArray(key, options) {\n    if (!has(this.locale.strings, key)) {\n      throw new Error(`missing string: ${key}`);\n    }\n\n    const string = this.locale.strings[key];\n    const hasPluralForms = typeof string === 'object';\n\n    if (hasPluralForms) {\n      if (options && typeof options.smart_count !== 'undefined') {\n        const plural = this.locale.pluralize(options.smart_count);\n        return interpolate(string[plural], options);\n      }\n\n      throw new Error('Attempted to use a string with plural forms, but no value was given for %{smart_count}');\n    }\n\n    return interpolate(string, options);\n  }\n\n}\n\nfunction _apply2(locale) {\n  if (!(locale != null && locale.strings)) {\n    return;\n  }\n\n  const prevLocale = this.locale;\n  this.locale = { ...prevLocale,\n    strings: { ...prevLocale.strings,\n      ...locale.strings\n    }\n  };\n  this.locale.pluralize = locale.pluralize || prevLocale.pluralize;\n}","/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw\n * the error that was caught (except for unmounting when this parameter\n * is the highest parent that was being unmounted)\n * @param {import('../internal').VNode} [oldVNode]\n * @param {import('../internal').ErrorInfo} [errorInfo]\n */\nexport function _catchError(error, vnode, oldVNode, errorInfo) {\n\t/** @type {import('../internal').Component} */\n\tlet component, ctor, handled;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tctor = component.constructor;\n\n\t\t\t\tif (ctor && ctor.getDerivedStateFromError != null) {\n\t\t\t\t\tcomponent.setState(ctor.getDerivedStateFromError(error));\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != null) {\n\t\t\t\t\tcomponent.componentDidCatch(error, errorInfo || {});\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\t// This is an error boundary. Mark it as having bailed out, and whether it was mid-hydration.\n\t\t\t\tif (handled) {\n\t\t\t\t\treturn (component._pendingError = component);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n","/**\n* Create an event emitter with namespaces\n* @name createNamespaceEmitter\n* @example\n* var emitter = require('./index')()\n*\n* emitter.on('*', function () {\n*   console.log('all events emitted', this.event)\n* })\n*\n* emitter.on('example', function () {\n*   console.log('example event emitted')\n* })\n*/\nmodule.exports = function createNamespaceEmitter () {\n  var emitter = {}\n  var _fns = emitter._fns = {}\n\n  /**\n  * Emit an event. Optionally namespace the event. Handlers are fired in the order in which they were added with exact matches taking precedence. Separate the namespace and event with a `:`\n  * @name emit\n  * @param {String} event  the name of the event, with optional namespace\n  * @param {...*} data  up to 6 arguments that are passed to the event listener\n  * @example\n  * emitter.emit('example')\n  * emitter.emit('demo:test')\n  * emitter.emit('data', { example: true}, 'a string', 1)\n  */\n  emitter.emit = function emit (event, arg1, arg2, arg3, arg4, arg5, arg6) {\n    var toEmit = getListeners(event)\n\n    if (toEmit.length) {\n      emitAll(event, toEmit, [arg1, arg2, arg3, arg4, arg5, arg6])\n    }\n  }\n\n  /**\n  * Create en event listener.\n  * @name on\n  * @param {String} event\n  * @param {Function} fn\n  * @example\n  * emitter.on('example', function () {})\n  * emitter.on('demo', function () {})\n  */\n  emitter.on = function on (event, fn) {\n    if (!_fns[event]) {\n      _fns[event] = []\n    }\n\n    _fns[event].push(fn)\n  }\n\n  /**\n  * Create en event listener that fires once.\n  * @name once\n  * @param {String} event\n  * @param {Function} fn\n  * @example\n  * emitter.once('example', function () {})\n  * emitter.once('demo', function () {})\n  */\n  emitter.once = function once (event, fn) {\n    function one () {\n      fn.apply(this, arguments)\n      emitter.off(event, one)\n    }\n    this.on(event, one)\n  }\n\n  /**\n  * Stop listening to an event. Stop all listeners on an event by only passing the event name. Stop a single listener by passing that event handler as a callback.\n  * You must be explicit about what will be unsubscribed: `emitter.off('demo')` will unsubscribe an `emitter.on('demo')` listener,\n  * `emitter.off('demo:example')` will unsubscribe an `emitter.on('demo:example')` listener\n  * @name off\n  * @param {String} event\n  * @param {Function} [fn]  the specific handler\n  * @example\n  * emitter.off('example')\n  * emitter.off('demo', function () {})\n  */\n  emitter.off = function off (event, fn) {\n    var keep = []\n\n    if (event && fn) {\n      var fns = this._fns[event]\n      var i = 0\n      var l = fns ? fns.length : 0\n\n      for (i; i < l; i++) {\n        if (fns[i] !== fn) {\n          keep.push(fns[i])\n        }\n      }\n    }\n\n    keep.length ? this._fns[event] = keep : delete this._fns[event]\n  }\n\n  function getListeners (e) {\n    var out = _fns[e] ? _fns[e] : []\n    var idx = e.indexOf(':')\n    var args = (idx === -1) ? [e] : [e.substring(0, idx), e.substring(idx + 1)]\n\n    var keys = Object.keys(_fns)\n    var i = 0\n    var l = keys.length\n\n    for (i; i < l; i++) {\n      var key = keys[i]\n      if (key === '*') {\n        out = out.concat(_fns[key])\n      }\n\n      if (args.length === 2 && args[0] === key) {\n        out = out.concat(_fns[key])\n        break\n      }\n    }\n\n    return out\n  }\n\n  function emitAll (e, fns, args) {\n    var i = 0\n    var l = fns.length\n\n    for (i; i < l; i++) {\n      if (!fns[i]) break\n      fns[i].event = e\n      fns[i].apply(fns[i], args)\n    }\n  }\n\n  return emitter\n}\n","let urlAlphabet =\n  'useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict'\nexport let customAlphabet = (alphabet, defaultSize = 21) => {\n  return (size = defaultSize) => {\n    let id = ''\n    let i = size\n    while (i--) {\n      id += alphabet[(Math.random() * alphabet.length) | 0]\n    }\n    return id\n  }\n}\nexport let nanoid = (size = 21) => {\n  let id = ''\n  let i = size\n  while (i--) {\n    id += urlAlphabet[(Math.random() * 64) | 0]\n  }\n  return id\n}\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = throttle;\n","function _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\n\nvar id = 0;\n\nfunction _classPrivateFieldLooseKey(name) { return \"__private_\" + id++ + \"_\" + name; }\n\nconst packageJson = {\n  \"version\": \"3.0.2\"\n};\n/**\n * Default store that keeps state in a simple object.\n */\n\nvar _callbacks = /*#__PURE__*/_classPrivateFieldLooseKey(\"callbacks\");\n\nvar _publish = /*#__PURE__*/_classPrivateFieldLooseKey(\"publish\");\n\nclass DefaultStore {\n  constructor() {\n    Object.defineProperty(this, _publish, {\n      value: _publish2\n    });\n    Object.defineProperty(this, _callbacks, {\n      writable: true,\n      value: new Set()\n    });\n    this.state = {};\n  }\n\n  getState() {\n    return this.state;\n  }\n\n  setState(patch) {\n    const prevState = { ...this.state\n    };\n    const nextState = { ...this.state,\n      ...patch\n    };\n    this.state = nextState;\n\n    _classPrivateFieldLooseBase(this, _publish)[_publish](prevState, nextState, patch);\n  }\n\n  subscribe(listener) {\n    _classPrivateFieldLooseBase(this, _callbacks)[_callbacks].add(listener);\n\n    return () => {\n      _classPrivateFieldLooseBase(this, _callbacks)[_callbacks].delete(listener);\n    };\n  }\n\n}\n\nfunction _publish2() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  _classPrivateFieldLooseBase(this, _callbacks)[_callbacks].forEach(listener => {\n    listener(...args);\n  });\n}\n\nDefaultStore.VERSION = packageJson.version;\nexport default DefaultStore;","/**\n * Takes a full filename string and returns an object {name, extension}\n *\n * @param {string} fullFileName\n * @returns {object} {name, extension}\n */\nexport default function getFileNameAndExtension(fullFileName) {\n  const lastDot = fullFileName.lastIndexOf('.'); // these count as no extension: \"no-dot\", \"trailing-dot.\"\n\n  if (lastDot === -1 || lastDot === fullFileName.length - 1) {\n    return {\n      name: fullFileName,\n      extension: undefined\n    };\n  }\n\n  return {\n    name: fullFileName.slice(0, lastDot),\n    extension: fullFileName.slice(lastDot + 1)\n  };\n}","// ___Why not add the mime-types package?\n//    It's 19.7kB gzipped, and we only need mime types for well-known extensions (for file previews).\n// ___Where to take new extensions from?\n//    https://github.com/jshttp/mime-db/blob/master/db.json\nexport default {\n  md: 'text/markdown',\n  markdown: 'text/markdown',\n  mp4: 'video/mp4',\n  mp3: 'audio/mp3',\n  svg: 'image/svg+xml',\n  jpg: 'image/jpeg',\n  png: 'image/png',\n  webp: 'image/webp',\n  gif: 'image/gif',\n  heic: 'image/heic',\n  heif: 'image/heif',\n  yaml: 'text/yaml',\n  yml: 'text/yaml',\n  csv: 'text/csv',\n  tsv: 'text/tab-separated-values',\n  tab: 'text/tab-separated-values',\n  avi: 'video/x-msvideo',\n  mks: 'video/x-matroska',\n  mkv: 'video/x-matroska',\n  mov: 'video/quicktime',\n  dicom: 'application/dicom',\n  doc: 'application/msword',\n  docm: 'application/vnd.ms-word.document.macroenabled.12',\n  docx: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n  dot: 'application/msword',\n  dotm: 'application/vnd.ms-word.template.macroenabled.12',\n  dotx: 'application/vnd.openxmlformats-officedocument.wordprocessingml.template',\n  xla: 'application/vnd.ms-excel',\n  xlam: 'application/vnd.ms-excel.addin.macroenabled.12',\n  xlc: 'application/vnd.ms-excel',\n  xlf: 'application/x-xliff+xml',\n  xlm: 'application/vnd.ms-excel',\n  xls: 'application/vnd.ms-excel',\n  xlsb: 'application/vnd.ms-excel.sheet.binary.macroenabled.12',\n  xlsm: 'application/vnd.ms-excel.sheet.macroenabled.12',\n  xlsx: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n  xlt: 'application/vnd.ms-excel',\n  xltm: 'application/vnd.ms-excel.template.macroenabled.12',\n  xltx: 'application/vnd.openxmlformats-officedocument.spreadsheetml.template',\n  xlw: 'application/vnd.ms-excel',\n  txt: 'text/plain',\n  text: 'text/plain',\n  conf: 'text/plain',\n  log: 'text/plain',\n  pdf: 'application/pdf',\n  zip: 'application/zip',\n  '7z': 'application/x-7z-compressed',\n  rar: 'application/x-rar-compressed',\n  tar: 'application/x-tar',\n  gz: 'application/gzip',\n  dmg: 'application/x-apple-diskimage'\n};","import getFileNameAndExtension from './getFileNameAndExtension.js';\nimport mimeTypes from './mimeTypes.js';\nexport default function getFileType(file) {\n  var _getFileNameAndExtens;\n\n  if (file.type) return file.type;\n  const fileExtension = file.name ? (_getFileNameAndExtens = getFileNameAndExtension(file.name).extension) == null ? void 0 : _getFileNameAndExtens.toLowerCase() : null;\n\n  if (fileExtension && fileExtension in mimeTypes) {\n    // else, see if we can map extension to a mime type\n    return mimeTypes[fileExtension];\n  } // if all fails, fall back to a generic byte stream type\n\n\n  return 'application/octet-stream';\n}","function encodeCharacter(character) {\n  return character.charCodeAt(0).toString(32);\n}\n\nfunction encodeFilename(name) {\n  let suffix = '';\n  return name.replace(/[^A-Z0-9]/ig, character => {\n    suffix += `-${encodeCharacter(character)}`;\n    return '/';\n  }) + suffix;\n}\n/**\n * Takes a file object and turns it into fileID, by converting file.name to lowercase,\n * removing extra characters and adding type, size and lastModified\n *\n * @param {object} file\n * @returns {string} the fileID\n */\n\n\nexport default function generateFileID(file) {\n  // It's tempting to do `[items].filter(Boolean).join('-')` here, but that\n  // is slower! simple string concatenation is fast\n  let id = 'uppy';\n\n  if (typeof file.name === 'string') {\n    id += `-${encodeFilename(file.name.toLowerCase())}`;\n  }\n\n  if (file.type !== undefined) {\n    id += `-${file.type}`;\n  }\n\n  if (file.meta && typeof file.meta.relativePath === 'string') {\n    id += `-${encodeFilename(file.meta.relativePath.toLowerCase())}`;\n  }\n\n  if (file.data.size !== undefined) {\n    id += `-${file.data.size}`;\n  }\n\n  if (file.data.lastModified !== undefined) {\n    id += `-${file.data.lastModified}`;\n  }\n\n  return id;\n}","// Edge 15.x does not fire 'progress' events on uploads.\n// See https://github.com/transloadit/uppy/issues/945\n// And https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/12224510/\nexport default function supportsUploadProgress(userAgent) {\n  // Allow passing in userAgent for tests\n  if (userAgent == null && typeof navigator !== 'undefined') {\n    // eslint-disable-next-line no-param-reassign\n    userAgent = navigator.userAgent;\n  } // Assume it works because basically everything supports progress events.\n\n\n  if (!userAgent) return true;\n  const m = /Edge\\/(\\d+\\.\\d+)/.exec(userAgent);\n  if (!m) return true;\n  const edgeVersion = m[1];\n  let [major, minor] = edgeVersion.split('.');\n  major = parseInt(major, 10);\n  minor = parseInt(minor, 10); // Worked before:\n  // Edge 40.15063.0.0\n  // Microsoft EdgeHTML 15.15063\n\n  if (major < 15 || major === 15 && minor < 15063) {\n    return true;\n  } // Fixed in:\n  // Microsoft EdgeHTML 18.18218\n\n\n  if (major > 18 || major === 18 && minor >= 18218) {\n    return true;\n  } // other versions don't work.\n\n\n  return false;\n}","export default function getFileName(fileType, fileDescriptor) {\n  if (fileDescriptor.name) {\n    return fileDescriptor.name;\n  }\n\n  if (fileType.split('/')[0] === 'image') {\n    return `${fileType.split('/')[0]}.${fileType.split('/')[1]}`;\n  }\n\n  return 'noname';\n}","/**\n * Adds zero to strings shorter than two characters.\n *\n * @param {number} number\n * @returns {string}\n */\nfunction pad(number) {\n  return number < 10 ? `0${number}` : number.toString();\n}\n/**\n * Returns a timestamp in the format of `hours:minutes:seconds`\n */\n\n\nexport default function getTimeStamp() {\n  const date = new Date();\n  const hours = pad(date.getHours());\n  const minutes = pad(date.getMinutes());\n  const seconds = pad(date.getSeconds());\n  return `${hours}:${minutes}:${seconds}`;\n}","/* eslint-disable no-console */\nimport getTimeStamp from '@uppy/utils/lib/getTimeStamp'; // Swallow all logs, except errors.\n// default if logger is not set or debug: false\n\nconst justErrorsLogger = {\n  debug: () => {},\n  warn: () => {},\n  error: function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return console.error(`[Uppy] [${getTimeStamp()}]`, ...args);\n  }\n}; // Print logs to console with namespace + timestamp,\n// set by logger: Uppy.debugLogger or debug: true\n\nconst debugLogger = {\n  debug: function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return console.debug(`[Uppy] [${getTimeStamp()}]`, ...args);\n  },\n  warn: function () {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    return console.warn(`[Uppy] [${getTimeStamp()}]`, ...args);\n  },\n  error: function () {\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n\n    return console.error(`[Uppy] [${getTimeStamp()}]`, ...args);\n  }\n};\nexport { justErrorsLogger, debugLogger };","// Adapted from https://github.com/Flet/prettier-bytes/\n// Changing 1000 bytes to 1024, so we can keep uppercase KB vs kB\n// ISC License (c) Dan Flettre https://github.com/Flet/prettier-bytes/blob/master/LICENSE\nmodule.exports = function prettierBytes (num) {\n  if (typeof num !== 'number' || isNaN(num)) {\n    throw new TypeError(`Expected a number, got ${typeof num}`)\n  }\n\n  const neg = num < 0\n  const units = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\n\n  if (neg) {\n    num = -num\n  }\n\n  if (num < 1) {\n    return `${(neg ? '-' : '') + num} B`\n  }\n\n  const exponent = Math.min(Math.floor(Math.log(num) / Math.log(1024)), units.length - 1)\n  num = Number(num / Math.pow(1024, exponent))\n  const unit = units[exponent]\n\n  if (num >= 10 || num % 1 === 0) {\n    // Do not show decimals when the number is two-digit, or if the number has no\n    // decimal component.\n    return `${(neg ? '-' : '') + num.toFixed(0)} ${unit}`\n  }\n  return `${(neg ? '-' : '') + num.toFixed(1)} ${unit}`\n}\n","/* jshint node: true */\n'use strict';\n\n/**\n  # wildcard\n\n  Very simple wildcard matching, which is designed to provide the same\n  functionality that is found in the\n  [eve](https://github.com/adobe-webplatform/eve) eventing library.\n\n  ## Usage\n\n  It works with strings:\n\n  <<< examples/strings.js\n\n  Arrays:\n\n  <<< examples/arrays.js\n\n  Objects (matching against keys):\n\n  <<< examples/objects.js\n\n  While the library works in Node, if you are are looking for file-based\n  wildcard matching then you should have a look at:\n\n  <https://github.com/isaacs/node-glob>\n**/\n\nfunction WildcardMatcher(text, separator) {\n  this.text = text = text || '';\n  this.hasWild = ~text.indexOf('*');\n  this.separator = separator;\n  this.parts = text.split(separator);\n}\n\nWildcardMatcher.prototype.match = function(input) {\n  var matches = true;\n  var parts = this.parts;\n  var ii;\n  var partsCount = parts.length;\n  var testParts;\n\n  if (typeof input == 'string' || input instanceof String) {\n    if (!this.hasWild && this.text != input) {\n      matches = false;\n    } else {\n      testParts = (input || '').split(this.separator);\n      for (ii = 0; matches && ii < partsCount; ii++) {\n        if (parts[ii] === '*')  {\n          continue;\n        } else if (ii < testParts.length) {\n          matches = parts[ii] === testParts[ii];\n        } else {\n          matches = false;\n        }\n      }\n\n      // If matches, then return the component parts\n      matches = matches && testParts;\n    }\n  }\n  else if (typeof input.splice == 'function') {\n    matches = [];\n\n    for (ii = input.length; ii--; ) {\n      if (this.match(input[ii])) {\n        matches[matches.length] = input[ii];\n      }\n    }\n  }\n  else if (typeof input == 'object') {\n    matches = {};\n\n    for (var key in input) {\n      if (this.match(key)) {\n        matches[key] = input[key];\n      }\n    }\n  }\n\n  return matches;\n};\n\nmodule.exports = function(text, test, separator) {\n  var matcher = new WildcardMatcher(text, separator || /[\\/\\.]/);\n  if (typeof test != 'undefined') {\n    return matcher.match(test);\n  }\n\n  return matcher;\n};\n","var wildcard = require('wildcard');\nvar reMimePartSplit = /[\\/\\+\\.]/;\n\n/**\n  # mime-match\n\n  A simple function to checker whether a target mime type matches a mime-type\n  pattern (e.g. image/jpeg matches image/jpeg OR image/*).\n\n  ## Example Usage\n\n  <<< example.js\n\n**/\nmodule.exports = function(target, pattern) {\n  function test(pattern) {\n    var result = wildcard(pattern, target, reMimePartSplit);\n\n    // ensure that we have a valid mime type (should have two parts)\n    return result && result.length >= 2;\n  }\n\n  return pattern ? test(pattern.split(';')[0]) : test;\n};\n","/* eslint-disable max-classes-per-file, class-methods-use-this */\nimport prettierBytes from '@transloadit/prettier-bytes';\nimport match from 'mime-match';\nconst defaultOptions = {\n  maxFileSize: null,\n  minFileSize: null,\n  maxTotalFileSize: null,\n  maxNumberOfFiles: null,\n  minNumberOfFiles: null,\n  allowedFileTypes: null,\n  requiredMetaFields: []\n};\n\nclass RestrictionError extends Error {\n  constructor() {\n    super(...arguments);\n    this.isRestriction = true;\n  }\n\n}\n\nclass Restricter {\n  constructor(getOpts, i18n) {\n    this.i18n = i18n;\n\n    this.getOpts = () => {\n      const opts = getOpts();\n\n      if (opts.restrictions.allowedFileTypes != null && !Array.isArray(opts.restrictions.allowedFileTypes)) {\n        throw new TypeError('`restrictions.allowedFileTypes` must be an array');\n      }\n\n      return opts;\n    };\n  }\n\n  validate(file, files) {\n    const {\n      maxFileSize,\n      minFileSize,\n      maxTotalFileSize,\n      maxNumberOfFiles,\n      allowedFileTypes\n    } = this.getOpts().restrictions;\n\n    if (maxNumberOfFiles) {\n      const nonGhostFiles = files.filter(f => !f.isGhost);\n\n      if (nonGhostFiles.length + 1 > maxNumberOfFiles) {\n        throw new RestrictionError(`${this.i18n('youCanOnlyUploadX', {\n          smart_count: maxNumberOfFiles\n        })}`);\n      }\n    }\n\n    if (allowedFileTypes) {\n      const isCorrectFileType = allowedFileTypes.some(type => {\n        // check if this is a mime-type\n        if (type.includes('/')) {\n          if (!file.type) return false;\n          return match(file.type.replace(/;.*?$/, ''), type);\n        } // otherwise this is likely an extension\n\n\n        if (type[0] === '.' && file.extension) {\n          return file.extension.toLowerCase() === type.slice(1).toLowerCase();\n        }\n\n        return false;\n      });\n\n      if (!isCorrectFileType) {\n        const allowedFileTypesString = allowedFileTypes.join(', ');\n        throw new RestrictionError(this.i18n('youCanOnlyUploadFileTypes', {\n          types: allowedFileTypesString\n        }));\n      }\n    } // We can't check maxTotalFileSize if the size is unknown.\n\n\n    if (maxTotalFileSize && file.size != null) {\n      const totalFilesSize = files.reduce((total, f) => total + f.size, file.size);\n\n      if (totalFilesSize > maxTotalFileSize) {\n        throw new RestrictionError(this.i18n('exceedsSize', {\n          size: prettierBytes(maxTotalFileSize),\n          file: file.name\n        }));\n      }\n    } // We can't check maxFileSize if the size is unknown.\n\n\n    if (maxFileSize && file.size != null && file.size > maxFileSize) {\n      throw new RestrictionError(this.i18n('exceedsSize', {\n        size: prettierBytes(maxFileSize),\n        file: file.name\n      }));\n    } // We can't check minFileSize if the size is unknown.\n\n\n    if (minFileSize && file.size != null && file.size < minFileSize) {\n      throw new RestrictionError(this.i18n('inferiorSize', {\n        size: prettierBytes(minFileSize)\n      }));\n    }\n  }\n\n  validateMinNumberOfFiles(files) {\n    const {\n      minNumberOfFiles\n    } = this.getOpts().restrictions;\n\n    if (Object.keys(files).length < minNumberOfFiles) {\n      throw new RestrictionError(this.i18n('youHaveToAtLeastSelectX', {\n        smart_count: minNumberOfFiles\n      }));\n    }\n  }\n\n  getMissingRequiredMetaFields(file) {\n    const error = new RestrictionError(this.i18n('missingRequiredMetaFieldOnFile', {\n      fileName: file.name\n    }));\n    const {\n      requiredMetaFields\n    } = this.getOpts().restrictions;\n    const missingFields = [];\n\n    for (const field of requiredMetaFields) {\n      if (!Object.hasOwn(file.meta, field) || file.meta[field] === '') {\n        missingFields.push(field);\n      }\n    }\n\n    return {\n      missingFields,\n      error\n    };\n  }\n\n}\n\nexport { Restricter, defaultOptions, RestrictionError };","export default {\n  strings: {\n    addBulkFilesFailed: {\n      0: 'Failed to add %{smart_count} file due to an internal error',\n      1: 'Failed to add %{smart_count} files due to internal errors'\n    },\n    youCanOnlyUploadX: {\n      0: 'You can only upload %{smart_count} file',\n      1: 'You can only upload %{smart_count} files'\n    },\n    youHaveToAtLeastSelectX: {\n      0: 'You have to select at least %{smart_count} file',\n      1: 'You have to select at least %{smart_count} files'\n    },\n    exceedsSize: '%{file} exceeds maximum allowed size of %{size}',\n    missingRequiredMetaField: 'Missing required meta fields',\n    missingRequiredMetaFieldOnFile: 'Missing required meta fields in %{fileName}',\n    inferiorSize: 'This file is smaller than the allowed size of %{size}',\n    youCanOnlyUploadFileTypes: 'You can only upload: %{types}',\n    noMoreFilesAllowed: 'Cannot add more files',\n    noDuplicates: \"Cannot add the duplicate file '%{fileName}', it already exists\",\n    companionError: 'Connection with Companion failed',\n    authAborted: 'Authentication aborted',\n    companionUnauthorizeHint: 'To unauthorize to your %{provider} account, please go to %{url}',\n    failedToUpload: 'Failed to upload %{file}',\n    noInternetConnection: 'No Internet connection',\n    connectedToInternet: 'Connected to the Internet',\n    // Strings for remote providers\n    noFilesFound: 'You have no files or folders here',\n    selectX: {\n      0: 'Select %{smart_count}',\n      1: 'Select %{smart_count}'\n    },\n    allFilesFromFolderNamed: 'All files from folder %{name}',\n    openFolderNamed: 'Open folder %{name}',\n    cancel: 'Cancel',\n    logOut: 'Log out',\n    filter: 'Filter',\n    resetFilter: 'Reset filter',\n    loading: 'Loading...',\n    authenticateWithTitle: 'Please authenticate with %{pluginName} to select files',\n    authenticateWith: 'Connect to %{pluginName}',\n    signInWithGoogle: 'Sign in with Google',\n    searchImages: 'Search for images',\n    enterTextToSearch: 'Enter text to search for images',\n    search: 'Search',\n    emptyFolderAdded: 'No files were added from empty folder',\n    folderAlreadyAdded: 'The folder \"%{folder}\" was already added',\n    folderAdded: {\n      0: 'Added %{smart_count} file from %{folder}',\n      1: 'Added %{smart_count} files from %{folder}'\n    }\n  }\n};","let _Symbol$for, _Symbol$for2;\n\nfunction _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\n\nvar id = 0;\n\nfunction _classPrivateFieldLooseKey(name) { return \"__private_\" + id++ + \"_\" + name; }\n\n/* eslint-disable max-classes-per-file */\n\n/* global AggregateError */\nimport Translator from '@uppy/utils/lib/Translator';\nimport ee from 'namespace-emitter';\nimport { nanoid } from 'nanoid/non-secure';\nimport throttle from 'lodash.throttle';\nimport DefaultStore from '@uppy/store-default';\nimport getFileType from '@uppy/utils/lib/getFileType';\nimport getFileNameAndExtension from '@uppy/utils/lib/getFileNameAndExtension';\nimport generateFileID from '@uppy/utils/lib/generateFileID';\nimport supportsUploadProgress from './supportsUploadProgress.js';\nimport getFileName from './getFileName.js';\nimport { justErrorsLogger, debugLogger } from './loggers.js';\nimport { Restricter, defaultOptions as defaultRestrictionOptions, RestrictionError } from './Restricter.js';\nconst packageJson = {\n  \"version\": \"3.0.3\"\n};\nimport locale from './locale.js';\n/**\n * Uppy Core module.\n * Manages plugins, state updates, acts as an event bus,\n * adds/removes files and metadata.\n */\n\nvar _plugins = /*#__PURE__*/_classPrivateFieldLooseKey(\"plugins\");\n\nvar _restricter = /*#__PURE__*/_classPrivateFieldLooseKey(\"restricter\");\n\nvar _storeUnsubscribe = /*#__PURE__*/_classPrivateFieldLooseKey(\"storeUnsubscribe\");\n\nvar _emitter = /*#__PURE__*/_classPrivateFieldLooseKey(\"emitter\");\n\nvar _preProcessors = /*#__PURE__*/_classPrivateFieldLooseKey(\"preProcessors\");\n\nvar _uploaders = /*#__PURE__*/_classPrivateFieldLooseKey(\"uploaders\");\n\nvar _postProcessors = /*#__PURE__*/_classPrivateFieldLooseKey(\"postProcessors\");\n\nvar _informAndEmit = /*#__PURE__*/_classPrivateFieldLooseKey(\"informAndEmit\");\n\nvar _checkRequiredMetaFieldsOnFile = /*#__PURE__*/_classPrivateFieldLooseKey(\"checkRequiredMetaFieldsOnFile\");\n\nvar _checkRequiredMetaFields = /*#__PURE__*/_classPrivateFieldLooseKey(\"checkRequiredMetaFields\");\n\nvar _assertNewUploadAllowed = /*#__PURE__*/_classPrivateFieldLooseKey(\"assertNewUploadAllowed\");\n\nvar _checkAndCreateFileStateObject = /*#__PURE__*/_classPrivateFieldLooseKey(\"checkAndCreateFileStateObject\");\n\nvar _startIfAutoProceed = /*#__PURE__*/_classPrivateFieldLooseKey(\"startIfAutoProceed\");\n\nvar _addListeners = /*#__PURE__*/_classPrivateFieldLooseKey(\"addListeners\");\n\nvar _updateOnlineStatus = /*#__PURE__*/_classPrivateFieldLooseKey(\"updateOnlineStatus\");\n\nvar _createUpload = /*#__PURE__*/_classPrivateFieldLooseKey(\"createUpload\");\n\nvar _getUpload = /*#__PURE__*/_classPrivateFieldLooseKey(\"getUpload\");\n\nvar _removeUpload = /*#__PURE__*/_classPrivateFieldLooseKey(\"removeUpload\");\n\nvar _runUpload = /*#__PURE__*/_classPrivateFieldLooseKey(\"runUpload\");\n\n_Symbol$for = Symbol.for('uppy test: getPlugins');\n_Symbol$for2 = Symbol.for('uppy test: createUpload');\n\nclass Uppy {\n  /** @type {Record<string, BasePlugin[]>} */\n\n  /**\n   * Instantiate Uppy\n   *\n   * @param {object} opts  Uppy options\n   */\n  constructor(_opts) {\n    Object.defineProperty(this, _runUpload, {\n      value: _runUpload2\n    });\n    Object.defineProperty(this, _removeUpload, {\n      value: _removeUpload2\n    });\n    Object.defineProperty(this, _getUpload, {\n      value: _getUpload2\n    });\n    Object.defineProperty(this, _createUpload, {\n      value: _createUpload2\n    });\n    Object.defineProperty(this, _addListeners, {\n      value: _addListeners2\n    });\n    Object.defineProperty(this, _startIfAutoProceed, {\n      value: _startIfAutoProceed2\n    });\n    Object.defineProperty(this, _checkAndCreateFileStateObject, {\n      value: _checkAndCreateFileStateObject2\n    });\n    Object.defineProperty(this, _assertNewUploadAllowed, {\n      value: _assertNewUploadAllowed2\n    });\n    Object.defineProperty(this, _checkRequiredMetaFields, {\n      value: _checkRequiredMetaFields2\n    });\n    Object.defineProperty(this, _checkRequiredMetaFieldsOnFile, {\n      value: _checkRequiredMetaFieldsOnFile2\n    });\n    Object.defineProperty(this, _informAndEmit, {\n      value: _informAndEmit2\n    });\n    Object.defineProperty(this, _plugins, {\n      writable: true,\n      value: Object.create(null)\n    });\n    Object.defineProperty(this, _restricter, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _storeUnsubscribe, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _emitter, {\n      writable: true,\n      value: ee()\n    });\n    Object.defineProperty(this, _preProcessors, {\n      writable: true,\n      value: new Set()\n    });\n    Object.defineProperty(this, _uploaders, {\n      writable: true,\n      value: new Set()\n    });\n    Object.defineProperty(this, _postProcessors, {\n      writable: true,\n      value: new Set()\n    });\n    Object.defineProperty(this, _updateOnlineStatus, {\n      writable: true,\n      value: this.updateOnlineStatus.bind(this)\n    });\n    this.defaultLocale = locale;\n    const defaultOptions = {\n      id: 'uppy',\n      autoProceed: false,\n      allowMultipleUploadBatches: true,\n      debug: false,\n      restrictions: defaultRestrictionOptions,\n      meta: {},\n      onBeforeFileAdded: currentFile => currentFile,\n      onBeforeUpload: files => files,\n      store: new DefaultStore(),\n      logger: justErrorsLogger,\n      infoTimeout: 5000\n    }; // Merge default options with the ones set by user,\n    // making sure to merge restrictions too\n\n    this.opts = { ...defaultOptions,\n      ..._opts,\n      restrictions: { ...defaultOptions.restrictions,\n        ...(_opts && _opts.restrictions)\n      }\n    }; // Support debug: true for backwards-compatability, unless logger is set in opts\n    // opts instead of this.opts to avoid comparing objects  we set logger: justErrorsLogger in defaultOptions\n\n    if (_opts && _opts.logger && _opts.debug) {\n      this.log('You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.', 'warning');\n    } else if (_opts && _opts.debug) {\n      this.opts.logger = debugLogger;\n    }\n\n    this.log(`Using Core v${this.constructor.VERSION}`);\n    this.i18nInit(); // ___Why throttle at 500ms?\n    //    - We must throttle at >250ms for superfocus in Dashboard to work well\n    //    (because animation takes 0.25s, and we want to wait for all animations to be over before refocusing).\n    //    [Practical Check]: if thottle is at 100ms, then if you are uploading a file,\n    //    and click 'ADD MORE FILES', - focus won't activate in Firefox.\n    //    - We must throttle at around >500ms to avoid performance lags.\n    //    [Practical Check] Firefox, try to upload a big file for a prolonged period of time. Laptop will start to heat up.\n\n    this.calculateProgress = throttle(this.calculateProgress.bind(this), 500, {\n      leading: true,\n      trailing: true\n    });\n    this.store = this.opts.store;\n    this.setState({\n      plugins: {},\n      files: {},\n      currentUploads: {},\n      allowNewUpload: true,\n      capabilities: {\n        uploadProgress: supportsUploadProgress(),\n        individualCancellation: true,\n        resumableUploads: false\n      },\n      totalProgress: 0,\n      meta: { ...this.opts.meta\n      },\n      info: [],\n      recoveredState: null\n    });\n    _classPrivateFieldLooseBase(this, _restricter)[_restricter] = new Restricter(() => this.opts, this.i18n);\n    _classPrivateFieldLooseBase(this, _storeUnsubscribe)[_storeUnsubscribe] = this.store.subscribe((prevState, nextState, patch) => {\n      this.emit('state-update', prevState, nextState, patch);\n      this.updateAll(nextState);\n    }); // Exposing uppy object on window for debugging and testing\n\n    if (this.opts.debug && typeof window !== 'undefined') {\n      window[this.opts.id] = this;\n    }\n\n    _classPrivateFieldLooseBase(this, _addListeners)[_addListeners]();\n  }\n\n  emit(event) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    _classPrivateFieldLooseBase(this, _emitter)[_emitter].emit(event, ...args);\n  }\n\n  on(event, callback) {\n    _classPrivateFieldLooseBase(this, _emitter)[_emitter].on(event, callback);\n\n    return this;\n  }\n\n  once(event, callback) {\n    _classPrivateFieldLooseBase(this, _emitter)[_emitter].once(event, callback);\n\n    return this;\n  }\n\n  off(event, callback) {\n    _classPrivateFieldLooseBase(this, _emitter)[_emitter].off(event, callback);\n\n    return this;\n  }\n  /**\n   * Iterate on all plugins and run `update` on them.\n   * Called each time state changes.\n   *\n   */\n\n\n  updateAll(state) {\n    this.iteratePlugins(plugin => {\n      plugin.update(state);\n    });\n  }\n  /**\n   * Updates state with a patch\n   *\n   * @param {object} patch {foo: 'bar'}\n   */\n\n\n  setState(patch) {\n    this.store.setState(patch);\n  }\n  /**\n   * Returns current state.\n   *\n   * @returns {object}\n   */\n\n\n  getState() {\n    return this.store.getState();\n  }\n  /**\n   * Shorthand to set state for a specific file.\n   */\n\n\n  setFileState(fileID, state) {\n    if (!this.getState().files[fileID]) {\n      throw new Error(`Cant set state for ${fileID} (the file could have been removed)`);\n    }\n\n    this.setState({\n      files: { ...this.getState().files,\n        [fileID]: { ...this.getState().files[fileID],\n          ...state\n        }\n      }\n    });\n  }\n\n  i18nInit() {\n    const translator = new Translator([this.defaultLocale, this.opts.locale]);\n    this.i18n = translator.translate.bind(translator);\n    this.i18nArray = translator.translateArray.bind(translator);\n    this.locale = translator.locale;\n  }\n\n  setOptions(newOpts) {\n    this.opts = { ...this.opts,\n      ...newOpts,\n      restrictions: { ...this.opts.restrictions,\n        ...(newOpts && newOpts.restrictions)\n      }\n    };\n\n    if (newOpts.meta) {\n      this.setMeta(newOpts.meta);\n    }\n\n    this.i18nInit();\n\n    if (newOpts.locale) {\n      this.iteratePlugins(plugin => {\n        plugin.setOptions();\n      });\n    } // Note: this is not the preact `setState`, it's an internal function that has the same name.\n\n\n    this.setState(); // so that UI re-renders with new options\n  }\n\n  resetProgress() {\n    const defaultProgress = {\n      percentage: 0,\n      bytesUploaded: 0,\n      uploadComplete: false,\n      uploadStarted: null\n    };\n    const files = { ...this.getState().files\n    };\n    const updatedFiles = {};\n    Object.keys(files).forEach(fileID => {\n      const updatedFile = { ...files[fileID]\n      };\n      updatedFile.progress = { ...updatedFile.progress,\n        ...defaultProgress\n      };\n      updatedFiles[fileID] = updatedFile;\n    });\n    this.setState({\n      files: updatedFiles,\n      totalProgress: 0\n    });\n    this.emit('reset-progress');\n  }\n\n  addPreProcessor(fn) {\n    _classPrivateFieldLooseBase(this, _preProcessors)[_preProcessors].add(fn);\n  }\n\n  removePreProcessor(fn) {\n    return _classPrivateFieldLooseBase(this, _preProcessors)[_preProcessors].delete(fn);\n  }\n\n  addPostProcessor(fn) {\n    _classPrivateFieldLooseBase(this, _postProcessors)[_postProcessors].add(fn);\n  }\n\n  removePostProcessor(fn) {\n    return _classPrivateFieldLooseBase(this, _postProcessors)[_postProcessors].delete(fn);\n  }\n\n  addUploader(fn) {\n    _classPrivateFieldLooseBase(this, _uploaders)[_uploaders].add(fn);\n  }\n\n  removeUploader(fn) {\n    return _classPrivateFieldLooseBase(this, _uploaders)[_uploaders].delete(fn);\n  }\n\n  setMeta(data) {\n    const updatedMeta = { ...this.getState().meta,\n      ...data\n    };\n    const updatedFiles = { ...this.getState().files\n    };\n    Object.keys(updatedFiles).forEach(fileID => {\n      updatedFiles[fileID] = { ...updatedFiles[fileID],\n        meta: { ...updatedFiles[fileID].meta,\n          ...data\n        }\n      };\n    });\n    this.log('Adding metadata:');\n    this.log(data);\n    this.setState({\n      meta: updatedMeta,\n      files: updatedFiles\n    });\n  }\n\n  setFileMeta(fileID, data) {\n    const updatedFiles = { ...this.getState().files\n    };\n\n    if (!updatedFiles[fileID]) {\n      this.log('Was trying to set metadata for a file that has been removed: ', fileID);\n      return;\n    }\n\n    const newMeta = { ...updatedFiles[fileID].meta,\n      ...data\n    };\n    updatedFiles[fileID] = { ...updatedFiles[fileID],\n      meta: newMeta\n    };\n    this.setState({\n      files: updatedFiles\n    });\n  }\n  /**\n   * Get a file object.\n   *\n   * @param {string} fileID The ID of the file object to return.\n   */\n\n\n  getFile(fileID) {\n    return this.getState().files[fileID];\n  }\n  /**\n   * Get all files in an array.\n   */\n\n\n  getFiles() {\n    const {\n      files\n    } = this.getState();\n    return Object.values(files);\n  }\n\n  getObjectOfFilesPerState() {\n    const {\n      files: filesObject,\n      totalProgress,\n      error\n    } = this.getState();\n    const files = Object.values(filesObject);\n    const inProgressFiles = files.filter(_ref => {\n      let {\n        progress\n      } = _ref;\n      return !progress.uploadComplete && progress.uploadStarted;\n    });\n    const newFiles = files.filter(file => !file.progress.uploadStarted);\n    const startedFiles = files.filter(file => file.progress.uploadStarted || file.progress.preprocess || file.progress.postprocess);\n    const uploadStartedFiles = files.filter(file => file.progress.uploadStarted);\n    const pausedFiles = files.filter(file => file.isPaused);\n    const completeFiles = files.filter(file => file.progress.uploadComplete);\n    const erroredFiles = files.filter(file => file.error);\n    const inProgressNotPausedFiles = inProgressFiles.filter(file => !file.isPaused);\n    const processingFiles = files.filter(file => file.progress.preprocess || file.progress.postprocess);\n    return {\n      newFiles,\n      startedFiles,\n      uploadStartedFiles,\n      pausedFiles,\n      completeFiles,\n      erroredFiles,\n      inProgressFiles,\n      inProgressNotPausedFiles,\n      processingFiles,\n      isUploadStarted: uploadStartedFiles.length > 0,\n      isAllComplete: totalProgress === 100 && completeFiles.length === files.length && processingFiles.length === 0,\n      isAllErrored: !!error && erroredFiles.length === files.length,\n      isAllPaused: inProgressFiles.length !== 0 && pausedFiles.length === inProgressFiles.length,\n      isUploadInProgress: inProgressFiles.length > 0,\n      isSomeGhost: files.some(file => file.isGhost)\n    };\n  }\n  /*\n  * @constructs\n  * @param { Error } error\n  * @param { undefined } file\n  */\n\n  /*\n  * @constructs\n  * @param { RestrictionError } error\n  * @param { UppyFile | undefined } file\n  */\n\n\n  validateRestrictions(file, files) {\n    if (files === void 0) {\n      files = this.getFiles();\n    }\n\n    try {\n      _classPrivateFieldLooseBase(this, _restricter)[_restricter].validate(file, files);\n    } catch (err) {\n      return err;\n    }\n\n    return null;\n  }\n\n  checkIfFileAlreadyExists(fileID) {\n    const {\n      files\n    } = this.getState();\n\n    if (files[fileID] && !files[fileID].isGhost) {\n      return true;\n    }\n\n    return false;\n  }\n  /**\n   * Create a file state object based on user-provided `addFile()` options.\n   *\n   * Note this is extremely side-effectful and should only be done when a file state object\n   * will be added to state immediately afterward!\n   *\n   * The `files` value is passed in because it may be updated by the caller without updating the store.\n   */\n\n\n  /**\n   * Add a new file to `state.files`. This will run `onBeforeFileAdded`,\n   * try to guess file type in a clever way, check file against restrictions,\n   * and start an upload if `autoProceed === true`.\n   *\n   * @param {object} file object to add\n   * @returns {string} id for the added file\n   */\n  addFile(file) {\n    _classPrivateFieldLooseBase(this, _assertNewUploadAllowed)[_assertNewUploadAllowed](file);\n\n    const {\n      files\n    } = this.getState();\n\n    let newFile = _classPrivateFieldLooseBase(this, _checkAndCreateFileStateObject)[_checkAndCreateFileStateObject](files, file); // Users are asked to re-select recovered files without data,\n    // and to keep the progress, meta and everthing else, we only replace said data\n\n\n    if (files[newFile.id] && files[newFile.id].isGhost) {\n      newFile = { ...files[newFile.id],\n        data: file.data,\n        isGhost: false\n      };\n      this.log(`Replaced the blob in the restored ghost file: ${newFile.name}, ${newFile.id}`);\n    }\n\n    this.setState({\n      files: { ...files,\n        [newFile.id]: newFile\n      }\n    });\n    this.emit('file-added', newFile);\n    this.emit('files-added', [newFile]);\n    this.log(`Added file: ${newFile.name}, ${newFile.id}, mime type: ${newFile.type}`);\n\n    _classPrivateFieldLooseBase(this, _startIfAutoProceed)[_startIfAutoProceed]();\n\n    return newFile.id;\n  }\n  /**\n   * Add multiple files to `state.files`. See the `addFile()` documentation.\n   *\n   * If an error occurs while adding a file, it is logged and the user is notified.\n   * This is good for UI plugins, but not for programmatic use.\n   * Programmatic users should usually still use `addFile()` on individual files.\n   */\n\n\n  addFiles(fileDescriptors) {\n    _classPrivateFieldLooseBase(this, _assertNewUploadAllowed)[_assertNewUploadAllowed](); // create a copy of the files object only once\n\n\n    const files = { ...this.getState().files\n    };\n    const newFiles = [];\n    const errors = [];\n\n    for (let i = 0; i < fileDescriptors.length; i++) {\n      try {\n        let newFile = _classPrivateFieldLooseBase(this, _checkAndCreateFileStateObject)[_checkAndCreateFileStateObject](files, fileDescriptors[i]); // Users are asked to re-select recovered files without data,\n        // and to keep the progress, meta and everthing else, we only replace said data\n\n\n        if (files[newFile.id] && files[newFile.id].isGhost) {\n          newFile = { ...files[newFile.id],\n            data: fileDescriptors[i].data,\n            isGhost: false\n          };\n          this.log(`Replaced blob in a ghost file: ${newFile.name}, ${newFile.id}`);\n        }\n\n        files[newFile.id] = newFile;\n        newFiles.push(newFile);\n      } catch (err) {\n        if (!err.isRestriction) {\n          errors.push(err);\n        }\n      }\n    }\n\n    this.setState({\n      files\n    });\n    newFiles.forEach(newFile => {\n      this.emit('file-added', newFile);\n    });\n    this.emit('files-added', newFiles);\n\n    if (newFiles.length > 5) {\n      this.log(`Added batch of ${newFiles.length} files`);\n    } else {\n      Object.keys(newFiles).forEach(fileID => {\n        this.log(`Added file: ${newFiles[fileID].name}\\n id: ${newFiles[fileID].id}\\n type: ${newFiles[fileID].type}`);\n      });\n    }\n\n    if (newFiles.length > 0) {\n      _classPrivateFieldLooseBase(this, _startIfAutoProceed)[_startIfAutoProceed]();\n    }\n\n    if (errors.length > 0) {\n      let message = 'Multiple errors occurred while adding files:\\n';\n      errors.forEach(subError => {\n        message += `\\n * ${subError.message}`;\n      });\n      this.info({\n        message: this.i18n('addBulkFilesFailed', {\n          smart_count: errors.length\n        }),\n        details: message\n      }, 'error', this.opts.infoTimeout);\n\n      if (typeof AggregateError === 'function') {\n        throw new AggregateError(errors, message);\n      } else {\n        const err = new Error(message);\n        err.errors = errors;\n        throw err;\n      }\n    }\n  }\n\n  removeFiles(fileIDs, reason) {\n    const {\n      files,\n      currentUploads\n    } = this.getState();\n    const updatedFiles = { ...files\n    };\n    const updatedUploads = { ...currentUploads\n    };\n    const removedFiles = Object.create(null);\n    fileIDs.forEach(fileID => {\n      if (files[fileID]) {\n        removedFiles[fileID] = files[fileID];\n        delete updatedFiles[fileID];\n      }\n    }); // Remove files from the `fileIDs` list in each upload.\n\n    function fileIsNotRemoved(uploadFileID) {\n      return removedFiles[uploadFileID] === undefined;\n    }\n\n    Object.keys(updatedUploads).forEach(uploadID => {\n      const newFileIDs = currentUploads[uploadID].fileIDs.filter(fileIsNotRemoved); // Remove the upload if no files are associated with it anymore.\n\n      if (newFileIDs.length === 0) {\n        delete updatedUploads[uploadID];\n        return;\n      }\n\n      const {\n        capabilities\n      } = this.getState();\n\n      if (newFileIDs.length !== currentUploads[uploadID].fileIDs.length && !capabilities.individualCancellation) {\n        throw new Error('individualCancellation is disabled');\n      }\n\n      updatedUploads[uploadID] = { ...currentUploads[uploadID],\n        fileIDs: newFileIDs\n      };\n    });\n    const stateUpdate = {\n      currentUploads: updatedUploads,\n      files: updatedFiles\n    }; // If all files were removed - allow new uploads,\n    // and clear recoveredState\n\n    if (Object.keys(updatedFiles).length === 0) {\n      stateUpdate.allowNewUpload = true;\n      stateUpdate.error = null;\n      stateUpdate.recoveredState = null;\n    }\n\n    this.setState(stateUpdate);\n    this.calculateTotalProgress();\n    const removedFileIDs = Object.keys(removedFiles);\n    removedFileIDs.forEach(fileID => {\n      this.emit('file-removed', removedFiles[fileID], reason);\n    });\n\n    if (removedFileIDs.length > 5) {\n      this.log(`Removed ${removedFileIDs.length} files`);\n    } else {\n      this.log(`Removed files: ${removedFileIDs.join(', ')}`);\n    }\n  }\n\n  removeFile(fileID, reason) {\n    if (reason === void 0) {\n      reason = null;\n    }\n\n    this.removeFiles([fileID], reason);\n  }\n\n  pauseResume(fileID) {\n    if (!this.getState().capabilities.resumableUploads || this.getFile(fileID).uploadComplete) {\n      return undefined;\n    }\n\n    const wasPaused = this.getFile(fileID).isPaused || false;\n    const isPaused = !wasPaused;\n    this.setFileState(fileID, {\n      isPaused\n    });\n    this.emit('upload-pause', fileID, isPaused);\n    return isPaused;\n  }\n\n  pauseAll() {\n    const updatedFiles = { ...this.getState().files\n    };\n    const inProgressUpdatedFiles = Object.keys(updatedFiles).filter(file => {\n      return !updatedFiles[file].progress.uploadComplete && updatedFiles[file].progress.uploadStarted;\n    });\n    inProgressUpdatedFiles.forEach(file => {\n      const updatedFile = { ...updatedFiles[file],\n        isPaused: true\n      };\n      updatedFiles[file] = updatedFile;\n    });\n    this.setState({\n      files: updatedFiles\n    });\n    this.emit('pause-all');\n  }\n\n  resumeAll() {\n    const updatedFiles = { ...this.getState().files\n    };\n    const inProgressUpdatedFiles = Object.keys(updatedFiles).filter(file => {\n      return !updatedFiles[file].progress.uploadComplete && updatedFiles[file].progress.uploadStarted;\n    });\n    inProgressUpdatedFiles.forEach(file => {\n      const updatedFile = { ...updatedFiles[file],\n        isPaused: false,\n        error: null\n      };\n      updatedFiles[file] = updatedFile;\n    });\n    this.setState({\n      files: updatedFiles\n    });\n    this.emit('resume-all');\n  }\n\n  retryAll() {\n    const updatedFiles = { ...this.getState().files\n    };\n    const filesToRetry = Object.keys(updatedFiles).filter(file => {\n      return updatedFiles[file].error;\n    });\n    filesToRetry.forEach(file => {\n      const updatedFile = { ...updatedFiles[file],\n        isPaused: false,\n        error: null\n      };\n      updatedFiles[file] = updatedFile;\n    });\n    this.setState({\n      files: updatedFiles,\n      error: null\n    });\n    this.emit('retry-all', filesToRetry);\n\n    if (filesToRetry.length === 0) {\n      return Promise.resolve({\n        successful: [],\n        failed: []\n      });\n    }\n\n    const uploadID = _classPrivateFieldLooseBase(this, _createUpload)[_createUpload](filesToRetry, {\n      forceAllowNewUpload: true // create new upload even if allowNewUpload: false\n\n    });\n\n    return _classPrivateFieldLooseBase(this, _runUpload)[_runUpload](uploadID);\n  }\n\n  cancelAll(_temp) {\n    let {\n      reason = 'user'\n    } = _temp === void 0 ? {} : _temp;\n    this.emit('cancel-all', {\n      reason\n    }); // Only remove existing uploads if user is canceling\n\n    if (reason === 'user') {\n      const {\n        files\n      } = this.getState();\n      const fileIDs = Object.keys(files);\n\n      if (fileIDs.length) {\n        this.removeFiles(fileIDs, 'cancel-all');\n      }\n\n      this.setState({\n        totalProgress: 0,\n        error: null,\n        recoveredState: null\n      });\n    }\n  }\n\n  retryUpload(fileID) {\n    this.setFileState(fileID, {\n      error: null,\n      isPaused: false\n    });\n    this.emit('upload-retry', fileID);\n\n    const uploadID = _classPrivateFieldLooseBase(this, _createUpload)[_createUpload]([fileID], {\n      forceAllowNewUpload: true // create new upload even if allowNewUpload: false\n\n    });\n\n    return _classPrivateFieldLooseBase(this, _runUpload)[_runUpload](uploadID);\n  }\n\n  logout() {\n    this.iteratePlugins(plugin => {\n      if (plugin.provider && plugin.provider.logout) {\n        plugin.provider.logout();\n      }\n    });\n  }\n\n  calculateProgress(file, data) {\n    if (file == null || !this.getFile(file.id)) {\n      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return;\n    } // bytesTotal may be null or zero; in that case we can't divide by it\n\n\n    const canHavePercentage = Number.isFinite(data.bytesTotal) && data.bytesTotal > 0;\n    this.setFileState(file.id, {\n      progress: { ...this.getFile(file.id).progress,\n        bytesUploaded: data.bytesUploaded,\n        bytesTotal: data.bytesTotal,\n        percentage: canHavePercentage ? Math.round(data.bytesUploaded / data.bytesTotal * 100) : 0\n      }\n    });\n    this.calculateTotalProgress();\n  }\n\n  calculateTotalProgress() {\n    // calculate total progress, using the number of files currently uploading,\n    // multiplied by 100 and the summ of individual progress of each file\n    const files = this.getFiles();\n    const inProgress = files.filter(file => {\n      return file.progress.uploadStarted || file.progress.preprocess || file.progress.postprocess;\n    });\n\n    if (inProgress.length === 0) {\n      this.emit('progress', 0);\n      this.setState({\n        totalProgress: 0\n      });\n      return;\n    }\n\n    const sizedFiles = inProgress.filter(file => file.progress.bytesTotal != null);\n    const unsizedFiles = inProgress.filter(file => file.progress.bytesTotal == null);\n\n    if (sizedFiles.length === 0) {\n      const progressMax = inProgress.length * 100;\n      const currentProgress = unsizedFiles.reduce((acc, file) => {\n        return acc + file.progress.percentage;\n      }, 0);\n      const totalProgress = Math.round(currentProgress / progressMax * 100);\n      this.setState({\n        totalProgress\n      });\n      return;\n    }\n\n    let totalSize = sizedFiles.reduce((acc, file) => {\n      return acc + file.progress.bytesTotal;\n    }, 0);\n    const averageSize = totalSize / sizedFiles.length;\n    totalSize += averageSize * unsizedFiles.length;\n    let uploadedSize = 0;\n    sizedFiles.forEach(file => {\n      uploadedSize += file.progress.bytesUploaded;\n    });\n    unsizedFiles.forEach(file => {\n      uploadedSize += averageSize * (file.progress.percentage || 0) / 100;\n    });\n    let totalProgress = totalSize === 0 ? 0 : Math.round(uploadedSize / totalSize * 100); // hot fix, because:\n    // uploadedSize ended up larger than totalSize, resulting in 1325% total\n\n    if (totalProgress > 100) {\n      totalProgress = 100;\n    }\n\n    this.setState({\n      totalProgress\n    });\n    this.emit('progress', totalProgress);\n  }\n  /**\n   * Registers listeners for all global actions, like:\n   * `error`, `file-removed`, `upload-progress`\n   */\n\n\n  updateOnlineStatus() {\n    const online = typeof window.navigator.onLine !== 'undefined' ? window.navigator.onLine : true;\n\n    if (!online) {\n      this.emit('is-offline');\n      this.info(this.i18n('noInternetConnection'), 'error', 0);\n      this.wasOffline = true;\n    } else {\n      this.emit('is-online');\n\n      if (this.wasOffline) {\n        this.emit('back-online');\n        this.info(this.i18n('connectedToInternet'), 'success', 3000);\n        this.wasOffline = false;\n      }\n    }\n  }\n\n  getID() {\n    return this.opts.id;\n  }\n  /**\n   * Registers a plugin with Core.\n   *\n   * @param {object} Plugin object\n   * @param {object} [opts] object with options to be passed to Plugin\n   * @returns {object} self for chaining\n   */\n  // eslint-disable-next-line no-shadow\n\n\n  use(Plugin, opts) {\n    if (typeof Plugin !== 'function') {\n      const msg = `Expected a plugin class, but got ${Plugin === null ? 'null' : typeof Plugin}.` + ' Please verify that the plugin was imported and spelled correctly.';\n      throw new TypeError(msg);\n    } // Instantiate\n\n\n    const plugin = new Plugin(this, opts);\n    const pluginId = plugin.id;\n\n    if (!pluginId) {\n      throw new Error('Your plugin must have an id');\n    }\n\n    if (!plugin.type) {\n      throw new Error('Your plugin must have a type');\n    }\n\n    const existsPluginAlready = this.getPlugin(pluginId);\n\n    if (existsPluginAlready) {\n      const msg = `Already found a plugin named '${existsPluginAlready.id}'. ` + `Tried to use: '${pluginId}'.\\n` + 'Uppy plugins must have unique `id` options. See https://uppy.io/docs/plugins/#id.';\n      throw new Error(msg);\n    }\n\n    if (Plugin.VERSION) {\n      this.log(`Using ${pluginId} v${Plugin.VERSION}`);\n    }\n\n    if (plugin.type in _classPrivateFieldLooseBase(this, _plugins)[_plugins]) {\n      _classPrivateFieldLooseBase(this, _plugins)[_plugins][plugin.type].push(plugin);\n    } else {\n      _classPrivateFieldLooseBase(this, _plugins)[_plugins][plugin.type] = [plugin];\n    }\n\n    plugin.install();\n    return this;\n  }\n  /**\n   * Find one Plugin by name.\n   *\n   * @param {string} id plugin id\n   * @returns {BasePlugin|undefined}\n   */\n\n\n  getPlugin(id) {\n    for (const plugins of Object.values(_classPrivateFieldLooseBase(this, _plugins)[_plugins])) {\n      const foundPlugin = plugins.find(plugin => plugin.id === id);\n      if (foundPlugin != null) return foundPlugin;\n    }\n\n    return undefined;\n  }\n\n  [_Symbol$for](type) {\n    return _classPrivateFieldLooseBase(this, _plugins)[_plugins][type];\n  }\n  /**\n   * Iterate through all `use`d plugins.\n   *\n   * @param {Function} method that will be run on each plugin\n   */\n\n\n  iteratePlugins(method) {\n    Object.values(_classPrivateFieldLooseBase(this, _plugins)[_plugins]).flat(1).forEach(method);\n  }\n  /**\n   * Uninstall and remove a plugin.\n   *\n   * @param {object} instance The plugin instance to remove.\n   */\n\n\n  removePlugin(instance) {\n    this.log(`Removing plugin ${instance.id}`);\n    this.emit('plugin-remove', instance);\n\n    if (instance.uninstall) {\n      instance.uninstall();\n    }\n\n    const list = _classPrivateFieldLooseBase(this, _plugins)[_plugins][instance.type]; // list.indexOf failed here, because Vue3 converted the plugin instance\n    // to a Proxy object, which failed the strict comparison test:\n    // obj !== objProxy\n\n\n    const index = list.findIndex(item => item.id === instance.id);\n\n    if (index !== -1) {\n      list.splice(index, 1);\n    }\n\n    const state = this.getState();\n    const updatedState = {\n      plugins: { ...state.plugins,\n        [instance.id]: undefined\n      }\n    };\n    this.setState(updatedState);\n  }\n  /**\n   * Uninstall all plugins and close down this Uppy instance.\n   */\n\n\n  close(_temp2) {\n    let {\n      reason\n    } = _temp2 === void 0 ? {} : _temp2;\n    this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`);\n    this.cancelAll({\n      reason\n    });\n\n    _classPrivateFieldLooseBase(this, _storeUnsubscribe)[_storeUnsubscribe]();\n\n    this.iteratePlugins(plugin => {\n      this.removePlugin(plugin);\n    });\n\n    if (typeof window !== 'undefined' && window.removeEventListener) {\n      window.removeEventListener('online', _classPrivateFieldLooseBase(this, _updateOnlineStatus)[_updateOnlineStatus]);\n      window.removeEventListener('offline', _classPrivateFieldLooseBase(this, _updateOnlineStatus)[_updateOnlineStatus]);\n    }\n  }\n\n  hideInfo() {\n    const {\n      info\n    } = this.getState();\n    this.setState({\n      info: info.slice(1)\n    });\n    this.emit('info-hidden');\n  }\n  /**\n   * Set info message in `state.info`, so that UI plugins like `Informer`\n   * can display the message.\n   *\n   * @param {string | object} message Message to be displayed by the informer\n   * @param {string} [type]\n   * @param {number} [duration]\n   */\n\n\n  info(message, type, duration) {\n    if (type === void 0) {\n      type = 'info';\n    }\n\n    if (duration === void 0) {\n      duration = 3000;\n    }\n\n    const isComplexMessage = typeof message === 'object';\n    this.setState({\n      info: [...this.getState().info, {\n        type,\n        message: isComplexMessage ? message.message : message,\n        details: isComplexMessage ? message.details : null\n      }]\n    });\n    setTimeout(() => this.hideInfo(), duration);\n    this.emit('info-visible');\n  }\n  /**\n   * Passes messages to a function, provided in `opts.logger`.\n   * If `opts.logger: Uppy.debugLogger` or `opts.debug: true`, logs to the browser console.\n   *\n   * @param {string|object} message to log\n   * @param {string} [type] optional `error` or `warning`\n   */\n\n\n  log(message, type) {\n    const {\n      logger\n    } = this.opts;\n\n    switch (type) {\n      case 'error':\n        logger.error(message);\n        break;\n\n      case 'warning':\n        logger.warn(message);\n        break;\n\n      default:\n        logger.debug(message);\n        break;\n    }\n  }\n  /**\n   * Restore an upload by its ID.\n   */\n\n\n  restore(uploadID) {\n    this.log(`Core: attempting to restore upload \"${uploadID}\"`);\n\n    if (!this.getState().currentUploads[uploadID]) {\n      _classPrivateFieldLooseBase(this, _removeUpload)[_removeUpload](uploadID);\n\n      return Promise.reject(new Error('Nonexistent upload'));\n    }\n\n    return _classPrivateFieldLooseBase(this, _runUpload)[_runUpload](uploadID);\n  }\n  /**\n   * Create an upload for a bunch of files.\n   *\n   * @param {Array<string>} fileIDs File IDs to include in this upload.\n   * @returns {string} ID of this upload.\n   */\n\n\n  [_Symbol$for2]() {\n    return _classPrivateFieldLooseBase(this, _createUpload)[_createUpload](...arguments);\n  }\n\n  /**\n   * Add data to an upload's result object.\n   *\n   * @param {string} uploadID The ID of the upload.\n   * @param {object} data Data properties to add to the result object.\n   */\n  addResultData(uploadID, data) {\n    if (!_classPrivateFieldLooseBase(this, _getUpload)[_getUpload](uploadID)) {\n      this.log(`Not setting result for an upload that has been removed: ${uploadID}`);\n      return;\n    }\n\n    const {\n      currentUploads\n    } = this.getState();\n    const currentUpload = { ...currentUploads[uploadID],\n      result: { ...currentUploads[uploadID].result,\n        ...data\n      }\n    };\n    this.setState({\n      currentUploads: { ...currentUploads,\n        [uploadID]: currentUpload\n      }\n    });\n  }\n  /**\n   * Remove an upload, eg. if it has been canceled or completed.\n   *\n   * @param {string} uploadID The ID of the upload.\n   */\n\n\n  /**\n   * Start an upload for all the files that are not currently being uploaded.\n   *\n   * @returns {Promise}\n   */\n  upload() {\n    var _classPrivateFieldLoo;\n\n    if (!((_classPrivateFieldLoo = _classPrivateFieldLooseBase(this, _plugins)[_plugins].uploader) != null && _classPrivateFieldLoo.length)) {\n      this.log('No uploader type plugins are used', 'warning');\n    }\n\n    let {\n      files\n    } = this.getState();\n    const onBeforeUploadResult = this.opts.onBeforeUpload(files);\n\n    if (onBeforeUploadResult === false) {\n      return Promise.reject(new Error('Not starting the upload because onBeforeUpload returned false'));\n    }\n\n    if (onBeforeUploadResult && typeof onBeforeUploadResult === 'object') {\n      files = onBeforeUploadResult; // Updating files in state, because uploader plugins receive file IDs,\n      // and then fetch the actual file object from state\n\n      this.setState({\n        files\n      });\n    }\n\n    return Promise.resolve().then(() => _classPrivateFieldLooseBase(this, _restricter)[_restricter].validateMinNumberOfFiles(files)).catch(err => {\n      _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit](err);\n\n      throw err;\n    }).then(() => {\n      if (!_classPrivateFieldLooseBase(this, _checkRequiredMetaFields)[_checkRequiredMetaFields](files)) {\n        throw new RestrictionError(this.i18n('missingRequiredMetaField'));\n      }\n    }).catch(err => {\n      // Doing this in a separate catch because we already emited and logged\n      // all the errors in `checkRequiredMetaFields` so we only throw a generic\n      // missing fields error here.\n      throw err;\n    }).then(() => {\n      const {\n        currentUploads\n      } = this.getState(); // get a list of files that are currently assigned to uploads\n\n      const currentlyUploadingFiles = Object.values(currentUploads).flatMap(curr => curr.fileIDs);\n      const waitingFileIDs = [];\n      Object.keys(files).forEach(fileID => {\n        const file = this.getFile(fileID); // if the file hasn't started uploading and hasn't already been assigned to an upload..\n\n        if (!file.progress.uploadStarted && currentlyUploadingFiles.indexOf(fileID) === -1) {\n          waitingFileIDs.push(file.id);\n        }\n      });\n\n      const uploadID = _classPrivateFieldLooseBase(this, _createUpload)[_createUpload](waitingFileIDs);\n\n      return _classPrivateFieldLooseBase(this, _runUpload)[_runUpload](uploadID);\n    }).catch(err => {\n      this.emit('error', err);\n      this.log(err, 'error');\n      throw err;\n    });\n  }\n\n}\n\nfunction _informAndEmit2(error, file) {\n  const {\n    message,\n    details = ''\n  } = error;\n\n  if (error.isRestriction) {\n    this.emit('restriction-failed', file, error);\n  } else {\n    this.emit('error', error);\n  }\n\n  this.info({\n    message,\n    details\n  }, 'error', this.opts.infoTimeout);\n  this.log(`${message} ${details}`.trim(), 'error');\n}\n\nfunction _checkRequiredMetaFieldsOnFile2(file) {\n  const {\n    missingFields,\n    error\n  } = _classPrivateFieldLooseBase(this, _restricter)[_restricter].getMissingRequiredMetaFields(file);\n\n  if (missingFields.length > 0) {\n    this.setFileState(file.id, {\n      missingRequiredMetaFields: missingFields\n    });\n    this.log(error.message);\n    this.emit('restriction-failed', file, error);\n    return false;\n  }\n\n  return true;\n}\n\nfunction _checkRequiredMetaFields2(files) {\n  let success = true;\n\n  for (const file of Object.values(files)) {\n    if (!_classPrivateFieldLooseBase(this, _checkRequiredMetaFieldsOnFile)[_checkRequiredMetaFieldsOnFile](file)) {\n      success = false;\n    }\n  }\n\n  return success;\n}\n\nfunction _assertNewUploadAllowed2(file) {\n  const {\n    allowNewUpload\n  } = this.getState();\n\n  if (allowNewUpload === false) {\n    const error = new RestrictionError(this.i18n('noMoreFilesAllowed'));\n\n    _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit](error, file);\n\n    throw error;\n  }\n}\n\nfunction _checkAndCreateFileStateObject2(files, fileDescriptor) {\n  // Uppy expects files in { name, type, size, data } format.\n  // If the actual File object is passed from input[type=file] or drag-drop,\n  // we normalize it to match Uppy file object\n  if (fileDescriptor instanceof File) {\n    // eslint-disable-next-line no-param-reassign\n    fileDescriptor = {\n      name: fileDescriptor.name,\n      type: fileDescriptor.type,\n      size: fileDescriptor.size,\n      data: fileDescriptor\n    };\n  }\n\n  const fileType = getFileType(fileDescriptor);\n  const fileName = getFileName(fileType, fileDescriptor);\n  const fileExtension = getFileNameAndExtension(fileName).extension;\n  const isRemote = Boolean(fileDescriptor.isRemote);\n  const fileID = generateFileID({ ...fileDescriptor,\n    type: fileType\n  });\n\n  if (this.checkIfFileAlreadyExists(fileID)) {\n    const error = new RestrictionError(this.i18n('noDuplicates', {\n      fileName\n    }));\n\n    _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit](error, fileDescriptor);\n\n    throw error;\n  }\n\n  const meta = fileDescriptor.meta || {};\n  meta.name = fileName;\n  meta.type = fileType; // `null` means the size is unknown.\n\n  const size = Number.isFinite(fileDescriptor.data.size) ? fileDescriptor.data.size : null;\n  let newFile = {\n    source: fileDescriptor.source || '',\n    id: fileID,\n    name: fileName,\n    extension: fileExtension || '',\n    meta: { ...this.getState().meta,\n      ...meta\n    },\n    type: fileType,\n    data: fileDescriptor.data,\n    progress: {\n      percentage: 0,\n      bytesUploaded: 0,\n      bytesTotal: size,\n      uploadComplete: false,\n      uploadStarted: null\n    },\n    size,\n    isRemote,\n    remote: fileDescriptor.remote || '',\n    preview: fileDescriptor.preview\n  };\n  const onBeforeFileAddedResult = this.opts.onBeforeFileAdded(newFile, files);\n\n  if (onBeforeFileAddedResult === false) {\n    // Dont show UI info for this error, as it should be done by the developer\n    const error = new RestrictionError('Cannot add the file because onBeforeFileAdded returned false.');\n    this.emit('restriction-failed', fileDescriptor, error);\n    throw error;\n  } else if (typeof onBeforeFileAddedResult === 'object' && onBeforeFileAddedResult !== null) {\n    newFile = onBeforeFileAddedResult;\n  }\n\n  try {\n    const filesArray = Object.keys(files).map(i => files[i]);\n\n    _classPrivateFieldLooseBase(this, _restricter)[_restricter].validate(newFile, filesArray);\n  } catch (err) {\n    _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit](err, newFile);\n\n    throw err;\n  }\n\n  return newFile;\n}\n\nfunction _startIfAutoProceed2() {\n  if (this.opts.autoProceed && !this.scheduledAutoProceed) {\n    this.scheduledAutoProceed = setTimeout(() => {\n      this.scheduledAutoProceed = null;\n      this.upload().catch(err => {\n        if (!err.isRestriction) {\n          this.log(err.stack || err.message || err);\n        }\n      });\n    }, 4);\n  }\n}\n\nfunction _addListeners2() {\n  /**\n   * @param {Error} error\n   * @param {object} [file]\n   * @param {object} [response]\n   */\n  const errorHandler = (error, file, response) => {\n    let errorMsg = error.message || 'Unknown error';\n\n    if (error.details) {\n      errorMsg += ` ${error.details}`;\n    }\n\n    this.setState({\n      error: errorMsg\n    });\n\n    if (file != null && file.id in this.getState().files) {\n      this.setFileState(file.id, {\n        error: errorMsg,\n        response\n      });\n    }\n  };\n\n  this.on('error', errorHandler);\n  this.on('upload-error', (file, error, response) => {\n    errorHandler(error, file, response);\n\n    if (typeof error === 'object' && error.message) {\n      const newError = new Error(error.message);\n      newError.details = error.message;\n\n      if (error.details) {\n        newError.details += ` ${error.details}`;\n      }\n\n      newError.message = this.i18n('failedToUpload', {\n        file: file == null ? void 0 : file.name\n      });\n\n      _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit](newError);\n    } else {\n      _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit](error);\n    }\n  });\n  this.on('upload', () => {\n    this.setState({\n      error: null\n    });\n  });\n  this.on('upload-started', file => {\n    if (file == null || !this.getFile(file.id)) {\n      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return;\n    }\n\n    this.setFileState(file.id, {\n      progress: {\n        uploadStarted: Date.now(),\n        uploadComplete: false,\n        percentage: 0,\n        bytesUploaded: 0,\n        bytesTotal: file.size\n      }\n    });\n  });\n  this.on('upload-progress', this.calculateProgress);\n  this.on('upload-success', (file, uploadResp) => {\n    if (file == null || !this.getFile(file.id)) {\n      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return;\n    }\n\n    const currentProgress = this.getFile(file.id).progress;\n    this.setFileState(file.id, {\n      progress: { ...currentProgress,\n        postprocess: _classPrivateFieldLooseBase(this, _postProcessors)[_postProcessors].size > 0 ? {\n          mode: 'indeterminate'\n        } : null,\n        uploadComplete: true,\n        percentage: 100,\n        bytesUploaded: currentProgress.bytesTotal\n      },\n      response: uploadResp,\n      uploadURL: uploadResp.uploadURL,\n      isPaused: false\n    }); // Remote providers sometimes don't tell us the file size,\n    // but we can know how many bytes we uploaded once the upload is complete.\n\n    if (file.size == null) {\n      this.setFileState(file.id, {\n        size: uploadResp.bytesUploaded || currentProgress.bytesTotal\n      });\n    }\n\n    this.calculateTotalProgress();\n  });\n  this.on('preprocess-progress', (file, progress) => {\n    if (file == null || !this.getFile(file.id)) {\n      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return;\n    }\n\n    this.setFileState(file.id, {\n      progress: { ...this.getFile(file.id).progress,\n        preprocess: progress\n      }\n    });\n  });\n  this.on('preprocess-complete', file => {\n    if (file == null || !this.getFile(file.id)) {\n      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return;\n    }\n\n    const files = { ...this.getState().files\n    };\n    files[file.id] = { ...files[file.id],\n      progress: { ...files[file.id].progress\n      }\n    };\n    delete files[file.id].progress.preprocess;\n    this.setState({\n      files\n    });\n  });\n  this.on('postprocess-progress', (file, progress) => {\n    if (file == null || !this.getFile(file.id)) {\n      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return;\n    }\n\n    this.setFileState(file.id, {\n      progress: { ...this.getState().files[file.id].progress,\n        postprocess: progress\n      }\n    });\n  });\n  this.on('postprocess-complete', file => {\n    if (file == null || !this.getFile(file.id)) {\n      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return;\n    }\n\n    const files = { ...this.getState().files\n    };\n    files[file.id] = { ...files[file.id],\n      progress: { ...files[file.id].progress\n      }\n    };\n    delete files[file.id].progress.postprocess;\n    this.setState({\n      files\n    });\n  });\n  this.on('restored', () => {\n    // Files may have changed--ensure progress is still accurate.\n    this.calculateTotalProgress();\n  });\n  this.on('dashboard:file-edit-complete', file => {\n    if (file) {\n      _classPrivateFieldLooseBase(this, _checkRequiredMetaFieldsOnFile)[_checkRequiredMetaFieldsOnFile](file);\n    }\n  }); // show informer if offline\n\n  if (typeof window !== 'undefined' && window.addEventListener) {\n    window.addEventListener('online', _classPrivateFieldLooseBase(this, _updateOnlineStatus)[_updateOnlineStatus]);\n    window.addEventListener('offline', _classPrivateFieldLooseBase(this, _updateOnlineStatus)[_updateOnlineStatus]);\n    setTimeout(_classPrivateFieldLooseBase(this, _updateOnlineStatus)[_updateOnlineStatus], 3000);\n  }\n}\n\nfunction _createUpload2(fileIDs, opts) {\n  if (opts === void 0) {\n    opts = {};\n  }\n\n  // uppy.retryAll sets this to true  when retrying we want to ignore `allowNewUpload: false`\n  const {\n    forceAllowNewUpload = false\n  } = opts;\n  const {\n    allowNewUpload,\n    currentUploads\n  } = this.getState();\n\n  if (!allowNewUpload && !forceAllowNewUpload) {\n    throw new Error('Cannot create a new upload: already uploading.');\n  }\n\n  const uploadID = nanoid();\n  this.emit('upload', {\n    id: uploadID,\n    fileIDs\n  });\n  this.setState({\n    allowNewUpload: this.opts.allowMultipleUploadBatches !== false && this.opts.allowMultipleUploads !== false,\n    currentUploads: { ...currentUploads,\n      [uploadID]: {\n        fileIDs,\n        step: 0,\n        result: {}\n      }\n    }\n  });\n  return uploadID;\n}\n\nfunction _getUpload2(uploadID) {\n  const {\n    currentUploads\n  } = this.getState();\n  return currentUploads[uploadID];\n}\n\nfunction _removeUpload2(uploadID) {\n  const currentUploads = { ...this.getState().currentUploads\n  };\n  delete currentUploads[uploadID];\n  this.setState({\n    currentUploads\n  });\n}\n\nasync function _runUpload2(uploadID) {\n  let {\n    currentUploads\n  } = this.getState();\n  let currentUpload = currentUploads[uploadID];\n  const restoreStep = currentUpload.step || 0;\n  const steps = [..._classPrivateFieldLooseBase(this, _preProcessors)[_preProcessors], ..._classPrivateFieldLooseBase(this, _uploaders)[_uploaders], ..._classPrivateFieldLooseBase(this, _postProcessors)[_postProcessors]];\n\n  try {\n    for (let step = restoreStep; step < steps.length; step++) {\n      if (!currentUpload) {\n        break;\n      }\n\n      const fn = steps[step];\n      const updatedUpload = { ...currentUpload,\n        step\n      };\n      this.setState({\n        currentUploads: { ...currentUploads,\n          [uploadID]: updatedUpload\n        }\n      }); // TODO give this the `updatedUpload` object as its only parameter maybe?\n      // Otherwise when more metadata may be added to the upload this would keep getting more parameters\n\n      await fn(updatedUpload.fileIDs, uploadID); // Update currentUpload value in case it was modified asynchronously.\n\n      currentUploads = this.getState().currentUploads;\n      currentUpload = currentUploads[uploadID];\n    }\n  } catch (err) {\n    _classPrivateFieldLooseBase(this, _removeUpload)[_removeUpload](uploadID);\n\n    throw err;\n  } // Set result data.\n\n\n  if (currentUpload) {\n    // Mark postprocessing step as complete if necessary; this addresses a case where we might get\n    // stuck in the postprocessing UI while the upload is fully complete.\n    // If the postprocessing steps do not do any work, they may not emit postprocessing events at\n    // all, and never mark the postprocessing as complete. This is fine on its own but we\n    // introduced code in the @uppy/core upload-success handler to prepare postprocessing progress\n    // state if any postprocessors are registered. That is to avoid a \"flash of completed state\"\n    // before the postprocessing plugins can emit events.\n    //\n    // So, just in case an upload with postprocessing plugins *has* completed *without* emitting\n    // postprocessing completion, we do it instead.\n    currentUpload.fileIDs.forEach(fileID => {\n      const file = this.getFile(fileID);\n\n      if (file && file.progress.postprocess) {\n        this.emit('postprocess-complete', file);\n      }\n    });\n    const files = currentUpload.fileIDs.map(fileID => this.getFile(fileID));\n    const successful = files.filter(file => !file.error);\n    const failed = files.filter(file => file.error);\n    await this.addResultData(uploadID, {\n      successful,\n      failed,\n      uploadID\n    }); // Update currentUpload value in case it was modified asynchronously.\n\n    currentUploads = this.getState().currentUploads;\n    currentUpload = currentUploads[uploadID];\n  } // Emit completion events.\n  // This is in a separate function so that the `currentUploads` variable\n  // always refers to the latest state. In the handler right above it refers\n  // to an outdated object without the `.result` property.\n\n\n  let result;\n\n  if (currentUpload) {\n    result = currentUpload.result;\n    this.emit('complete', result);\n\n    _classPrivateFieldLooseBase(this, _removeUpload)[_removeUpload](uploadID);\n  }\n\n  if (result == null) {\n    this.log(`Not setting result for an upload that has been removed: ${uploadID}`);\n  }\n\n  return result;\n}\n\nUppy.VERSION = packageJson.version;\nexport default Uppy;","import isDOMElement from './isDOMElement.js';\n/**\n * Find a DOM element.\n *\n * @param {Node|string} element\n * @returns {Node|null}\n */\n\nexport default function findDOMElement(element, context) {\n  if (context === void 0) {\n    context = document;\n  }\n\n  if (typeof element === 'string') {\n    return context.querySelector(element);\n  }\n\n  if (isDOMElement(element)) {\n    return element;\n  }\n\n  return null;\n}","/**\n * Check if an object is a DOM element. Duck-typing based on `nodeType`.\n *\n * @param {*} obj\n */\nexport default function isDOMElement(obj) {\n  return (obj == null ? void 0 : obj.nodeType) === Node.ELEMENT_NODE;\n}","/**\n * Get the declared text direction for an element.\n *\n * @param {Node} element\n * @returns {string|undefined}\n */\nfunction getTextDirection(element) {\n  var _element;\n\n  // There is another way to determine text direction using getComputedStyle(), as done here:\n  // https://github.com/pencil-js/text-direction/blob/2a235ce95089b3185acec3b51313cbba921b3811/text-direction.js\n  //\n  // We do not use that approach because we are interested specifically in the _declared_ text direction.\n  // If no text direction is declared, we have to provide our own explicit text direction so our\n  // bidirectional CSS style sheets work.\n  while (element && !element.dir) {\n    // eslint-disable-next-line no-param-reassign\n    element = element.parentNode;\n  }\n\n  return (_element = element) == null ? void 0 : _element.dir;\n}\n\nexport default getTextDirection;","/**\n * Core plugin logic that all plugins share.\n *\n * BasePlugin does not contain DOM rendering so it can be used for plugins\n * without a user interface.\n *\n * See `Plugin` for the extended version with Preact rendering for interfaces.\n */\nimport Translator from '@uppy/utils/lib/Translator';\nexport default class BasePlugin {\n  constructor(uppy, opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    this.uppy = uppy;\n    this.opts = opts;\n  }\n\n  getPluginState() {\n    const {\n      plugins\n    } = this.uppy.getState();\n    return plugins[this.id] || {};\n  }\n\n  setPluginState(update) {\n    const {\n      plugins\n    } = this.uppy.getState();\n    this.uppy.setState({\n      plugins: { ...plugins,\n        [this.id]: { ...plugins[this.id],\n          ...update\n        }\n      }\n    });\n  }\n\n  setOptions(newOpts) {\n    this.opts = { ...this.opts,\n      ...newOpts\n    };\n    this.setPluginState(); // so that UI re-renders with new options\n\n    this.i18nInit();\n  }\n\n  i18nInit() {\n    const translator = new Translator([this.defaultLocale, this.uppy.locale, this.opts.locale]);\n    this.i18n = translator.translate.bind(translator);\n    this.i18nArray = translator.translateArray.bind(translator);\n    this.setPluginState(); // so that UI re-renders and we see the updated locale\n  }\n  /**\n   * Extendable methods\n   * ==================\n   * These methods are here to serve as an overview of the extendable methods as well as\n   * making them not conditional in use, such as `if (this.afterUpdate)`.\n   */\n  // eslint-disable-next-line class-methods-use-this\n\n\n  addTarget() {\n    throw new Error('Extend the addTarget method to add your plugin to another plugin\\'s target');\n  } // eslint-disable-next-line class-methods-use-this\n\n\n  install() {} // eslint-disable-next-line class-methods-use-this\n\n\n  uninstall() {}\n  /**\n   * Called when plugin is mounted, whether in DOM or into another plugin.\n   * Needed because sometimes plugins are mounted separately/after `install`,\n   * so this.el and this.parent might not be available in `install`.\n   * This is the case with @uppy/react plugins, for example.\n   */\n\n\n  render() {\n    throw new Error('Extend the render method to add your plugin to a DOM element');\n  } // eslint-disable-next-line class-methods-use-this\n\n\n  update() {} // Called after every state update, after everything's mounted. Debounced.\n  // eslint-disable-next-line class-methods-use-this\n\n\n  afterUpdate() {}\n\n}","function _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\n\nvar id = 0;\n\nfunction _classPrivateFieldLooseKey(name) { return \"__private_\" + id++ + \"_\" + name; }\n\nimport { render } from 'preact';\nimport findDOMElement from '@uppy/utils/lib/findDOMElement';\nimport getTextDirection from '@uppy/utils/lib/getTextDirection';\nimport BasePlugin from './BasePlugin.js';\n/**\n * Defer a frequent call to the microtask queue.\n *\n * @param {() => T} fn\n * @returns {Promise<T>}\n */\n\nfunction debounce(fn) {\n  let calling = null;\n  let latestArgs = null;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    latestArgs = args;\n\n    if (!calling) {\n      calling = Promise.resolve().then(() => {\n        calling = null; // At this point `args` may be different from the most\n        // recent state, if multiple calls happened since this task\n        // was queued. So we use the `latestArgs`, which definitely\n        // is the most recent call.\n\n        return fn(...latestArgs);\n      });\n    }\n\n    return calling;\n  };\n}\n/**\n * UIPlugin is the extended version of BasePlugin to incorporate rendering with Preact.\n * Use this for plugins that need a user interface.\n *\n * For plugins without an user interface, see BasePlugin.\n */\n\n\nvar _updateUI = /*#__PURE__*/_classPrivateFieldLooseKey(\"updateUI\");\n\nclass UIPlugin extends BasePlugin {\n  constructor() {\n    super(...arguments);\n    Object.defineProperty(this, _updateUI, {\n      writable: true,\n      value: void 0\n    });\n  }\n\n  getTargetPlugin(target) {\n    let targetPlugin;\n\n    if (typeof target === 'object' && target instanceof UIPlugin) {\n      // Targeting a plugin *instance*\n      targetPlugin = target;\n    } else if (typeof target === 'function') {\n      // Targeting a plugin type\n      const Target = target; // Find the target plugin instance.\n\n      this.uppy.iteratePlugins(p => {\n        if (p instanceof Target) {\n          targetPlugin = p;\n        }\n      });\n    }\n\n    return targetPlugin;\n  }\n  /**\n   * Check if supplied `target` is a DOM element or an `object`.\n   * If its an object  target is a plugin, and we search `plugins`\n   * for a plugin with same name and return its target.\n   */\n\n\n  mount(target, plugin) {\n    const callerPluginName = plugin.id;\n    const targetElement = findDOMElement(target);\n\n    if (targetElement) {\n      this.isTargetDOMEl = true; // When target is <body> with a single <div> element,\n      // Preact thinks its the Uppy root element in there when doing a diff,\n      // and destroys it. So we are creating a fragment (could be empty div)\n\n      const uppyRootElement = document.createElement('div');\n      uppyRootElement.classList.add('uppy-Root'); // API for plugins that require a synchronous rerender.\n\n      _classPrivateFieldLooseBase(this, _updateUI)[_updateUI] = debounce(state => {\n        // plugin could be removed, but this.rerender is debounced below,\n        // so it could still be called even after uppy.removePlugin or uppy.close\n        // hence the check\n        if (!this.uppy.getPlugin(this.id)) return;\n        render(this.render(state), uppyRootElement);\n        this.afterUpdate();\n      });\n      this.uppy.log(`Installing ${callerPluginName} to a DOM element '${target}'`);\n\n      if (this.opts.replaceTargetContent) {\n        // Doing render(h(null), targetElement), which should have been\n        // a better way, since because the component might need to do additional cleanup when it is removed,\n        // stopped working  Preact just adds null into target, not replacing\n        targetElement.innerHTML = '';\n      }\n\n      render(this.render(this.uppy.getState()), uppyRootElement);\n      this.el = uppyRootElement;\n      targetElement.appendChild(uppyRootElement); // Set the text direction if the page has not defined one.\n\n      uppyRootElement.dir = this.opts.direction || getTextDirection(uppyRootElement) || 'ltr';\n      this.onMount();\n      return this.el;\n    }\n\n    const targetPlugin = this.getTargetPlugin(target);\n\n    if (targetPlugin) {\n      this.uppy.log(`Installing ${callerPluginName} to ${targetPlugin.id}`);\n      this.parent = targetPlugin;\n      this.el = targetPlugin.addTarget(plugin);\n      this.onMount();\n      return this.el;\n    }\n\n    this.uppy.log(`Not installing ${callerPluginName}`);\n    let message = `Invalid target option given to ${callerPluginName}.`;\n\n    if (typeof target === 'function') {\n      message += ' The given target is not a Plugin class. ' + 'Please check that you\\'re not specifying a React Component instead of a plugin. ' + 'If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: ' + 'run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.';\n    } else {\n      message += 'If you meant to target an HTML element, please make sure that the element exists. ' + 'Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. ' + '(see https://github.com/transloadit/uppy/issues/1042)\\n\\n' + 'If you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.';\n    }\n\n    throw new Error(message);\n  }\n\n  update(state) {\n    if (this.el != null) {\n      var _classPrivateFieldLoo, _classPrivateFieldLoo2;\n\n      (_classPrivateFieldLoo = (_classPrivateFieldLoo2 = _classPrivateFieldLooseBase(this, _updateUI))[_updateUI]) == null ? void 0 : _classPrivateFieldLoo.call(_classPrivateFieldLoo2, state);\n    }\n  }\n\n  unmount() {\n    if (this.isTargetDOMEl) {\n      var _this$el;\n\n      (_this$el = this.el) == null ? void 0 : _this$el.remove();\n    }\n\n    this.onUnmount();\n  } // eslint-disable-next-line class-methods-use-this\n\n\n  onMount() {} // eslint-disable-next-line class-methods-use-this\n\n\n  onUnmount() {}\n\n}\n\nexport default UIPlugin;","const mimeToExtensions = {\n  'audio/mp3': 'mp3',\n  'audio/mp4': 'mp4',\n  'audio/ogg': 'ogg',\n  'audio/webm': 'webm',\n  'image/gif': 'gif',\n  'image/heic': 'heic',\n  'image/heif': 'heif',\n  'image/jpeg': 'jpg',\n  'image/png': 'png',\n  'image/svg+xml': 'svg',\n  'video/mp4': 'mp4',\n  'video/ogg': 'ogv',\n  'video/quicktime': 'mov',\n  'video/webm': 'webm',\n  'video/x-matroska': 'mkv',\n  'video/x-msvideo': 'avi'\n};\nexport default function getFileTypeExtension(mimeType) {\n  // Remove the ; bit in 'video/x-matroska;codecs=avc1'\n  // eslint-disable-next-line no-param-reassign\n  [mimeType] = mimeType.split(';', 1);\n  return mimeToExtensions[mimeType] || null;\n}","'use strict'\n\nmodule.exports = isMobile\nmodule.exports.isMobile = isMobile\nmodule.exports.default = isMobile\n\nconst mobileRE = /(android|bb\\d+|meego).+mobile|armv7l|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series[46]0|samsungbrowser|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i\nconst notMobileRE = /CrOS/\n\nconst tabletRE = /android|ipad|playbook|silk/i\n\nfunction isMobile (opts) {\n  if (!opts) opts = {}\n  let ua = opts.ua\n  if (!ua && typeof navigator !== 'undefined') ua = navigator.userAgent\n  if (ua && ua.headers && typeof ua.headers['user-agent'] === 'string') {\n    ua = ua.headers['user-agent']\n  }\n  if (typeof ua !== 'string') return false\n\n  let result =\n    (mobileRE.test(ua) && !notMobileRE.test(ua)) ||\n    (!!opts.tablet && tabletRE.test(ua))\n\n  if (\n    !result &&\n    opts.tablet &&\n    opts.featureDetect &&\n    navigator &&\n    navigator.maxTouchPoints > 1 &&\n    ua.indexOf('Macintosh') !== -1 &&\n    ua.indexOf('Safari') !== -1\n  ) {\n    result = true\n  }\n\n  return result\n}\n","/**\n * Save a <canvas> element's content to a Blob object.\n *\n * @param {HTMLCanvasElement} canvas\n * @returns {Promise}\n */\nexport default function canvasToBlob(canvas, type, quality) {\n  return new Promise(resolve => {\n    canvas.toBlob(resolve, type, quality);\n  });\n}","import { h } from 'preact';\nexport default (() => {\n  return h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    fill: \"#0097DC\",\n    width: \"66\",\n    height: \"55\",\n    viewBox: \"0 0 66 55\"\n  }, h(\"path\", {\n    d: \"M57.3 8.433c4.59 0 8.1 3.51 8.1 8.1v29.7c0 4.59-3.51 8.1-8.1 8.1H8.7c-4.59 0-8.1-3.51-8.1-8.1v-29.7c0-4.59 3.51-8.1 8.1-8.1h9.45l4.59-7.02c.54-.54 1.35-1.08 2.16-1.08h16.2c.81 0 1.62.54 2.16 1.08l4.59 7.02h9.45zM33 14.64c-8.62 0-15.393 6.773-15.393 15.393 0 8.62 6.773 15.393 15.393 15.393 8.62 0 15.393-6.773 15.393-15.393 0-8.62-6.773-15.393-15.393-15.393zM33 40c-5.648 0-9.966-4.319-9.966-9.967 0-5.647 4.318-9.966 9.966-9.966s9.966 4.319 9.966 9.966C42.966 35.681 38.648 40 33 40z\",\n    fillRule: \"evenodd\"\n  }));\n});","import { h } from 'preact';\nimport CameraIcon from \"./CameraIcon.js\";\nexport default (_ref => {\n  let {\n    onSnapshot,\n    i18n\n  } = _ref;\n  return h(\"button\", {\n    className: \"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--picture\",\n    type: \"button\",\n    title: i18n('takePicture'),\n    \"aria-label\": i18n('takePicture'),\n    onClick: onSnapshot,\n    \"data-uppy-super-focusable\": true\n  }, CameraIcon());\n});","import { h } from 'preact';\nexport default function RecordButton(_ref) {\n  let {\n    recording,\n    onStartRecording,\n    onStopRecording,\n    i18n\n  } = _ref;\n\n  if (recording) {\n    return h(\"button\", {\n      className: \"uppy-u-reset uppy-c-btn uppy-Webcam-button\",\n      type: \"button\",\n      title: i18n('stopRecording'),\n      \"aria-label\": i18n('stopRecording'),\n      onClick: onStopRecording,\n      \"data-uppy-super-focusable\": true\n    }, h(\"svg\", {\n      \"aria-hidden\": \"true\",\n      focusable: \"false\",\n      className: \"uppy-c-icon\",\n      width: \"100\",\n      height: \"100\",\n      viewBox: \"0 0 100 100\"\n    }, h(\"rect\", {\n      x: \"15\",\n      y: \"15\",\n      width: \"70\",\n      height: \"70\"\n    })));\n  }\n\n  return h(\"button\", {\n    className: \"uppy-u-reset uppy-c-btn uppy-Webcam-button\",\n    type: \"button\",\n    title: i18n('startRecording'),\n    \"aria-label\": i18n('startRecording'),\n    onClick: onStartRecording,\n    \"data-uppy-super-focusable\": true\n  }, h(\"svg\", {\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\",\n    width: \"100\",\n    height: \"100\",\n    viewBox: \"0 0 100 100\"\n  }, h(\"circle\", {\n    cx: \"50\",\n    cy: \"50\",\n    r: \"40\"\n  })));\n}","import { h } from 'preact';\nimport formatSeconds from './formatSeconds.js';\nexport default function RecordingLength(_ref) {\n  let {\n    recordingLengthSeconds,\n    i18n\n  } = _ref;\n  const formattedRecordingLengthSeconds = formatSeconds(recordingLengthSeconds);\n  return h(\"span\", {\n    \"aria-label\": i18n('recordingLength', {\n      recording_length: formattedRecordingLengthSeconds\n    })\n  }, formattedRecordingLengthSeconds);\n}","/**\n * Takes an Integer value of seconds (e.g. 83) and converts it into a human-readable formatted string (e.g. '1:23').\n *\n * @param {Integer} seconds\n * @returns {string} the formatted seconds (e.g. '1:23' for 1 minute and 23 seconds)\n *\n */\nexport default function formatSeconds(seconds) {\n  return `${Math.floor(seconds / 60)}:${String(seconds % 60).padStart(2, 0)}`;\n}","import { h } from 'preact';\nexport default (_ref => {\n  let {\n    currentDeviceId,\n    videoSources,\n    onChangeVideoSource\n  } = _ref;\n  return h(\"div\", {\n    className: \"uppy-Webcam-videoSource\"\n  }, h(\"select\", {\n    className: \"uppy-u-reset uppy-Webcam-videoSource-select\",\n    onChange: event => {\n      onChangeVideoSource(event.target.value);\n    }\n  }, videoSources.map(videoSource => h(\"option\", {\n    key: videoSource.deviceId,\n    value: videoSource.deviceId,\n    selected: videoSource.deviceId === currentDeviceId\n  }, videoSource.label))));\n});","import { h } from 'preact';\n\nfunction SubmitButton(_ref) {\n  let {\n    onSubmit,\n    i18n\n  } = _ref;\n  return h(\"button\", {\n    className: \"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--submit\",\n    type: \"button\",\n    title: i18n('submitRecordedFile'),\n    \"aria-label\": i18n('submitRecordedFile'),\n    onClick: onSubmit,\n    \"data-uppy-super-focusable\": true\n  }, h(\"svg\", {\n    width: \"12\",\n    height: \"9\",\n    viewBox: \"0 0 12 9\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\"\n  }, h(\"path\", {\n    fill: \"#fff\",\n    fillRule: \"nonzero\",\n    d: \"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z\"\n  })));\n}\n\nexport default SubmitButton;","import { h } from 'preact';\n\nfunction DiscardButton(_ref) {\n  let {\n    onDiscard,\n    i18n\n  } = _ref;\n  return h(\"button\", {\n    className: \"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--discard\",\n    type: \"button\",\n    title: i18n('discardRecordedFile'),\n    \"aria-label\": i18n('discardRecordedFile'),\n    onClick: onDiscard,\n    \"data-uppy-super-focusable\": true\n  }, h(\"svg\", {\n    width: \"13\",\n    height: \"13\",\n    viewBox: \"0 0 13 13\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    className: \"uppy-c-icon\"\n  }, h(\"g\", {\n    fill: \"#FFF\",\n    fillRule: \"evenodd\"\n  }, h(\"path\", {\n    d: \"M.496 11.367L11.103.76l1.414 1.414L1.911 12.781z\"\n  }), h(\"path\", {\n    d: \"M11.104 12.782L.497 2.175 1.911.76l10.607 10.606z\"\n  }))));\n}\n\nexport default DiscardButton;","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n/* eslint-disable jsx-a11y/media-has-caption */\nimport { h, Component } from 'preact';\nimport SnapshotButton from \"./SnapshotButton.js\";\nimport RecordButton from \"./RecordButton.js\";\nimport RecordingLength from \"./RecordingLength.js\";\nimport VideoSourceSelect from \"./VideoSourceSelect.js\";\nimport SubmitButton from \"./SubmitButton.js\";\nimport DiscardButton from \"./DiscardButton.js\";\n\nfunction isModeAvailable(modes, mode) {\n  return modes.includes(mode);\n}\n\nclass CameraScreen extends Component {\n  componentDidMount() {\n    const {\n      onFocus\n    } = this.props;\n    onFocus();\n  }\n\n  componentWillUnmount() {\n    const {\n      onStop\n    } = this.props;\n    onStop();\n  }\n\n  render() {\n    const {\n      src,\n      recordedVideo,\n      recording,\n      modes,\n      supportsRecording,\n      videoSources,\n      showVideoSourceDropdown,\n      showRecordingLength,\n      onSubmit,\n      i18n,\n      mirror,\n      onSnapshot,\n      onStartRecording,\n      onStopRecording,\n      onDiscardRecordedVideo,\n      recordingLengthSeconds\n    } = this.props;\n    const hasRecordedVideo = !!recordedVideo;\n    const shouldShowRecordButton = !hasRecordedVideo && supportsRecording && (isModeAvailable(modes, 'video-only') || isModeAvailable(modes, 'audio-only') || isModeAvailable(modes, 'video-audio'));\n    const shouldShowSnapshotButton = !hasRecordedVideo && isModeAvailable(modes, 'picture');\n    const shouldShowRecordingLength = supportsRecording && showRecordingLength && !hasRecordedVideo;\n    const shouldShowVideoSourceDropdown = showVideoSourceDropdown && videoSources && videoSources.length > 1;\n    const videoProps = {\n      playsinline: true\n    };\n\n    if (recordedVideo) {\n      videoProps.muted = false;\n      videoProps.controls = true;\n      videoProps.src = recordedVideo; // reset srcObject in dom. If not resetted, stream sticks in element\n\n      if (this.videoElement) {\n        this.videoElement.srcObject = undefined;\n      }\n    } else {\n      videoProps.muted = true;\n      videoProps.autoplay = true;\n      videoProps.srcObject = src;\n    }\n\n    return h(\"div\", {\n      className: \"uppy uppy-Webcam-container\"\n    }, h(\"div\", {\n      className: \"uppy-Webcam-videoContainer\"\n    }, h(\"video\", _extends({\n      /* eslint-disable-next-line no-return-assign */\n      ref: videoElement => this.videoElement = videoElement,\n      className: `uppy-Webcam-video  ${mirror ? 'uppy-Webcam-video--mirrored' : ''}`\n      /* eslint-disable-next-line react/jsx-props-no-spreading */\n\n    }, videoProps))), h(\"div\", {\n      className: \"uppy-Webcam-footer\"\n    }, h(\"div\", {\n      className: \"uppy-Webcam-videoSourceContainer\"\n    }, shouldShowVideoSourceDropdown ? VideoSourceSelect(this.props) : null), h(\"div\", {\n      className: \"uppy-Webcam-buttonContainer\"\n    }, shouldShowSnapshotButton && h(SnapshotButton, {\n      onSnapshot: onSnapshot,\n      i18n: i18n\n    }), shouldShowRecordButton && h(RecordButton, {\n      recording: recording,\n      onStartRecording: onStartRecording,\n      onStopRecording: onStopRecording,\n      i18n: i18n\n    }), hasRecordedVideo && h(SubmitButton, {\n      onSubmit: onSubmit,\n      i18n: i18n\n    }), hasRecordedVideo && h(DiscardButton, {\n      onDiscard: onDiscardRecordedVideo,\n      i18n: i18n\n    })), h(\"div\", {\n      className: \"uppy-Webcam-recordingLength\"\n    }, shouldShowRecordingLength && h(RecordingLength, {\n      recordingLengthSeconds: recordingLengthSeconds,\n      i18n: i18n\n    }))));\n  }\n\n}\n\nexport default CameraScreen;","import { h } from 'preact';\nexport default (_ref => {\n  let {\n    icon,\n    i18n,\n    hasCamera\n  } = _ref;\n  return h(\"div\", {\n    className: \"uppy-Webcam-permissons\"\n  }, h(\"div\", {\n    className: \"uppy-Webcam-permissonsIcon\"\n  }, icon()), h(\"h1\", {\n    className: \"uppy-Webcam-title\"\n  }, hasCamera ? i18n('allowAccessTitle') : i18n('noCameraTitle')), h(\"p\", null, hasCamera ? i18n('allowAccessDescription') : i18n('noCameraDescription')));\n});","export default {\n  strings: {\n    pluginNameCamera: 'Camera',\n    noCameraTitle: 'Camera Not Available',\n    noCameraDescription: 'In order to take pictures or record video, please connect a camera device',\n    recordingStoppedMaxSize: 'Recording stopped because the file size is about to exceed the limit',\n    submitRecordedFile: 'Submit recorded file',\n    discardRecordedFile: 'Discard recorded file',\n    // Shown before a picture is taken when the `countdown` option is set.\n    smile: 'Smile!',\n    // Used as the label for the button that takes a picture.\n    // This is not visibly rendered but is picked up by screen readers.\n    takePicture: 'Take a picture',\n    // Used as the label for the button that starts a video recording.\n    // This is not visibly rendered but is picked up by screen readers.\n    startRecording: 'Begin video recording',\n    // Used as the label for the button that stops a video recording.\n    // This is not visibly rendered but is picked up by screen readers.\n    stopRecording: 'Stop video recording',\n    // Used as the label for the recording length counter. See the showRecordingLength option.\n    // This is not visibly rendered but is picked up by screen readers.\n    recordingLength: 'Recording length %{recording_length}',\n    // Title on the allow access screen\n    allowAccessTitle: 'Please allow access to your camera',\n    // Description on the allow access screen\n    allowAccessDescription: 'In order to take pictures or record video with your camera, please allow camera access for this site.'\n  }\n};","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\n\nvar id = 0;\n\nfunction _classPrivateFieldLooseKey(name) { return \"__private_\" + id++ + \"_\" + name; }\n\nimport { h } from 'preact';\nimport { UIPlugin } from '@uppy/core';\nimport getFileTypeExtension from '@uppy/utils/lib/getFileTypeExtension';\nimport mimeTypes from '@uppy/utils/lib/mimeTypes';\nimport isMobile from 'is-mobile';\nimport canvasToBlob from '@uppy/utils/lib/canvasToBlob';\nimport supportsMediaRecorder from './supportsMediaRecorder.js';\nimport CameraIcon from \"./CameraIcon.js\";\nimport CameraScreen from \"./CameraScreen.js\";\nimport PermissionsScreen from \"./PermissionsScreen.js\";\nconst packageJson = {\n  \"version\": \"3.2.1\"\n};\nimport locale from './locale.js';\n/**\n * Normalize a MIME type or file extension into a MIME type.\n *\n * @param {string} fileType - MIME type or a file extension prefixed with `.`.\n * @returns {string|undefined} The MIME type or `undefined` if the fileType is an extension and is not known.\n */\n\nfunction toMimeType(fileType) {\n  if (fileType[0] === '.') {\n    return mimeTypes[fileType.slice(1)];\n  }\n\n  return fileType;\n}\n/**\n * Is this MIME type a video?\n *\n * @param {string} mimeType - MIME type.\n * @returns {boolean}\n */\n\n\nfunction isVideoMimeType(mimeType) {\n  return /^video\\/[^*]+$/.test(mimeType);\n}\n/**\n * Is this MIME type an image?\n *\n * @param {string} mimeType - MIME type.\n * @returns {boolean}\n */\n\n\nfunction isImageMimeType(mimeType) {\n  return /^image\\/[^*]+$/.test(mimeType);\n}\n\nfunction getMediaDevices() {\n  // bug in the compatibility data\n  // eslint-disable-next-line compat/compat\n  return navigator.mediaDevices;\n}\n\nfunction isModeAvailable(modes, mode) {\n  return modes.includes(mode);\n}\n/**\n * Webcam\n */\n\n\nvar _enableMirror = /*#__PURE__*/_classPrivateFieldLooseKey(\"enableMirror\");\n\nexport default class Webcam extends UIPlugin {\n  // enableMirror is used to toggle mirroring, for instance when discarding the video,\n  // while `opts.mirror` is used to remember the initial user setting\n  constructor(uppy, opts) {\n    super(uppy, opts);\n    Object.defineProperty(this, _enableMirror, {\n      writable: true,\n      value: void 0\n    });\n    this.mediaDevices = getMediaDevices();\n    this.supportsUserMedia = !!this.mediaDevices; // eslint-disable-next-line no-restricted-globals\n\n    this.protocol = location.protocol.match(/https/i) ? 'https' : 'http';\n    this.id = this.opts.id || 'Webcam';\n    this.type = 'acquirer';\n    this.capturedMediaFile = null;\n\n    this.icon = () => h(\"svg\", {\n      \"aria-hidden\": \"true\",\n      focusable: \"false\",\n      width: \"32\",\n      height: \"32\",\n      viewBox: \"0 0 32 32\"\n    }, h(\"g\", {\n      fill: \"none\",\n      fillRule: \"evenodd\"\n    }, h(\"rect\", {\n      className: \"uppy-ProviderIconBg\",\n      fill: \"#03BFEF\",\n      width: \"32\",\n      height: \"32\",\n      rx: \"16\"\n    }), h(\"path\", {\n      d: \"M22 11c1.133 0 2 .867 2 2v7.333c0 1.134-.867 2-2 2H10c-1.133 0-2-.866-2-2V13c0-1.133.867-2 2-2h2.333l1.134-1.733C13.6 9.133 13.8 9 14 9h4c.2 0 .4.133.533.267L19.667 11H22zm-6 1.533a3.764 3.764 0 0 0-3.8 3.8c0 2.129 1.672 3.801 3.8 3.801s3.8-1.672 3.8-3.8c0-2.13-1.672-3.801-3.8-3.801zm0 6.261c-1.395 0-2.46-1.066-2.46-2.46 0-1.395 1.065-2.461 2.46-2.461s2.46 1.066 2.46 2.46c0 1.395-1.065 2.461-2.46 2.461z\",\n      fill: \"#FFF\",\n      fillRule: \"nonzero\"\n    })));\n\n    this.defaultLocale = locale; // set default options\n\n    const defaultOptions = {\n      onBeforeSnapshot: () => Promise.resolve(),\n      countdown: false,\n      modes: ['video-audio', 'video-only', 'audio-only', 'picture'],\n      mirror: true,\n      showVideoSourceDropdown: false,\n      facingMode: 'user',\n      // @TODO: remove in the next major\n      videoConstraints: undefined,\n      preferredImageMimeType: null,\n      preferredVideoMimeType: null,\n      showRecordingLength: false,\n      mobileNativeCamera: isMobile({\n        tablet: true\n      })\n    };\n    this.opts = { ...defaultOptions,\n      ...opts\n    };\n    this.i18nInit();\n    this.title = this.i18n('pluginNameCamera');\n    _classPrivateFieldLooseBase(this, _enableMirror)[_enableMirror] = this.opts.mirror;\n    this.install = this.install.bind(this);\n    this.setPluginState = this.setPluginState.bind(this);\n    this.render = this.render.bind(this); // Camera controls\n\n    this.start = this.start.bind(this);\n    this.stop = this.stop.bind(this);\n    this.takeSnapshot = this.takeSnapshot.bind(this);\n    this.startRecording = this.startRecording.bind(this);\n    this.stopRecording = this.stopRecording.bind(this);\n    this.discardRecordedVideo = this.discardRecordedVideo.bind(this);\n    this.submit = this.submit.bind(this);\n    this.oneTwoThreeSmile = this.oneTwoThreeSmile.bind(this);\n    this.focus = this.focus.bind(this);\n    this.changeVideoSource = this.changeVideoSource.bind(this);\n    this.webcamActive = false;\n\n    if (this.opts.countdown) {\n      this.opts.onBeforeSnapshot = this.oneTwoThreeSmile;\n    }\n\n    this.setPluginState({\n      hasCamera: false,\n      cameraReady: false,\n      cameraError: null,\n      recordingLengthSeconds: 0,\n      videoSources: [],\n      currentDeviceId: null\n    });\n  }\n\n  setOptions(newOpts) {\n    super.setOptions({ ...newOpts,\n      videoConstraints: { // May be undefined but ... handles that\n        ...this.opts.videoConstraints,\n        ...(newOpts == null ? void 0 : newOpts.videoConstraints)\n      }\n    });\n  }\n\n  hasCameraCheck() {\n    if (!this.mediaDevices) {\n      return Promise.resolve(false);\n    }\n\n    return this.mediaDevices.enumerateDevices().then(devices => {\n      return devices.some(device => device.kind === 'videoinput');\n    });\n  }\n\n  isAudioOnly() {\n    return this.opts.modes.length === 1 && this.opts.modes[0] === 'audio-only';\n  }\n\n  getConstraints(deviceId) {\n    if (deviceId === void 0) {\n      deviceId = null;\n    }\n\n    const acceptsAudio = this.opts.modes.indexOf('video-audio') !== -1 || this.opts.modes.indexOf('audio-only') !== -1;\n    const acceptsVideo = !this.isAudioOnly() && (this.opts.modes.indexOf('video-audio') !== -1 || this.opts.modes.indexOf('video-only') !== -1 || this.opts.modes.indexOf('picture') !== -1);\n    const videoConstraints = { ...(this.opts.videoConstraints || {\n        facingMode: this.opts.facingMode\n      }),\n      // facingMode takes precedence over deviceId, and not needed\n      // when specific device is selected\n      ...(deviceId ? {\n        deviceId,\n        facingMode: null\n      } : {})\n    };\n    return {\n      audio: acceptsAudio,\n      video: acceptsVideo ? videoConstraints : false\n    };\n  } // eslint-disable-next-line consistent-return\n\n\n  start(options) {\n    if (options === void 0) {\n      options = null;\n    }\n\n    if (!this.supportsUserMedia) {\n      return Promise.reject(new Error('Webcam access not supported'));\n    }\n\n    this.webcamActive = true;\n\n    if (this.opts.mirror) {\n      _classPrivateFieldLooseBase(this, _enableMirror)[_enableMirror] = true;\n    }\n\n    const constraints = this.getConstraints(options && options.deviceId ? options.deviceId : null);\n    this.hasCameraCheck().then(hasCamera => {\n      this.setPluginState({\n        hasCamera\n      }); // ask user for access to their camera\n\n      return this.mediaDevices.getUserMedia(constraints).then(stream => {\n        this.stream = stream;\n        let currentDeviceId = null;\n        const tracks = this.isAudioOnly() ? stream.getAudioTracks() : stream.getVideoTracks();\n\n        if (!options || !options.deviceId) {\n          currentDeviceId = tracks[0].getSettings().deviceId;\n        } else {\n          tracks.forEach(track => {\n            if (track.getSettings().deviceId === options.deviceId) {\n              currentDeviceId = track.getSettings().deviceId;\n            }\n          });\n        } // Update the sources now, so we can access the names.\n\n\n        this.updateVideoSources();\n        this.setPluginState({\n          currentDeviceId,\n          cameraReady: true\n        });\n      }).catch(err => {\n        this.setPluginState({\n          cameraReady: false,\n          cameraError: err\n        });\n        this.uppy.info(err.message, 'error');\n      });\n    });\n  }\n  /**\n   * @returns {object}\n   */\n\n\n  getMediaRecorderOptions() {\n    const options = {}; // Try to use the `opts.preferredVideoMimeType` or one of the `allowedFileTypes` for the recording.\n    // If the browser doesn't support it, we'll fall back to the browser default instead.\n    // Safari doesn't have the `isTypeSupported` API.\n\n    if (MediaRecorder.isTypeSupported) {\n      const {\n        restrictions\n      } = this.uppy.opts;\n      let preferredVideoMimeTypes = [];\n\n      if (this.opts.preferredVideoMimeType) {\n        preferredVideoMimeTypes = [this.opts.preferredVideoMimeType];\n      } else if (restrictions.allowedFileTypes) {\n        preferredVideoMimeTypes = restrictions.allowedFileTypes.map(toMimeType).filter(isVideoMimeType);\n      }\n\n      const filterSupportedTypes = candidateType => MediaRecorder.isTypeSupported(candidateType) && getFileTypeExtension(candidateType);\n\n      const acceptableMimeTypes = preferredVideoMimeTypes.filter(filterSupportedTypes);\n\n      if (acceptableMimeTypes.length > 0) {\n        // eslint-disable-next-line prefer-destructuring\n        options.mimeType = acceptableMimeTypes[0];\n      }\n    }\n\n    return options;\n  }\n\n  startRecording() {\n    // only used if supportsMediaRecorder() returned true\n    // eslint-disable-next-line compat/compat\n    this.recorder = new MediaRecorder(this.stream, this.getMediaRecorderOptions());\n    this.recordingChunks = [];\n    let stoppingBecauseOfMaxSize = false;\n    this.recorder.addEventListener('dataavailable', event => {\n      this.recordingChunks.push(event.data);\n      const {\n        restrictions\n      } = this.uppy.opts;\n\n      if (this.recordingChunks.length > 1 && restrictions.maxFileSize != null && !stoppingBecauseOfMaxSize) {\n        const totalSize = this.recordingChunks.reduce((acc, chunk) => acc + chunk.size, 0); // Exclude the initial chunk from the average size calculation because it is likely to be a very small outlier\n\n        const averageChunkSize = (totalSize - this.recordingChunks[0].size) / (this.recordingChunks.length - 1);\n        const expectedEndChunkSize = averageChunkSize * 3;\n        const maxSize = Math.max(0, restrictions.maxFileSize - expectedEndChunkSize);\n\n        if (totalSize > maxSize) {\n          stoppingBecauseOfMaxSize = true;\n          this.uppy.info(this.i18n('recordingStoppedMaxSize'), 'warning', 4000);\n          this.stopRecording();\n        }\n      }\n    }); // use a \"time slice\" of 500ms: ondataavailable will be called each 500ms\n    // smaller time slices mean we can more accurately check the max file size restriction\n\n    this.recorder.start(500);\n\n    if (this.opts.showRecordingLength) {\n      // Start the recordingLengthTimer if we are showing the recording length.\n      this.recordingLengthTimer = setInterval(() => {\n        const currentRecordingLength = this.getPluginState().recordingLengthSeconds;\n        this.setPluginState({\n          recordingLengthSeconds: currentRecordingLength + 1\n        });\n      }, 1000);\n    }\n\n    this.setPluginState({\n      isRecording: true\n    });\n  }\n\n  stopRecording() {\n    const stopped = new Promise(resolve => {\n      this.recorder.addEventListener('stop', () => {\n        resolve();\n      });\n      this.recorder.stop();\n\n      if (this.opts.showRecordingLength) {\n        // Stop the recordingLengthTimer if we are showing the recording length.\n        clearInterval(this.recordingLengthTimer);\n        this.setPluginState({\n          recordingLengthSeconds: 0\n        });\n      }\n    });\n    return stopped.then(() => {\n      this.setPluginState({\n        isRecording: false\n      });\n      return this.getVideo();\n    }).then(file => {\n      try {\n        this.capturedMediaFile = file; // create object url for capture result preview\n\n        this.setPluginState({\n          // eslint-disable-next-line compat/compat\n          recordedVideo: URL.createObjectURL(file.data)\n        });\n        _classPrivateFieldLooseBase(this, _enableMirror)[_enableMirror] = false;\n      } catch (err) {\n        // Logging the error, exept restrictions, which is handled in Core\n        if (!err.isRestriction) {\n          this.uppy.log(err);\n        }\n      }\n    }).then(() => {\n      this.recordingChunks = null;\n      this.recorder = null;\n    }, error => {\n      this.recordingChunks = null;\n      this.recorder = null;\n      throw error;\n    });\n  }\n\n  discardRecordedVideo() {\n    this.setPluginState({\n      recordedVideo: null\n    });\n\n    if (this.opts.mirror) {\n      _classPrivateFieldLooseBase(this, _enableMirror)[_enableMirror] = true;\n    }\n\n    this.capturedMediaFile = null;\n  }\n\n  submit() {\n    try {\n      if (this.capturedMediaFile) {\n        this.uppy.addFile(this.capturedMediaFile);\n      }\n    } catch (err) {\n      // Logging the error, exept restrictions, which is handled in Core\n      if (!err.isRestriction) {\n        this.uppy.log(err, 'error');\n      }\n    }\n  }\n\n  async stop() {\n    if (this.stream) {\n      const audioTracks = this.stream.getAudioTracks();\n      const videoTracks = this.stream.getVideoTracks();\n      audioTracks.concat(videoTracks).forEach(track => track.stop());\n    }\n\n    if (this.recorder) {\n      await new Promise(resolve => {\n        this.recorder.addEventListener('stop', resolve, {\n          once: true\n        });\n        this.recorder.stop();\n\n        if (this.opts.showRecordingLength) {\n          clearInterval(this.recordingLengthTimer);\n        }\n      });\n    }\n\n    this.recordingChunks = null;\n    this.recorder = null;\n    this.webcamActive = false;\n    this.stream = null;\n    this.setPluginState({\n      recordedVideo: null,\n      isRecording: false,\n      recordingLengthSeconds: 0\n    });\n  }\n\n  getVideoElement() {\n    return this.el.querySelector('.uppy-Webcam-video');\n  }\n\n  oneTwoThreeSmile() {\n    return new Promise((resolve, reject) => {\n      let count = this.opts.countdown; // eslint-disable-next-line consistent-return\n\n      const countDown = setInterval(() => {\n        if (!this.webcamActive) {\n          clearInterval(countDown);\n          this.captureInProgress = false;\n          return reject(new Error('Webcam is not active'));\n        }\n\n        if (count > 0) {\n          this.uppy.info(`${count}...`, 'warning', 800);\n          count--;\n        } else {\n          clearInterval(countDown);\n          this.uppy.info(this.i18n('smile'), 'success', 1500);\n          setTimeout(() => resolve(), 1500);\n        }\n      }, 1000);\n    });\n  }\n\n  takeSnapshot() {\n    if (this.captureInProgress) return;\n    this.captureInProgress = true;\n    this.opts.onBeforeSnapshot().catch(err => {\n      const message = typeof err === 'object' ? err.message : err;\n      this.uppy.info(message, 'error', 5000);\n      return Promise.reject(new Error(`onBeforeSnapshot: ${message}`));\n    }).then(() => {\n      return this.getImage();\n    }).then(tagFile => {\n      this.captureInProgress = false;\n\n      try {\n        this.uppy.addFile(tagFile);\n      } catch (err) {\n        // Logging the error, except restrictions, which is handled in Core\n        if (!err.isRestriction) {\n          this.uppy.log(err);\n        }\n      }\n    }, error => {\n      this.captureInProgress = false;\n      throw error;\n    });\n  }\n\n  getImage() {\n    const video = this.getVideoElement();\n\n    if (!video) {\n      return Promise.reject(new Error('No video element found, likely due to the Webcam tab being closed.'));\n    }\n\n    const width = video.videoWidth;\n    const height = video.videoHeight;\n    const canvas = document.createElement('canvas');\n    canvas.width = width;\n    canvas.height = height;\n    const ctx = canvas.getContext('2d');\n    ctx.drawImage(video, 0, 0);\n    const {\n      restrictions\n    } = this.uppy.opts;\n    let preferredImageMimeTypes = [];\n\n    if (this.opts.preferredImageMimeType) {\n      preferredImageMimeTypes = [this.opts.preferredImageMimeType];\n    } else if (restrictions.allowedFileTypes) {\n      preferredImageMimeTypes = restrictions.allowedFileTypes.map(toMimeType).filter(isImageMimeType);\n    }\n\n    const mimeType = preferredImageMimeTypes[0] || 'image/jpeg';\n    const ext = getFileTypeExtension(mimeType) || 'jpg';\n    const name = `cam-${Date.now()}.${ext}`;\n    return canvasToBlob(canvas, mimeType).then(blob => {\n      return {\n        source: this.id,\n        name,\n        data: new Blob([blob], {\n          type: mimeType\n        }),\n        type: mimeType\n      };\n    });\n  }\n\n  getVideo() {\n    // Sometimes in iOS Safari, Blobs (especially the first Blob in the recordingChunks Array)\n    // have empty 'type' attributes (e.g. '') so we need to find a Blob that has a defined 'type'\n    // attribute in order to determine the correct MIME type.\n    const mimeType = this.recordingChunks.find(blob => {\n      var _blob$type;\n\n      return ((_blob$type = blob.type) == null ? void 0 : _blob$type.length) > 0;\n    }).type;\n    const fileExtension = getFileTypeExtension(mimeType);\n\n    if (!fileExtension) {\n      return Promise.reject(new Error(`Could not retrieve recording: Unsupported media type \"${mimeType}\"`));\n    }\n\n    const name = `webcam-${Date.now()}.${fileExtension}`;\n    const blob = new Blob(this.recordingChunks, {\n      type: mimeType\n    });\n    const file = {\n      source: this.id,\n      name,\n      data: new Blob([blob], {\n        type: mimeType\n      }),\n      type: mimeType\n    };\n    return Promise.resolve(file);\n  }\n\n  focus() {\n    if (!this.opts.countdown) return;\n    setTimeout(() => {\n      this.uppy.info(this.i18n('smile'), 'success', 1500);\n    }, 1000);\n  }\n\n  changeVideoSource(deviceId) {\n    this.stop();\n    this.start({\n      deviceId\n    });\n  }\n\n  updateVideoSources() {\n    this.mediaDevices.enumerateDevices().then(devices => {\n      this.setPluginState({\n        videoSources: devices.filter(device => device.kind === 'videoinput')\n      });\n    });\n  }\n\n  render() {\n    if (!this.webcamActive) {\n      this.start();\n    }\n\n    const webcamState = this.getPluginState();\n\n    if (!webcamState.cameraReady || !webcamState.hasCamera) {\n      return h(PermissionsScreen, {\n        icon: CameraIcon,\n        i18n: this.i18n,\n        hasCamera: webcamState.hasCamera\n      });\n    }\n\n    return h(CameraScreen // eslint-disable-next-line react/jsx-props-no-spreading\n    , _extends({}, webcamState, {\n      onChangeVideoSource: this.changeVideoSource,\n      onSnapshot: this.takeSnapshot,\n      onStartRecording: this.startRecording,\n      onStopRecording: this.stopRecording,\n      onDiscardRecordedVideo: this.discardRecordedVideo,\n      onSubmit: this.submit,\n      onFocus: this.focus,\n      onStop: this.stop,\n      i18n: this.i18n,\n      modes: this.opts.modes,\n      showRecordingLength: this.opts.showRecordingLength,\n      showVideoSourceDropdown: this.opts.showVideoSourceDropdown,\n      supportsRecording: supportsMediaRecorder(),\n      recording: webcamState.isRecording,\n      mirror: _classPrivateFieldLooseBase(this, _enableMirror)[_enableMirror],\n      src: this.stream\n    }));\n  }\n\n  install() {\n    const {\n      mobileNativeCamera,\n      modes,\n      facingMode,\n      videoConstraints\n    } = this.opts;\n    const {\n      target\n    } = this.opts;\n\n    if (mobileNativeCamera && target) {\n      var _this$getTargetPlugin;\n\n      (_this$getTargetPlugin = this.getTargetPlugin(target)) == null ? void 0 : _this$getTargetPlugin.setOptions({\n        showNativeVideoCameraButton: isModeAvailable(modes, 'video-only') || isModeAvailable(modes, 'video-audio'),\n        showNativePhotoCameraButton: isModeAvailable(modes, 'picture'),\n        nativeCameraFacingMode: (videoConstraints == null ? void 0 : videoConstraints.facingMode) || facingMode\n      });\n      return;\n    }\n\n    this.setPluginState({\n      cameraReady: false,\n      recordingLengthSeconds: 0\n    });\n\n    if (target) {\n      this.mount(target, this);\n    }\n\n    if (this.mediaDevices) {\n      this.updateVideoSources();\n\n      this.mediaDevices.ondevicechange = () => {\n        this.updateVideoSources();\n\n        if (this.stream) {\n          let restartStream = true;\n          const {\n            videoSources,\n            currentDeviceId\n          } = this.getPluginState();\n          videoSources.forEach(videoSource => {\n            if (currentDeviceId === videoSource.deviceId) {\n              restartStream = false;\n            }\n          });\n\n          if (restartStream) {\n            this.stop();\n            this.start();\n          }\n        }\n      };\n    }\n  }\n\n  uninstall() {\n    this.stop();\n    this.unmount();\n  }\n\n  onUnmount() {\n    this.stop();\n  }\n\n}\nWebcam.VERSION = packageJson.version;","export default function supportsMediaRecorder() {\n  /* eslint-disable compat/compat */\n  return typeof MediaRecorder === 'function' && !!MediaRecorder.prototype && typeof MediaRecorder.prototype.start === 'function';\n  /* eslint-enable compat/compat */\n}","import Uppy from '@uppy/core';\nimport XHRUpload from '@uppy/xhr-upload';\nimport Dashboard from '@uppy/dashboard';\nconst Webcam = require('@uppy/webcam');\nj/url\n\nconst uploadUrl = `${process.env.HOST_URL}/image`;\nconst uppy = new Uppy()\n    .use(Dashboard, {\n        inline: true,\n        target: '#drag-drop-area',\n    })\n    .use(XHRUpload, {\n        endpoint: uploadUrl,\n        fieldName: 'photo',\n        formData: true,\n})\n\nuppy.on('complete', (result) => {\n        console.log(result);\n\n        for (const file of result.successful) {\n                const url = `${process.env.HOST_URL}/uploads/${file.response.body.msg}`;\n                const link = document.createElement('a');\n                link.href = url;\n                link.innerHTML = url;\n\n                const li = document.createElement('li');\n                li.appendChild(link);\n                // // add li element to the ul element\n                document.getElementById('links').appendChild(li);\n        }\n});\n"],"names":["$56ebe136d9dca885$export$2e2bcd8739ae039","object","key","Object","prototype","hasOwnProperty","call","$249dd1a5d26908a1$var$_classPrivateFieldLooseBase","receiver","privateKey","TypeError","$249dd1a5d26908a1$var$id","$249dd1a5d26908a1$var$_classPrivateFieldLooseKey","name","$249dd1a5d26908a1$var$insertReplacement","source","rx","replacement","newParts","forEach","chunk","push","Symbol","split","raw","i","list","length","$249dd1a5d26908a1$var$interpolate","phrase","options","dollarRegex","interpolated","arg","keys","replace","RegExp","$249dd1a5d26908a1$var$_apply","$249dd1a5d26908a1$export$2e2bcd8739ae039","constructor","locales","defineProperty","this","value","$249dd1a5d26908a1$var$_apply2","locale","strings","pluralize","n","Array","isArray","translate","translateArray","join","Error","string","smart_count","prevLocale","$41c264a1d222634a$exports","emitter","_fns","emit","event","arg1","arg2","arg3","arg4","arg5","arg6","toEmit","e","out","idx","indexOf","args","substring","l","concat","getListeners","fns","apply","emitAll","on","fn","once","one","arguments","off","keep","$3753227fdc8a3f3b$export$ac4959f4f1338dfc","size","id","Math","random","$ac43bb23aa0a60e2$var$reTrim","$ac43bb23aa0a60e2$var$reIsBadHex","$ac43bb23aa0a60e2$var$reIsBinary","$ac43bb23aa0a60e2$var$reIsOctal","$ac43bb23aa0a60e2$var$freeParseInt","parseInt","$ac43bb23aa0a60e2$var$freeGlobal","$parcel$global","$ac43bb23aa0a60e2$var$freeSelf","self","$ac43bb23aa0a60e2$var$root","Function","$ac43bb23aa0a60e2$var$objectToString","toString","$ac43bb23aa0a60e2$var$nativeMax","max","$ac43bb23aa0a60e2$var$nativeMin","min","$ac43bb23aa0a60e2$var$now","Date","now","$ac43bb23aa0a60e2$var$debounce","func","wait","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","time","thisArg","undefined","leadingEdge","setTimeout","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","remainingWait","debounced","isInvoking","$ac43bb23aa0a60e2$var$toNumber","$ac43bb23aa0a60e2$var$isObject","cancel","clearTimeout","flush","type","$ac43bb23aa0a60e2$var$isObjectLike","$ac43bb23aa0a60e2$var$isSymbol","other","valueOf","isBinary","test","slice","$5eaefbf13bcf8ac6$var$_classPrivateFieldLooseBase","$ac43bb23aa0a60e2$exports","$5eaefbf13bcf8ac6$var$id","$5eaefbf13bcf8ac6$var$_classPrivateFieldLooseKey","$5eaefbf13bcf8ac6$var$_callbacks","$5eaefbf13bcf8ac6$var$_publish","$5eaefbf13bcf8ac6$var$DefaultStore","$5eaefbf13bcf8ac6$var$_publish2","writable","Set","state","getState","setState","patch","prevState","nextState","subscribe","listener","add","delete","_len","_key","VERSION","$5eaefbf13bcf8ac6$export$2e2bcd8739ae039","$cdc7af4406f5ae46$export$2e2bcd8739ae039","fullFileName","lastDot","lastIndexOf","extension","$bc7bb7bccbfb804a$export$2e2bcd8739ae039","md","markdown","mp4","mp3","svg","jpg","png","webp","gif","heic","heif","yaml","yml","csv","tsv","tab","avi","mks","mkv","mov","dicom","doc","docm","docx","dot","dotm","dotx","xla","xlam","xlc","xlf","xlm","xls","xlsb","xlsm","xlsx","xlt","xltm","xltx","xlw","txt","text","conf","log","pdf","zip","rar","tar","gz","dmg","$6f3adf1e0f14eebf$export$2e2bcd8739ae039","file","_getFileNameAndExtens","fileExtension","toLowerCase","$1cc8f1472ef13e12$var$encodeFilename","suffix","character","charCodeAt","$1cc8f1472ef13e12$var$encodeCharacter","$1cc8f1472ef13e12$export$2e2bcd8739ae039","meta","relativePath","data","lastModified","$278537c000adb5e2$export$2e2bcd8739ae039","userAgent","navigator","m","exec","edgeVersion","major","minor","$fe589255d76873d0$export$2e2bcd8739ae039","fileType","fileDescriptor","$57d3ea1d6d5f87f5$var$pad","number","$57d3ea1d6d5f87f5$export$2e2bcd8739ae039","date","getHours","getMinutes","getSeconds","$640251ec151f3503$export$51086a57eba987c9","debug","warn","error","console","$640251ec151f3503$export$e6a390ea6399b7d8","_len2","_key2","_len3","_key3","_len4","_key4","$875893a67ef62a64$exports","num","isNaN","neg","units","exponent","floor","Number","pow","unit","toFixed","$a7865dee230829d3$var$WildcardMatcher","separator","hasWild","parts","match","input","ii","testParts","matches","partsCount","String","splice","$a7865dee230829d3$exports","matcher","$848c86846acd75fa$var$reMimePartSplit","$848c86846acd75fa$exports","target","pattern","$83ca063a251f94cc$export$ba43bf67f3d48107","maxFileSize","minFileSize","maxTotalFileSize","maxNumberOfFiles","minNumberOfFiles","allowedFileTypes","requiredMetaFields","$83ca063a251f94cc$export$e4d147272ce048a7","super","isRestriction","$83ca063a251f94cc$export$c464a380a24dd3b8","getOpts","i18n","opts","restrictions","validate","files","filter","f","isGhost","some","includes","$parcel$interopDefault","allowedFileTypesString","types","reduce","total","validateMinNumberOfFiles","getMissingRequiredMetaFields","fileName","missingFields","field","hasOwn","$ad6ffb08cfbeb1e1$export$2e2bcd8739ae039","addBulkFilesFailed","youCanOnlyUploadX","youHaveToAtLeastSelectX","exceedsSize","missingRequiredMetaField","missingRequiredMetaFieldOnFile","inferiorSize","youCanOnlyUploadFileTypes","noMoreFilesAllowed","noDuplicates","companionError","authAborted","companionUnauthorizeHint","failedToUpload","noInternetConnection","connectedToInternet","noFilesFound","selectX","allFilesFromFolderNamed","openFolderNamed","logOut","resetFilter","loading","authenticateWithTitle","authenticateWith","signInWithGoogle","searchImages","enterTextToSearch","search","emptyFolderAdded","folderAlreadyAdded","folderAdded","$09561e6c9ea9b8f8$var$_Symbol$for","$09561e6c9ea9b8f8$var$_Symbol$for2","$09561e6c9ea9b8f8$var$_classPrivateFieldLooseBase","$09561e6c9ea9b8f8$var$id","$09561e6c9ea9b8f8$var$_classPrivateFieldLooseKey","$09561e6c9ea9b8f8$var$_plugins","$09561e6c9ea9b8f8$var$_restricter","$09561e6c9ea9b8f8$var$_storeUnsubscribe","$09561e6c9ea9b8f8$var$_emitter","$09561e6c9ea9b8f8$var$_preProcessors","$09561e6c9ea9b8f8$var$_uploaders","$09561e6c9ea9b8f8$var$_postProcessors","$09561e6c9ea9b8f8$var$_informAndEmit","$09561e6c9ea9b8f8$var$_checkRequiredMetaFieldsOnFile","$09561e6c9ea9b8f8$var$_checkRequiredMetaFields","$09561e6c9ea9b8f8$var$_assertNewUploadAllowed","$09561e6c9ea9b8f8$var$_checkAndCreateFileStateObject","$09561e6c9ea9b8f8$var$_startIfAutoProceed","$09561e6c9ea9b8f8$var$_addListeners","$09561e6c9ea9b8f8$var$_updateOnlineStatus","$09561e6c9ea9b8f8$var$_createUpload","$09561e6c9ea9b8f8$var$_getUpload","$09561e6c9ea9b8f8$var$_removeUpload","$09561e6c9ea9b8f8$var$_runUpload","for","$09561e6c9ea9b8f8$var$Uppy","_opts","$09561e6c9ea9b8f8$var$_runUpload2","$09561e6c9ea9b8f8$var$_removeUpload2","$09561e6c9ea9b8f8$var$_getUpload2","$09561e6c9ea9b8f8$var$_createUpload2","$09561e6c9ea9b8f8$var$_addListeners2","$09561e6c9ea9b8f8$var$_startIfAutoProceed2","$09561e6c9ea9b8f8$var$_checkAndCreateFileStateObject2","$09561e6c9ea9b8f8$var$_assertNewUploadAllowed2","$09561e6c9ea9b8f8$var$_checkRequiredMetaFields2","$09561e6c9ea9b8f8$var$_checkRequiredMetaFieldsOnFile2","$09561e6c9ea9b8f8$var$_informAndEmit2","create","updateOnlineStatus","bind","defaultLocale","defaultOptions","autoProceed","allowMultipleUploadBatches","onBeforeFileAdded","currentFile","onBeforeUpload","store","logger","infoTimeout","i18nInit","calculateProgress","plugins","currentUploads","allowNewUpload","capabilities","uploadProgress","individualCancellation","resumableUploads","totalProgress","info","recoveredState","updateAll","window","callback","iteratePlugins","plugin","update","setFileState","fileID","translator","i18nArray","setOptions","newOpts","setMeta","resetProgress","defaultProgress","percentage","bytesUploaded","uploadComplete","uploadStarted","updatedFiles","updatedFile","progress","addPreProcessor","removePreProcessor","addPostProcessor","removePostProcessor","addUploader","removeUploader","updatedMeta","setFileMeta","newMeta","getFile","getFiles","values","getObjectOfFilesPerState","filesObject","inProgressFiles","_ref","newFiles","startedFiles","preprocess","postprocess","uploadStartedFiles","pausedFiles","isPaused","completeFiles","erroredFiles","inProgressNotPausedFiles","processingFiles","isUploadStarted","isAllComplete","isAllErrored","isAllPaused","isUploadInProgress","isSomeGhost","validateRestrictions","err","checkIfFileAlreadyExists","addFile","newFile","addFiles","fileDescriptors","errors","message","subError","details","AggregateError","err1","removeFiles","fileIDs","reason","updatedUploads","removedFiles","fileIsNotRemoved","uploadFileID","uploadID","newFileIDs","stateUpdate","calculateTotalProgress","removedFileIDs","removeFile","pauseResume","pauseAll","resumeAll","retryAll","filesToRetry","Promise","resolve","successful","failed","forceAllowNewUpload","cancelAll","_temp","retryUpload","logout","provider","canHavePercentage","isFinite","bytesTotal","round","inProgress","sizedFiles","unsizedFiles","progressMax","currentProgress","acc","totalSize","averageSize","uploadedSize","totalProgress1","onLine","wasOffline","getID","use","Plugin","pluginId","existsPluginAlready","getPlugin","msg1","install","foundPlugin","find","method","flat","removePlugin","instance","uninstall","index","findIndex","item","updatedState","close","_temp2","removeEventListener","hideInfo","duration","isComplexMessage","restore","reject","addResultData","currentUpload","upload","_classPrivateFieldLoo","uploader","onBeforeUploadResult","then","catch","currentlyUploadingFiles","flatMap","curr","waitingFileIDs","trim","missingRequiredMetaFields","success","File","isRemote","Boolean","remote","preview","onBeforeFileAddedResult","error1","filesArray","map","scheduledAutoProceed","stack","errorHandler","response","errorMsg","newError","uploadResp","mode","uploadURL","addEventListener","allowMultipleUploads","step","async","restoreStep","steps","updatedUpload","vnodeId","rerenderQueue","prevDebounce","$09561e6c9ea9b8f8$export$2e2bcd8739ae039","EMPTY_OBJ","EMPTY_ARR","IS_NON_DIMENSIONAL","assign","obj","props","removeNode","node","parentNode","removeChild","createElement","children","ref","normalizedProps","defaultProps","createVNode","original","vnode","__k","__","__b","__e","__d","__c","__h","__v","Fragment","Component","context","getDomSibling","childIndex","sibling","updateParentDomPointers","child","base","enqueueRender","c","process","debounceRendering","queue","__r","sort","a","b","component","commitQueue","oldVNode","oldDom","parentDom","__P","diff","ownerSVGElement","commitRoot","diffChildren","renderResult","newParentVNode","oldParentVNode","globalContext","isSvg","excessDomChildren","isHydrating","j","childVNode","newDom","firstChildDom","refs","oldChildren","oldChildrenLength","reorderChildren","placeChild","unmount","applyRef","tmp","toChildArray","nextDom","sibDom","outer","appendChild","nextSibling","insertBefore","setStyle","style","setProperty","dom","oldValue","useCapture","o","cssText","eventProxyCapture","eventProxy","removeAttribute","setAttribute","newVNode","isNew","oldProps","oldState","snapshot","clearProcessingException","newProps","componentContext","renderHook","count","newType","contextType","__E","render","doRender","sub","_sb","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","oldHtml","newHtml","nodeType","localName","document","createTextNode","createElementNS","is","childNodes","dangerouslySetInnerHTML","attributes","__html","innerHTML","diffProps","hydrate","checked","diffElementNodes","diffed","root","cb","current","parentVNode","skipRemove","r","componentWillUnmount","replaceNode","firstChild","cloneElement","$d2c7ae0b8a3c41ed$export$2e2bcd8739ae039","Node","ELEMENT_NODE","errorInfo","ctor","handled","getDerivedStateFromError","componentDidCatch","s","forceUpdate","$cbc618eb3e4ce5ac$export$2e2bcd8739ae039","element","_element","dir","$5c4749b328552743$export$2e2bcd8739ae039","uppy","getPluginState","setPluginState","addTarget","afterUpdate","$d7e3fbc920743e27$var$_classPrivateFieldLooseBase","$d7e3fbc920743e27$var$id","$d7e3fbc920743e27$var$_classPrivateFieldLooseKey","$d7e3fbc920743e27$var$_updateUI","$d7e3fbc920743e27$var$UIPlugin","getTargetPlugin","targetPlugin","Target","p","mount","callerPluginName","targetElement","querySelector","isTargetDOMEl","uppyRootElement","classList","calling","latestArgs","$d7e3fbc920743e27$var$debounce","$13c40c34b78c8ee2$export$b3890eb0ae9dca99","replaceTargetContent","el","direction","onMount","parent","_classPrivateFieldLoo2","_this$el","remove","onUnmount","$d7e3fbc920743e27$export$2e2bcd8739ae039","$25f952e3561be0e1$var$NetworkError","xhr","cause","isNetworkError","request","$25f952e3561be0e1$export$2e2bcd8739ae039","$60e473d132045414$export$2e2bcd8739ae039","fetch","$84794fa09056b321$var$ErrorWithCause","$84794fa09056b321$export$2e2bcd8739ae039","$07d211e7eaad990d$var$AuthError","isAuthError","$07d211e7eaad990d$export$2e2bcd8739ae039","$231abe6217ec0291$var$_Symbol$for","$231abe6217ec0291$var$_classPrivateFieldLooseBase","$231abe6217ec0291$var$id","$231abe6217ec0291$var$_classPrivateFieldLooseKey","$231abe6217ec0291$var$handleJSONResponse","res","status","jsonPromise","json","errMsg","statusText","errData","requestId","$231abe6217ec0291$var$_companionHeaders","$231abe6217ec0291$var$_getPostResponseFunc","$231abe6217ec0291$var$_getUrl","$231abe6217ec0291$var$_errorHandler","$231abe6217ec0291$export$2e2bcd8739ae039","$231abe6217ec0291$var$_errorHandler2","$231abe6217ec0291$var$_getUrl2","skip","onReceiveResponse","allowedHeaders","preflightDone","companionHeaders","setCompanionHeaders","headers","hostname","companion","host","companionUrl","defaultHeaders","has","get","preflight","path","headerName","preflightAndHeaders","all","header","skipPostResponse","credentials","companionCookiesRule","post","body","JSON","stringify","url","_err","Accept","$baf924b7e38f735d$export$8a8216c44337cd5","localStorage","setItem","$baf924b7e38f735d$export$f92dfeb71e9bb569","getItem","$baf924b7e38f735d$export$fe2d9b4e03920b4c","removeItem","$7d95025c5a5c8c37$export$2e2bcd8739ae039","charAt","toUpperCase","tokenKey","companionKeysParams","preAuthToken","getAuthToken","token","authHeaders","btoa","params","authenticated","setAuthToken","storage","fetchPreAuthToken","authUrl","queries","URLSearchParams","set","fileUrl","directory","_ref2","static","defaultOpts","serverUrl","serverPattern","companionAllowedHosts","URL","origin","$baf924b7e38f735d$exports","$a7198bfe5dc325b9$var$_Symbol$for","$a7198bfe5dc325b9$var$_Symbol$for2","$a7198bfe5dc325b9$var$_classPrivateFieldLooseBase","$a7198bfe5dc325b9$var$id","$a7198bfe5dc325b9$var$_classPrivateFieldLooseKey","$a7198bfe5dc325b9$var$_queued","$a7198bfe5dc325b9$var$_emitter","$a7198bfe5dc325b9$var$_isOpen","$a7198bfe5dc325b9$var$_socket","$a7198bfe5dc325b9$var$_handleMessage","$a7198bfe5dc325b9$export$2e2bcd8739ae039","parse","action","payload","autoOpen","open","isOpen","WebSocket","onopen","first","shift","send","onclose","onmessage","handler","$902d716efc9cbfc2$export$2e2bcd8739ae039","progressData","$6cbe13326f7078be$export$2e2bcd8739ae039","$cf2f85f9e33c0866$export$2e2bcd8739ae039","promises","resolutions","rejections","resolved","rejected","promise","$0ec9e6f48df9bac4$var$_classPrivateFieldLooseBase","$0ec9e6f48df9bac4$var$id","$0ec9e6f48df9bac4$var$_classPrivateFieldLooseKey","$0ec9e6f48df9bac4$var$_emitter","$0ec9e6f48df9bac4$var$_events","$0ec9e6f48df9bac4$export$2e2bcd8739ae039","$f86f2d7b95aede93$var$_classPrivateFieldLooseBase","$f86f2d7b95aede93$var$id","$f86f2d7b95aede93$var$_classPrivateFieldLooseKey","$f86f2d7b95aede93$var$_aliveTimer","$f86f2d7b95aede93$var$_isDone","$f86f2d7b95aede93$var$_onTimedOut","$f86f2d7b95aede93$var$_timeout","$f86f2d7b95aede93$export$2e2bcd8739ae039","timeout","timeoutHandler","done","$e9e08aa686829a96$var$_classPrivateFieldLooseBase","$e9e08aa686829a96$var$id","$e9e08aa686829a96$var$_classPrivateFieldLooseKey","$e9e08aa686829a96$var$createCancelError","$e9e08aa686829a96$var$_activeRequests","$e9e08aa686829a96$var$_queuedHandlers","$e9e08aa686829a96$var$_paused","$e9e08aa686829a96$var$_pauseTimer","$e9e08aa686829a96$var$_downLimit","$e9e08aa686829a96$var$_upperLimit","$e9e08aa686829a96$var$_rateLimitingTimer","$e9e08aa686829a96$var$_call","$e9e08aa686829a96$var$_queueNext","$e9e08aa686829a96$var$_next","$e9e08aa686829a96$var$_queue","$e9e08aa686829a96$var$_dequeue","$e9e08aa686829a96$var$_resume","$e9e08aa686829a96$var$_increaseLimit","$e9e08aa686829a96$export$32306e81289653bc","limit","$e9e08aa686829a96$var$_dequeue2","$e9e08aa686829a96$var$_queue2","$e9e08aa686829a96$var$_next2","$e9e08aa686829a96$var$_queueNext2","$e9e08aa686829a96$var$_call2","resume","ceil","Infinity","run","queueOptions","wrapPromiseFunction","_this","queuedRequest","outerPromise","cancelError","innerPromise","abort","pause","rateLimit","cancelActive","queueMicrotask","next","priority","$e9e08aa686829a96$export$603eb9c93e04437","$9dcf43d32b415c4f$export$2e2bcd8739ae039","readyState","$2989f7b1791006a8$export$2e2bcd8739ae039","timedOut","$031d3ed277981e1d$var$_classPrivateFieldLooseBase","$031d3ed277981e1d$var$id","$031d3ed277981e1d$var$_classPrivateFieldLooseKey","$031d3ed277981e1d$var$buildResponseError","$031d3ed277981e1d$var$setTypeInBlob","$031d3ed277981e1d$var$_queueRequestSocketToken","$031d3ed277981e1d$var$_requestSocketToken","$031d3ed277981e1d$export$2e2bcd8739ae039","getOptions","client","providerOptions","allowedMetaFields","protocol","endpoint","fieldname","fieldName","metadata","fromEntries","httpMethod","useFormData","formData","title","bundle","responseUrlFieldName","withCredentials","responseType","getResponseData","responseText","parsedResponse","getResponseError","_","validateStatus","handleUpload","requests","uploaderEvents","overrides","xhrUpload","addMetadata","append","createFormDataUpload","formPost","FormData","dataWithUpdatedType","createBundledUpload","XMLHttpRequest","timer","seconds","ev","loaded","lengthComputable","body1","currentOpts","setRequestHeader","onFileRemove","onCancelAll","serverToken","connectToServerSocket","socket","createSocket","resp","_socket","_socket2","_socket3","onRetryRequest","onRetry","onRetryAll","uploadBundle","optsFromState","emitError","uploadFiles","uploadRemote","targetFileID","eventHandler","$26204bb5f3dcd38f$export$2e2bcd8739ae039","fileProgress","timeElapsed","$df8b2a4d8e20c541$export$2e2bcd8739ae039","STATE_ERROR","STATE_WAITING","STATE_PREPROCESSING","STATE_UPLOADING","STATE_POSTPROCESSING","STATE_COMPLETE","$0986652ee5c1212d$export$2e2bcd8739ae039","progressValue","$383ff188911036f7$export$2e2bcd8739ae039","rawSeconds","hours","minutes","padStart","classNames","classes","argType","inner","$60313e3b9e75c852$exports","default","define","amd","$5efa5966561f5d57$export$8fd979504d9f59d1","uploadState","startUpload","uploadBtnClassNames","uploadBtnText","$13c40c34b78c8ee2$export$c8a8987d4410bf2d","className","onClick","disabled","$5efa5966561f5d57$export$d0263dca13d9e524","focusable","width","height","viewBox","d","$5efa5966561f5d57$export$bda6e5e4654fa168","fill","fillRule","cx","cy","$5efa5966561f5d57$export$f8fda1be68e432db","$5efa5966561f5d57$export$c5b3ad0eb3665a4a","doneButtonHandler","$5efa5966561f5d57$export$b08b517936747730","$5efa5966561f5d57$export$f10e066f2fffa2e8","roundedValue","$5efa5966561f5d57$var$FileUploadCount","complete","numUploads","$5efa5966561f5d57$var$UploadNewlyAddedFiles","$5efa5966561f5d57$var$ThrottledProgressDetails","totalUploadedSize","totalETA","ifShowFilesUploadedOfTotal","$5efa5966561f5d57$export$2d75d7371a967988","supportsUploadProgress","showProgressDetails","showUploadNewlyAddedFiles","$5efa5966561f5d57$export$8dc84f0e764ad25e","role","$5efa5966561f5d57$export$7331502eb9534bdb","errorMessage","alert","$420405d2f06e0ee8$var$STATE_ERROR","$420405d2f06e0ee8$var$STATE_WAITING","$420405d2f06e0ee8$var$STATE_PREPROCESSING","$420405d2f06e0ee8$var$STATE_UPLOADING","$420405d2f06e0ee8$var$STATE_POSTPROCESSING","$420405d2f06e0ee8$var$STATE_COMPLETE","$420405d2f06e0ee8$export$2e2bcd8739ae039","hideUploadButton","hidePauseResumeButton","hideCancelButton","hideRetryButton","hideAfterFinish","getProgressValue","isHidden","getIsHidden","showUploadBtn","showCancelBtn","showPauseResumeBtn","showRetryBtn","showDoneBtn","progressClassNames","getIsIndeterminate","$efbecb69363ea245$export$2e2bcd8739ae039","uploading","uploadFailed","paused","retry","filesUploadedOfTotal","dataUploadedOfTotal","xTimeLeft","uploadXFiles","uploadXNewFiles","xMoreFilesAdded","showErrorDetails","$31e59c33c4e115f4$var$getTotalSpeed","totalSpeed","$31e59c33c4e115f4$var$getUploadingState","$31e59c33c4e115f4$export$2e2bcd8739ae039","newFilesOrRecovered","totalBytesRemaining","$31e59c33c4e115f4$var$getTotalETA","$c8280c21c4957362$export$2e2bcd8739ae039","$13c40c34b78c8ee2$export$16fa2f45be04daa8","componentWillEnter","opacity","transform","componentWillLeave","$c9c288395efa1608$var$getChildMapping","fallback","_vnode$key","$c9c288395efa1608$var$mergeChildMappings","prev","getValueForKey","nextKeysPending","pendingKeys","prevKey","childMapping","nextKey","pendingNextKey","i1","$c9c288395efa1608$var$TransitionGroup","$13c40c34b78c8ee2$export$47e4c5b300681277","performAppear","performEnter","performLeave","currentlyTransitioningKeys","keysToAbortLeave","keysToEnter","keysToLeave","initialChildMapping","nextProps","nextChildMapping","prevChildMapping","hasPrev","hasNext","_finishAbort","componentWillAppear","_handleDoneAppearing","componentDidAppear","currentChildMapping","_handleDoneEntering","componentDidEnter","_handleDoneLeaving","componentDidLeave","childFactory","transitionLeave","transitionName","transitionAppear","transitionEnter","transitionLeaveTimeout","transitionEnterTimeout","transitionAppearTimeout","childrenToRender","entries","_ref3","cache","_ptgLinkedRefs","$c9c288395efa1608$var$linkRef","$13c40c34b78c8ee2$export$e530037191fcd5d7","$c9c288395efa1608$export$2e2bcd8739ae039","$77fc08aaff2b6818$export$2e2bcd8739ae039","$618099aebc652071$var$DATA_URL_PATTERN","$618099aebc652071$export$2e2bcd8739ae039","dataURI","toFile","_opts$mimeType","dataURIData","mimeType","binary","atob","decodeURIComponent","bytes","Uint8Array","Blob","$55c078da96a8922f$export$2e2bcd8739ae039","startsWith","$c5c838e4d811db84$export$2e2bcd8739ae039","$cfae44f0dfdf62c0$var$cachedSetTimeout","$cfae44f0dfdf62c0$var$cachedClearTimeout","$cfae44f0dfdf62c0$var$process","$cfae44f0dfdf62c0$exports","$cfae44f0dfdf62c0$var$defaultSetTimout","$cfae44f0dfdf62c0$var$defaultClearTimeout","$cfae44f0dfdf62c0$var$runTimeout","fun","e1","$cfae44f0dfdf62c0$var$currentQueue","$51861dfc7ca9d588$export$a143d493d941bafc","$eeb0961446aae8e3$export$d622b2ad8d90c771","$eeb0961446aae8e3$export$6100ba28696e12de","$cfae44f0dfdf62c0$var$queue","$cfae44f0dfdf62c0$var$draining","$cfae44f0dfdf62c0$var$queueIndex","$cfae44f0dfdf62c0$var$cleanUpNextTick","$cfae44f0dfdf62c0$var$drainQueue","len","marker","$cfae44f0dfdf62c0$var$runClearTimeout","$cfae44f0dfdf62c0$var$Item","array","$cfae44f0dfdf62c0$var$noop","nextTick","browser","env","argv","version","versions","addListener","removeListener","removeAllListeners","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","b64","lens","$eeb0961446aae8e3$var$getLens","validLen","placeHoldersLen","arr","$eeb0961446aae8e3$var$Arr","$eeb0961446aae8e3$var$_byteLength","curByte","$eeb0961446aae8e3$var$revLookup","uint8","extraBytes","maxChunkLength","len2","$eeb0961446aae8e3$var$encodeChunk","$eeb0961446aae8e3$var$lookup","$7221566bd4d49f44$export$aafa59e2e03f2942","$7221566bd4d49f44$export$68d8715fc104d294","$eeb0961446aae8e3$var$code","$eeb0961446aae8e3$var$i","$eeb0961446aae8e3$var$len","start","end","output","buffer","offset","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","abs","LN2","$51861dfc7ca9d588$var$customInspectSymbol","$51861dfc7ca9d588$var$Buffer","$51861dfc7ca9d588$var$createBuffer","RangeError","buf","setPrototypeOf","encodingOrOffset","$51861dfc7ca9d588$var$allocUnsafe","$51861dfc7ca9d588$var$from","encoding","isEncoding","$51861dfc7ca9d588$var$byteLength","actual","write","$51861dfc7ca9d588$var$fromString","ArrayBuffer","isView","arrayView","$51861dfc7ca9d588$var$isInstance","copy","$51861dfc7ca9d588$var$fromArrayBuffer","byteOffset","byteLength","$51861dfc7ca9d588$var$fromArrayLike","$51861dfc7ca9d588$var$fromArrayView","SharedArrayBuffer","from","isBuffer","$51861dfc7ca9d588$var$checked","$51861dfc7ca9d588$var$numberIsNaN","$51861dfc7ca9d588$var$fromObject","toPrimitive","$51861dfc7ca9d588$var$assertSize","mustMatch","loweredCase","$51861dfc7ca9d588$var$utf8ToBytes","$51861dfc7ca9d588$var$base64ToBytes","$51861dfc7ca9d588$var$slowToString","$51861dfc7ca9d588$var$hexSlice","$51861dfc7ca9d588$var$utf8Slice","$51861dfc7ca9d588$var$asciiSlice","$51861dfc7ca9d588$var$latin1Slice","$51861dfc7ca9d588$var$base64Slice","$51861dfc7ca9d588$var$utf16leSlice","$51861dfc7ca9d588$var$swap","$51861dfc7ca9d588$var$bidirectionalIndexOf","val","$51861dfc7ca9d588$var$arrayIndexOf","indexSize","arrLength","valLength","read","readUInt16BE","foundIndex","found","$51861dfc7ca9d588$var$hexWrite","remaining","strLen","parsed","substr","$51861dfc7ca9d588$var$utf8Write","$51861dfc7ca9d588$var$blitBuffer","$51861dfc7ca9d588$var$asciiWrite","str","byteArray","$51861dfc7ca9d588$var$asciiToBytes","$51861dfc7ca9d588$var$base64Write","$51861dfc7ca9d588$var$ucs2Write","hi","lo","$51861dfc7ca9d588$var$utf16leToBytes","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","codePoints","fromCharCode","$51861dfc7ca9d588$var$decodeCodePointsArray","TYPED_ARRAY_SUPPORT","proto","foo","$51861dfc7ca9d588$var$typedArraySupport","enumerable","poolSize","alloc","$51861dfc7ca9d588$var$alloc","allocUnsafe","allocUnsafeSlow","_isBuffer","compare","x","y","pos","swap16","swap32","swap64","toLocaleString","equals","inspect","thisStart","thisEnd","thisCopy","targetCopy","toJSON","_arr","ret","$51861dfc7ca9d588$var$hexSliceLookupTable","$51861dfc7ca9d588$var$checkOffset","ext","$51861dfc7ca9d588$var$checkInt","$51861dfc7ca9d588$var$wrtBigUInt64LE","$51861dfc7ca9d588$var$checkIntBI","BigInt","$51861dfc7ca9d588$var$wrtBigUInt64BE","$51861dfc7ca9d588$var$checkIEEE754","$51861dfc7ca9d588$var$writeFloat","littleEndian","noAssert","$51861dfc7ca9d588$var$writeDouble","newBuf","subarray","readUintLE","readUIntLE","mul","readUintBE","readUIntBE","readUint8","readUInt8","readUint16LE","readUInt16LE","readUint16BE","readUint32LE","readUInt32LE","readUint32BE","readUInt32BE","readBigUInt64LE","$51861dfc7ca9d588$var$defineBigIntMethod","$51861dfc7ca9d588$var$validateNumber","last","$51861dfc7ca9d588$var$boundsError","readBigUInt64BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readBigInt64LE","readBigInt64BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUintLE","writeUIntLE","writeUintBE","writeUIntBE","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","writeBigUInt64LE","writeBigUInt64BE","writeIntLE","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeBigInt64LE","writeBigInt64BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","code","$51861dfc7ca9d588$var$errors","$51861dfc7ca9d588$var$E","sym","getMessage","Base","configurable","$51861dfc7ca9d588$var$addNumericalSeparator","range","ERR_OUT_OF_RANGE","$51861dfc7ca9d588$var$checkBounds","ERR_INVALID_ARG_TYPE","ERR_BUFFER_OUT_OF_BOUNDS","msg","received","isInteger","$51861dfc7ca9d588$var$INVALID_BASE64_RE","leadSurrogate","$51861dfc7ca9d588$var$base64clean","src","dst","alphabet","table","i16","$51861dfc7ca9d588$var$BufferBigIntNotDefined","$11bbe7205e6e4f7d$var$e","t","$11bbe7205e6e4f7d$var$t","$11bbe7205e6e4f7d$var$s","$11bbe7205e6e4f7d$var$i","HTMLImageElement","$11bbe7205e6e4f7d$var$n","$11bbe7205e6e4f7d$var$r","Buffer","$11bbe7205e6e4f7d$var$a","$11bbe7205e6e4f7d$var$h","$11bbe7205e6e4f7d$var$f","Map","$11bbe7205e6e4f7d$var$l","$11bbe7205e6e4f7d$var$o","ifd0","enabled","exif","makerNote","userComment","gps","interop","ifd1","jfif","xmp","iptc","icc","$11bbe7205e6e4f7d$var$u","$11bbe7205e6e4f7d$var$d","TextDecoder","$11bbe7205e6e4f7d$var$c","le","DataView","_swapDataView","i2","t1","_swapArrayBuffer","_swapBuffer","dataView","_lengthToEnd","toUint8","getUint8Array","getString","decode","$11bbe7205e6e4f7d$require$Buffer","escape","getLatin1String","getUnicodeString","getUint16","getInt8","getUint8","getInt16","getInt32","getUint32","getFloat32","getFloat64","getFloat","getDouble","getUintBytes","getUint64","getUint","ensureChunk","$11bbe7205e6e4f7d$var$p","$11bbe7205e6e4f7d$var$g","kind","keyList","$11bbe7205e6e4f7d$export$38b5f466d5fcc8bf","$11bbe7205e6e4f7d$export$6a955225c92e4aaa","$11bbe7205e6e4f7d$export$fb2057e2a6c8a315","$11bbe7205e6e4f7d$var$w","$11bbe7205e6e4f7d$var$k","$11bbe7205e6e4f7d$var$v","$11bbe7205e6e4f7d$var$O","$11bbe7205e6e4f7d$export$e84bc691458bde89","arrayBuffer","$11bbe7205e6e4f7d$export$4a323a74110ff1de","FileReader","onloadend","onerror","readAsArrayBuffer","$11bbe7205e6e4f7d$var$U","tagKeys","allKeys","tagValues","allValues","$11bbe7205e6e4f7d$export$6912e8b6f5eb3e6f","s1","$11bbe7205e6e4f7d$export$896ef617af876a60","$11bbe7205e6e4f7d$export$8e537909b07488e","$11bbe7205e6e4f7d$export$c2c836dad3df12f4","$11bbe7205e6e4f7d$export$6c4cb12eaf2ea7d0","$11bbe7205e6e4f7d$export$7149d387a8ae9dae","$11bbe7205e6e4f7d$export$ddf42f53b1efd5e4","$11bbe7205e6e4f7d$export$27e01f77e7f7ec20","$11bbe7205e6e4f7d$export$6f649965440a3828","$11bbe7205e6e4f7d$export$eeb4956a156692fc","$11bbe7205e6e4f7d$export$912ba83a1473df43","$11bbe7205e6e4f7d$export$1d492f25001addd7","$11bbe7205e6e4f7d$export$7b2b4492d8e38622","$11bbe7205e6e4f7d$var$_","translateKeys","translateValues","reviveValues","$11bbe7205e6e4f7d$var$D","needed","deps","applyInheritables","canBeFiltered","dict","translateTagSet","pick","finalizeFilters","$11bbe7205e6e4f7d$var$X","$11bbe7205e6e4f7d$var$N","tiff","ihdr","multiSegment","sanitize","mergeOutput","silentErrors","chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit","$11bbe7205e6e4f7d$var$$","$11bbe7205e6e4f7d$export$c019608e5b5bb4cb","setupFromTrue","setupFromUndefined","setupFromArray","setupFromObject","filterNestedSegmentTags","traverseTiffDependencyTree","checkLoadedPlugins","setupGlobalFilters","image","thumbnail","$11bbe7205e6e4f7d$var$W","batchEnableWithBool","batchEnableWithUserValue","$11bbe7205e6e4f7d$var$K","e2","e3","t2","s2","onlyTiff","$11bbe7205e6e4f7d$export$49716bccf48734ca","useCached","setup","fileParser","canHandle","parsers","executeParsers","pushToErrors","assignToOutput","jpeg","getOrFindSegment","ensureSegmentChunk","extractThumbnail","$11bbe7205e6e4f7d$export$98e6a39c04603d36","$11bbe7205e6e4f7d$var$G","freeze","__proto__","Exifr","fileParsers","segmentParsers","fileReaders","tagRevivers","createDictionary","extendDictionary","fetchUrlAsArrayBuffer","readBlobAsArrayBuffer","chunkedProps","otherSegments","segments","tiffBlocks","segmentsAndBlocks","tiffExtractables","inheritables","allFormatters","Options","$11bbe7205e6e4f7d$var$J","headerLength","normalizeInput","globalOptions","localOptions","canTranslate","translated","translateBlock","h","r1","translateValue","DEFAULT","assignObjectToOutput","$11bbe7205e6e4f7d$var$q","$11bbe7205e6e4f7d$var$Q","$11bbe7205e6e4f7d$var$Z","$11bbe7205e6e4f7d$var$ee","available","readChunk","extendOptions","injectSegment","createParser","createParsers","findAppSegments","readSegments","appSegments","mergeMultiSegments","mergedAppSegments","setupSegmentFinderArgs","findAll","wanted","unfinishedMultiSegment","readWhole","findAppSegmentsInRange","canReadNextChunk","nextChunkOffset","n1","readNextChunk","u","findPosition","chunkNumber","chunkCount","recordUnknownSegments","unknownSegments","stopAfterSos","recordJpegSegments","jpegSegments","handleMultiSegments","getSegment","$11bbe7205e6e4f7d$var$te","$11bbe7205e6e4f7d$var$se","parseHeader","headerParsed","parseTags","h1","parseTag","endsWith","parseTagValue","Uint16Array","Uint32Array","Int8Array","Int16Array","Int32Array","Float32Array","Float64Array","$11bbe7205e6e4f7d$var$ie","parseIfd0Block","safeParse","createOutput","handleError","findIfd0Offset","ifd0Offset","findIfd1Offset","ifd1Offset","parseBlock","exifOffset","interopOffset","gpsOffset","unpack","$11bbe7205e6e4f7d$var$ne","parseExifBlock","ifd1Parsed","parseThumbnailBlock","$11bbe7205e6e4f7d$var$ae","$11bbe7205e6e4f7d$export$f2b943153c284c15","$11bbe7205e6e4f7d$export$2b341b095819135e","dimensionSwapped","scaleX","scaleY","deg","rad","PI","$11bbe7205e6e4f7d$export$5c1d5b5b7dabcc61","$11bbe7205e6e4f7d$export$58e4a0f8cbca5820","t3","t4","$11bbe7205e6e4f7d$export$2e1e9e0c5142c9d7","$11bbe7205e6e4f7d$export$b363cb15cbb91a1a","canvas","css","$11bbe7205e6e4f7d$var$be","$11bbe7205e6e4f7d$var$we","ranges","_tryExtend","_extend","uintView","$11bbe7205e6e4f7d$var$ke","$11bbe7205e6e4f7d$var$Oe","fullyRead","chunksRead","safeWrapAddress","_readChunk","readChunked","$828ff2408baa6db3$export$2e2bcd8739ae039","generatingThumbnails","$34e1baadef9f23af$var$canvasToBlob","quality","getContext","getImageData","toBlob","blob","toDataURL","$34e1baadef9f23af$export$2e2bcd8739ae039","onFileAdded","addToQueue","onCancelRequest","onFileRemoved","revokeObjectURL","onRestored","isRestored","onAllFilesRemoved","waitUntilAllProcessed","emitPreprocessCompleteForAll","queueProcessing","defaultThumbnailDimension","thumbnailType","thumbnailWidth","thumbnailHeight","waitForThumbnailsBeforeUpload","lazy","createThumbnail","targetWidth","targetHeight","originalUrl","createObjectURL","onload","Image","orientationPromise","orientation","dimensions","getProportionalDimensions","rotatedImage","w","rotate","scale","drawImage","$34e1baadef9f23af$var$rotateImage","resizeImage","img","rotation","aspect","ratio","maxSquare","maxSize","maxW","sqrt","maxH","$34e1baadef9f23af$var$protect","log2","sW","sH","setPreviewURL","processQueue","requestThumbnail","$82597ede3e6a1ffe$export$2e2bcd8739ae039","elements","querySelectorAll","$856296c3888f5129$export$2e2bcd8739ae039","$df609e7903369114$export$2e2bcd8739ae039","directoryReader","oldEntries","logDropError","onSuccess","readEntries","newEntries","$c0b42265ddfa4565$var$getAsFileSystemHandleFromEntry","entry","isFile","isDirectory","createReader","dirEntries","$c0b42265ddfa4565$var$createPromiseToAddFileOrParseDirectory","handle","$c0b42265ddfa4565$export$2e2bcd8739ae039","dataTransfer","items","_await$item$getAsFile","getAsFile","getAsFileSystemHandle","webkitGetAsEntry","lastResortFile","$7c992567e6004c4c$export$2e2bcd8739ae039","$fb9156e1367a0825$export$2e2bcd8739ae039","accumulator","$e111773323c0bcc0$var$safeIsNaN","$e111773323c0bcc0$var$areInputsEqual","newInputs","lastInputs","second","$e111773323c0bcc0$export$2e2bcd8739ae039","resultFn","isEqual","memoized","newArgs","_i","lastResult","clear","$e638fb67030e752d$export$2e2bcd8739ae039","$e61aedac45499e5b$export$2e2bcd8739ae039","dashboardEl","activeOverlayType","overlayEl","$75dfb29cf2361cd9$var$focusOnFirstNode","nodes","focus","preventDefault","$75dfb29cf2361cd9$export$f41e0874aee57111","activeOverlayEl","focusableNodes","focusedItemIndex","activeElement","contains","$75dfb29cf2361cd9$var$isFocusInOverlay","shiftKey","$75dfb29cf2361cd9$var$focusOnLastNode","$faa88de4f0afd1d0$var$reTrim","$faa88de4f0afd1d0$var$reIsBadHex","$faa88de4f0afd1d0$var$reIsBinary","$faa88de4f0afd1d0$var$reIsOctal","$faa88de4f0afd1d0$var$freeParseInt","$faa88de4f0afd1d0$var$freeGlobal","$faa88de4f0afd1d0$var$freeSelf","$faa88de4f0afd1d0$var$root","$faa88de4f0afd1d0$var$objectToString","$faa88de4f0afd1d0$var$nativeMax","$faa88de4f0afd1d0$var$nativeMin","$faa88de4f0afd1d0$var$now","$faa88de4f0afd1d0$var$isObject","$faa88de4f0afd1d0$var$toNumber","$faa88de4f0afd1d0$var$isObjectLike","$faa88de4f0afd1d0$var$isSymbol","$0570b051fac56090$export$2e2bcd8739ae039","lastFocusWasOnSuperFocusableEl","$faa88de4f0afd1d0$exports","isFocusInOverlay","superFocusableEl","preventScroll","firstEl","$ab367c1ca8c9f1e4$export$2e2bcd8739ae039","div","$09e6c7065644c50e$export$2e2bcd8739ae039","defaultChoice","color","icon","fileTypeGeneral","fileTypeSpecific","$678a25fccd56c859$export$2e2bcd8739ae039","alt","$62f888174df8dceb$exports","$e8ac2aaf9f2ad7df$export$2e2bcd8739ae039","toggleFileCard","metaFields","metaFieldsString","missingMetaField","metaFieldId","$e8ac2aaf9f2ad7df$var$metaFieldIdToName","fields","class","$e5a788f5477798b8$export$2e2bcd8739ae039","backgroundColor","showLinkToFileUploadResult","href","rel","hidden","$00b6c4ca47c16556$var$progressIndicatorTitle","isUploaded","$00b6c4ca47c16556$var$ProgressIndicatorButton","$00b6c4ca47c16556$var$onPauseResumeCancelRetry","$00b6c4ca47c16556$var$ProgressCircleContainer","$00b6c4ca47c16556$var$ProgressCircle","circleLength","$00b6c4ca47c16556$export$2e2bcd8739ae039","points","$16734673b53b5f56$exports","$45e0f096133c9352$export$2e2bcd8739ae039","maxLength","charsToShow","frontChars","backChars","$02ed48dea0eb823f$var$ErrorButton","$02ed48dea0eb823f$export$2e2bcd8739ae039","author","containerWidth","$02ed48dea0eb823f$var$renderFileName","providerName","$13c40c34b78c8ee2$export$ffb0004e005737fa","$02ed48dea0eb823f$var$renderAuthor","$02ed48dea0eb823f$var$renderFileSize","toggleAddFilesPanel","$02ed48dea0eb823f$var$ReSelectButton","$c544a26963a49cfa$var$EditButton","uploadInProgressOrComplete","canEditFile","$c544a26963a49cfa$var$RemoveButton","$c544a26963a49cfa$var$copyLinkToClipboard","textToCopy","fallbackString","textArea","position","top","left","padding","border","outline","boxShadow","background","select","magicCopyFailed","prompt","execCommand","$c544a26963a49cfa$var$CopyLinkButton","$c544a26963a49cfa$export$2e2bcd8739ae039","showRemoveButton","openFileEditor","$54d8c893437465e7$export$2e2bcd8739ae039","handleRequestThumbnail","handleCancelThumbnail","isProcessing","uploadInProgress","showRemoveButtonAfterComplete","acquirers","$b54827ccabc8c155$var$_extends","$b54827ccabc8c155$var$STYLE_INNER","minHeight","$b54827ccabc8c155$var$STYLE_CONTENT","overflow","$b54827ccabc8c155$export$2e2bcd8739ae039","handleScroll","scrollTop","handleResize","resize","focusElement","offsetHeight","rowHeight","renderRow","overscanCount","visibleRowCount","selection","styleInner","styleContent","onScroll","$02bf22f104afe6e1$var$_extends","$02bf22f104afe6e1$export$2e2bcd8739ae039","noFiles","totalFileCount","dashboardFilesClass","itemsPerRow","fileProps","isWide","file1","file2","rows","currentChunk","$02bf22f104afe6e1$var$chunks","row","$453b07faf7caa3cc$var$_Symbol$for","$453b07faf7caa3cc$export$2e2bcd8739ae039","triggerFileInputClick","fileInput","click","triggerFolderInputClick","folderInput","triggerVideoCameraInputClick","mobileVideoFileInput","triggerPhotoCameraInputClick","mobilePhotoFileInput","onFileInputChange","handleInputChange","renderHiddenInput","isFolder","refCallback","tabIndex","webkitdirectory","multiple","onChange","accept","renderHiddenCameraInput","nativeCameraFacingMode","photo","video","capture","renderMyDeviceAcquirer","renderPhotoCamera","renderVideoCamera","renderBrowseButton","onClickFn","renderDropPasteBrowseTagline","numberOfAcquirers","browseFiles","browseFolders","lowerFMSelectionType","fileManagerSelectionType","camelFMSelectionType","disableLocalFiles","browse","renderAcquirer","acquirer","activePickerPanel","showPanel","renderAcquirers","acquirersWithoutLastTwo","lastTwoAcquirers","renderSourcesList","showNativePhotoCameraButton","showNativeVideoCameraButton","renderPoweredByUppy","uppyBranding","note","proudlyDisplayPoweredByUppy","$e5680eb85c574aeb$export$2e2bcd8739ae039","showAddFilesPanel","$7f605b59c95cdeef$export$2e2bcd8739ae039","tagName","stopPropagation","$6785259313c399a0$export$2e2bcd8739ae039","hideAllPanels","onDragOver","onDragLeave","onDrop","onPaste","$65c78656a3d9986b$export$2e2bcd8739ae039","fileCardFor","saveFileEditor","editors","$a34b9d87152e8f1e$var$uploadStates","$a34b9d87152e8f1e$var$UploadStatus","uploadingState","$a34b9d87152e8f1e$var$getUploadingState","$a34b9d87152e8f1e$export$2e2bcd8739ae039","$8ec5650d6a19352d$export$2e2bcd8739ae039","form","updateMeta","newVal","formState","handleSave","saveFileCard","handleCancel","saveOnEnter","keyCode","renderMetaFields","getMetaFields","fieldCSSClasses","required","htmlFor","placeholder","onKeyUp","HTMLInputElement","onKeyDown","onKeyPress","onInput","_file","_metaFields","storedMetaData","showEditButton","HTMLButtonElement","$fd987ca5d8534f81$export$2e2bcd8739ae039","cachedChildren","cancelAnimationFrame","animationFrame","leaveTimeout","requestAnimationFrame","enterTimeout","$53c4c12cd2243933$var$_extends","$53c4c12cd2243933$export$2e2bcd8739ae039","isSizeMD","dashboardClassName","animateOpenClose","isClosing","isDraggingOver","inline","containerHeight","areInsidesReadyToBeVisible","showFileList","showSelectedFiles","numberOfFilesForRecovery","numberOfGhosts","theme","handlePaste","handleDragOver","handleDragLeave","handleDrop","handleClickOutside","closeModal","showFileEditor","progressindicators","$83bf71239c45f200$export$2e2bcd8739ae039","addMoreFiles","addingMoreFiles","importFrom","dashboardWindowTitle","dashboardTitle","copyLinkToClipboardSuccess","copyLinkToClipboardFallback","copyLink","back","editFile","editing","finishEditingFile","saveChanges","myDevice","dropHint","uploadPaused","resumeUpload","pauseUpload","cancelUpload","xFilesSelected","uploadingXFiles","processingXFiles","poweredBy","addMore","editFileWithFilename","save","dropPasteFiles","dropPasteFolders","dropPasteBoth","dropPasteImportFiles","dropPasteImportFolders","dropPasteImportBoth","importFiles","recoveredXFiles","recoveredAllFiles","sessionRestored","reSelect","takePictureBtn","recordVideoBtn","$f7ba039ea7358411$var$_classPrivateFieldLooseBase","$f7ba039ea7358411$var$id","$f7ba039ea7358411$var$_classPrivateFieldLooseKey","$f7ba039ea7358411$var$memoize","$f7ba039ea7358411$var$createPromise","$f7ba039ea7358411$var$defaultPickerIcon","$f7ba039ea7358411$var$_openFileEditorWhenFilesAdded","$f7ba039ea7358411$var$_attachRenderFunctionToTarget","$f7ba039ea7358411$var$_isTargetSupported","$f7ba039ea7358411$var$_getAcquirers","$f7ba039ea7358411$var$_getProgressIndicators","$f7ba039ea7358411$var$_getEditors","$f7ba039ea7358411$export$2e2bcd8739ae039","removeTarget","newTargets","targets","callerPluginId","callerPluginType","editor","selectFile","openModal","savedScrollPosition","pageYOffset","savedActiveElement","disablePageScrollWhenModalOpen","browserBackButtonClose","updateBrowserHistory","handleKeyDownInModal","manualClose","superFocus","_history$state","history","modalName","isModalOpen","requestCloseModal","onRequestCloseModal","setDarkModeCapability","isDarkModeOn","darkMode","handleSystemDarkModeChange","isDarkModeOnNow","show","descriptors","webkitRelativePath","startListeningToResize","resizeObserver","ResizeObserver","uppyDashboardInnerEl","contentRect","observe","makeDashboardInsidesVisibleAnywayTimeout","pluginState","isModalAndClosed","stopListeningToResize","disconnect","recordIfFocusedOnUppyRecently","ifFocusedOnUppyRecently","disableAllFocusableElements","disable","currentTabIndex","getAttribute","dataset","inertTabindex","dashboardIsDisabled","_history$state2","pushState","handlePopState","_event$state","closeModalOnClickOutside","handleRootPaste","clipboardData","_this$opts$onDragOver","_this$opts","somePluginCanHandleRootDrop","canHandleRootDrop","canSomePluginHandleRootDrop","hasFiles","doesEventHaveFiles","dropEffect","removeDragOverClassTimeout","_this$opts$onDragLeav","_this$opts2","_this$opts$onDrop","_this$opts3","handleRootDrop","executedDropErrorOnce","handleKeyDownInInline","$75dfb29cf2361cd9$export$66fd63158b65050a","handlePasteOnBody","handleComplete","closeAfterFinish","handleCancelRestore","firstFile","initEvents","trigger","showModalTrigger","autoOpenFileEditor","removeEvents","superFocusOnEachUpdate","isFocusInUppy","isFocusNowhere","isInformerHidden","isModal","defaultPickerIcon","isSupported","isMobileDevice","parentElement","discoverProviderPlugins","pluginID","disableStatusBar","hideProgressAfterFinish","disableInformer","disableThumbnailGenerator","darkModeMediaQuery","matchMedia","isDarkModeOnFromTheStart","informer","statusBar","$5942f41ed5468c56$export$2e2bcd8739ae039","$d7187febc304b4c8$var$_classPrivateFieldLooseBase","$d7187febc304b4c8$var$id","$d7187febc304b4c8$var$_classPrivateFieldLooseKey","$d7187febc304b4c8$var$insertReplacement","$d7187febc304b4c8$var$interpolate","$d7187febc304b4c8$var$_apply","$d7187febc304b4c8$export$2e2bcd8739ae039","$d7187febc304b4c8$var$_apply2","$d9d1db251b634ed5$exports","$0a93f09f81b35c90$export$ac4959f4f1338dfc","$f01fdcc58da366d7$var$reTrim","$f01fdcc58da366d7$var$reIsBadHex","$f01fdcc58da366d7$var$reIsBinary","$f01fdcc58da366d7$var$reIsOctal","$f01fdcc58da366d7$var$freeParseInt","$f01fdcc58da366d7$var$freeGlobal","$f01fdcc58da366d7$var$freeSelf","$f01fdcc58da366d7$var$root","$f01fdcc58da366d7$var$objectToString","$f01fdcc58da366d7$var$nativeMax","$f01fdcc58da366d7$var$nativeMin","$f01fdcc58da366d7$var$now","$f01fdcc58da366d7$var$debounce","$f01fdcc58da366d7$var$toNumber","$f01fdcc58da366d7$var$isObject","$f01fdcc58da366d7$var$isObjectLike","$f01fdcc58da366d7$var$isSymbol","$0e23f3543c8b905b$var$_classPrivateFieldLooseBase","$f01fdcc58da366d7$exports","$0e23f3543c8b905b$var$id","$0e23f3543c8b905b$var$_classPrivateFieldLooseKey","$0e23f3543c8b905b$var$_callbacks","$0e23f3543c8b905b$var$_publish","$0e23f3543c8b905b$var$DefaultStore","$0e23f3543c8b905b$var$_publish2","$0e23f3543c8b905b$export$2e2bcd8739ae039","$1b528313ca0d4c76$export$2e2bcd8739ae039","$e1d538aead38be0d$export$2e2bcd8739ae039","$4c07282dabda077b$export$2e2bcd8739ae039","$32e09fca9c79d86b$var$encodeFilename","$32e09fca9c79d86b$var$encodeCharacter","$32e09fca9c79d86b$export$2e2bcd8739ae039","$c96badb2308ac32e$export$2e2bcd8739ae039","$701e8c05fbc8beb9$export$2e2bcd8739ae039","$4dcda51505ca1ac4$var$pad","$4dcda51505ca1ac4$export$2e2bcd8739ae039","$5ee1a9f827ddd4ee$export$51086a57eba987c9","$5ee1a9f827ddd4ee$export$e6a390ea6399b7d8","$d892f3afba513a83$exports","$2ad1bd341fcd1fc1$var$WildcardMatcher","$2ad1bd341fcd1fc1$exports","$9c70f712924087e6$var$reMimePartSplit","$9c70f712924087e6$exports","$a4042bb5bdefd8cc$export$ba43bf67f3d48107","$a4042bb5bdefd8cc$export$e4d147272ce048a7","$a4042bb5bdefd8cc$export$c464a380a24dd3b8","$92ba938940510d61$export$2e2bcd8739ae039","$347f429305a9192f$var$_Symbol$for","$347f429305a9192f$var$_Symbol$for2","$347f429305a9192f$var$_classPrivateFieldLooseBase","$347f429305a9192f$var$id","$347f429305a9192f$var$_classPrivateFieldLooseKey","$347f429305a9192f$var$_plugins","$347f429305a9192f$var$_restricter","$347f429305a9192f$var$_storeUnsubscribe","$347f429305a9192f$var$_emitter","$347f429305a9192f$var$_preProcessors","$347f429305a9192f$var$_uploaders","$347f429305a9192f$var$_postProcessors","$347f429305a9192f$var$_informAndEmit","$347f429305a9192f$var$_checkRequiredMetaFieldsOnFile","$347f429305a9192f$var$_checkRequiredMetaFields","$347f429305a9192f$var$_assertNewUploadAllowed","$347f429305a9192f$var$_checkAndCreateFileStateObject","$347f429305a9192f$var$_startIfAutoProceed","$347f429305a9192f$var$_addListeners","$347f429305a9192f$var$_updateOnlineStatus","$347f429305a9192f$var$_createUpload","$347f429305a9192f$var$_getUpload","$347f429305a9192f$var$_removeUpload","$347f429305a9192f$var$_runUpload","$347f429305a9192f$var$Uppy","$347f429305a9192f$var$_runUpload2","$347f429305a9192f$var$_removeUpload2","$347f429305a9192f$var$_getUpload2","$347f429305a9192f$var$_createUpload2","$347f429305a9192f$var$_addListeners2","$347f429305a9192f$var$_startIfAutoProceed2","$347f429305a9192f$var$_checkAndCreateFileStateObject2","$347f429305a9192f$var$_assertNewUploadAllowed2","$347f429305a9192f$var$_checkRequiredMetaFields2","$347f429305a9192f$var$_checkRequiredMetaFieldsOnFile2","$347f429305a9192f$var$_informAndEmit2","$97b39b07b13b1fbd$export$2e2bcd8739ae039","$b4173ba9503f4104$export$2e2bcd8739ae039","$4b7c4b06e708e8de$export$2e2bcd8739ae039","$97727f09425e42f9$var$_classPrivateFieldLooseBase","$97727f09425e42f9$var$id","$97727f09425e42f9$var$_classPrivateFieldLooseKey","$97727f09425e42f9$var$_updateUI","$97727f09425e42f9$var$UIPlugin","$97727f09425e42f9$var$debounce","$aa74d33f53b73559$export$b3890eb0ae9dca99","$97727f09425e42f9$export$2e2bcd8739ae039","$d816a6adca28cb87$var$mimeToExtensions","$d816a6adca28cb87$export$2e2bcd8739ae039","$c770f2a812d88d3e$exports","$c770f2a812d88d3e$var$isMobile","isMobile","$c770f2a812d88d3e$var$mobileRE","$c770f2a812d88d3e$var$notMobileRE","$c770f2a812d88d3e$var$tabletRE","ua","tablet","featureDetect","maxTouchPoints","$7a69aef925ae595a$export$2e2bcd8739ae039","$ceae86cda63cb1a4$export$2e2bcd8739ae039","$aa74d33f53b73559$export$c8a8987d4410bf2d","$84ab96b1e35382b3$export$2e2bcd8739ae039","onSnapshot","$1c9d1f6445d95a2b$export$2e2bcd8739ae039","recording","onStartRecording","onStopRecording","$ab76b8fbfb4924e1$export$2e2bcd8739ae039","recordingLengthSeconds","formattedRecordingLengthSeconds","recording_length","$b227eb387b0b24bd$export$2e2bcd8739ae039","currentDeviceId","videoSources","onChangeVideoSource","videoSource","deviceId","selected","label","$d4d274f2289a61e1$export$2e2bcd8739ae039","onSubmit","xmlns","$321dd05fa691a1a6$export$2e2bcd8739ae039","onDiscard","$3f744b09afd0dc69$var$_extends","$3f744b09afd0dc69$var$isModeAvailable","modes","$3f744b09afd0dc69$export$2e2bcd8739ae039","$aa74d33f53b73559$export$16fa2f45be04daa8","onFocus","onStop","recordedVideo","supportsRecording","showVideoSourceDropdown","showRecordingLength","mirror","onDiscardRecordedVideo","hasRecordedVideo","shouldShowRecordButton","shouldShowSnapshotButton","shouldShowRecordingLength","shouldShowVideoSourceDropdown","videoProps","playsinline","muted","controls","videoElement","srcObject","autoplay","$37d87fa1d0dc40a8$export$2e2bcd8739ae039","hasCamera","$0cdc571f7e645bea$export$2e2bcd8739ae039","pluginNameCamera","noCameraTitle","noCameraDescription","recordingStoppedMaxSize","submitRecordedFile","discardRecordedFile","smile","takePicture","startRecording","stopRecording","recordingLength","allowAccessTitle","allowAccessDescription","$2f9158427dac07a8$var$_extends","$2f9158427dac07a8$var$_classPrivateFieldLooseBase","$2f9158427dac07a8$var$id","$2f9158427dac07a8$var$_classPrivateFieldLooseKey","$2f9158427dac07a8$var$toMimeType","$2f9158427dac07a8$var$isVideoMimeType","$2f9158427dac07a8$var$isImageMimeType","$2f9158427dac07a8$var$isModeAvailable","$2f9158427dac07a8$var$_enableMirror","mediaDevices","supportsUserMedia","location","capturedMediaFile","onBeforeSnapshot","countdown","facingMode","videoConstraints","preferredImageMimeType","preferredVideoMimeType","mobileNativeCamera","stop","takeSnapshot","discardRecordedVideo","submit","oneTwoThreeSmile","changeVideoSource","webcamActive","cameraReady","cameraError","hasCameraCheck","enumerateDevices","devices","device","isAudioOnly","getConstraints","acceptsAudio","acceptsVideo","audio","constraints","getUserMedia","stream","tracks","getAudioTracks","getVideoTracks","track","getSettings","updateVideoSources","getMediaRecorderOptions","MediaRecorder","isTypeSupported","preferredVideoMimeTypes","filterSupportedTypes","candidateType","acceptableMimeTypes","recorder","recordingChunks","stoppingBecauseOfMaxSize","expectedEndChunkSize","recordingLengthTimer","setInterval","currentRecordingLength","isRecording","clearInterval","getVideo","audioTracks","videoTracks","getVideoElement","countDown","captureInProgress","getImage","tagFile","videoWidth","videoHeight","preferredImageMimeTypes","_blob$type","webcamState","_this$getTargetPlugin","ondevicechange","restartStream","link","li","getElementById"],"version":3,"file":"index.e176d1e3.js.map"}